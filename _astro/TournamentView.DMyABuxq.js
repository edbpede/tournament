import{a as Hr,b as xt,e as fe,j as a,f as gn,h as Mn,P as Q,k as _,l as Pn,m as we,n as qe,c as A,S as Yr,o as Xr,p as Vr,u as Je,T as Gr,r as $e,R as Kr,C as qr,q as Jr,t as Qr,v as Zr,O as eo,B as Ce,w as to,s as no}from"./TournamentApp.BCA-SOLy.js";import{c as P,r as c}from"./index.DXA_EoSs.js";import{a as ro,r as oo}from"./factory.DyD-ZW2I.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ao=Hr("x",so);function io(e){const t=e+"CollectionProvider",[n,r]=xt(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=w=>{const{scope:v,children:C}=w,m=P.useRef(null),b=P.useRef(new Map).current;return a.jsx(o,{scope:v,itemMap:b,collectionRef:m,children:C})};i.displayName=t;const l=e+"CollectionSlot",u=gn(l),h=P.forwardRef((w,v)=>{const{scope:C,children:m}=w,b=s(l,C),y=fe(v,b.collectionRef);return a.jsx(u,{ref:y,children:m})});h.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",g=gn(f),p=P.forwardRef((w,v)=>{const{scope:C,children:m,...b}=w,y=P.useRef(null),N=fe(v,y),R=s(f,C);return P.useEffect(()=>(R.itemMap.set(y,{ref:y,...b}),()=>void R.itemMap.delete(y))),a.jsx(g,{[d]:"",ref:N,children:m})});p.displayName=f;function x(w){const v=s(e+"CollectionConsumer",w);return P.useCallback(()=>{const m=v.collectionRef.current;if(!m)return[];const b=Array.from(m.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((R,E)=>b.indexOf(R.ref.current)-b.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:h,ItemSlot:p},x,r]}var lo=c.createContext(void 0);function Yt(e){const t=c.useContext(lo);return e||t||"ltr"}var It="rovingFocusGroup.onEntryFocus",co={bubbles:!1,cancelable:!0},Qe="RovingFocusGroup",[Ft,kn,uo]=io(Qe),[fo,Ln]=xt(Qe,[uo]),[ho,go]=fo(Qe),On=c.forwardRef((e,t)=>a.jsx(Ft.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Ft.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(po,{...e,ref:t})})}));On.displayName=Qe;var po=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...d}=e,g=c.useRef(null),p=fe(t,g),x=Yt(s),[w,v]=Pn({prop:i,defaultProp:l??null,onChange:u,caller:Qe}),[C,m]=c.useState(!1),b=we(h),y=kn(n),N=c.useRef(!1),[R,E]=c.useState(0);return c.useEffect(()=>{const j=g.current;if(j)return j.addEventListener(It,b),()=>j.removeEventListener(It,b)},[b]),a.jsx(ho,{scope:n,orientation:r,dir:x,loop:o,currentTabStopId:w,onItemFocus:c.useCallback(j=>v(j),[v]),onItemShiftTab:c.useCallback(()=>m(!0),[]),onFocusableItemAdd:c.useCallback(()=>E(j=>j+1),[]),onFocusableItemRemove:c.useCallback(()=>E(j=>j-1),[]),children:a.jsx(Q.div,{tabIndex:C||R===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:_(e.onMouseDown,()=>{N.current=!0}),onFocus:_(e.onFocus,j=>{const S=!N.current;if(j.target===j.currentTarget&&S&&!C){const D=new CustomEvent(It,co);if(j.currentTarget.dispatchEvent(D),!D.defaultPrevented){const T=y().filter(G=>G.focusable),z=T.find(G=>G.active),U=T.find(G=>G.id===w),ye=[z,U,...T].filter(Boolean).map(G=>G.ref.current);zn(ye,f)}}N.current=!1}),onBlur:_(e.onBlur,()=>m(!1))})})}),Fn="RovingFocusGroupItem",_n=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:i,...l}=e,u=Mn(),h=s||u,f=go(Fn,n),d=f.currentTabStopId===h,g=kn(n),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:w}=f;return c.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),a.jsx(Ft.ItemSlot,{scope:n,id:h,focusable:r,active:o,children:a.jsx(Q.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:_(e.onMouseDown,v=>{r?f.onItemFocus(h):v.preventDefault()}),onFocus:_(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:_(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){f.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const C=bo(v,f.orientation,f.dir);if(C!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=g().filter(y=>y.focusable).map(y=>y.ref.current);if(C==="last")b.reverse();else if(C==="prev"||C==="next"){C==="prev"&&b.reverse();const y=b.indexOf(v.currentTarget);b=f.loop?xo(b,y+1):b.slice(y+1)}setTimeout(()=>zn(b))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:w!=null}):i})})});_n.displayName=Fn;var vo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mo(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function bo(e,t,n){const r=mo(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return vo[r]}function zn(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function xo(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var wo=On,yo=_n,wt="Tabs",[So]=xt(wt,[Ln]),Bn=Ln(),[Co,Xt]=So(wt),Wn=c.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:s,orientation:i="horizontal",dir:l,activationMode:u="automatic",...h}=e,f=Yt(l),[d,g]=Pn({prop:r,onChange:o,defaultProp:s??"",caller:wt});return a.jsx(Co,{scope:n,baseId:Mn(),value:d,onValueChange:g,orientation:i,dir:f,activationMode:u,children:a.jsx(Q.div,{dir:f,"data-orientation":i,...h,ref:t})})});Wn.displayName=wt;var $n="TabsList",Un=c.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,s=Xt($n,n),i=Bn(n);return a.jsx(wo,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(Q.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:t})})});Un.displayName=$n;var Hn="TabsTrigger",Yn=c.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...s}=e,i=Xt(Hn,n),l=Bn(n),u=Gn(i.baseId,r),h=Kn(i.baseId,r),f=r===i.value;return a.jsx(yo,{asChild:!0,...l,focusable:!o,active:f,children:a.jsx(Q.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...s,ref:t,onMouseDown:_(e.onMouseDown,d=>{!o&&d.button===0&&d.ctrlKey===!1?i.onValueChange(r):d.preventDefault()}),onKeyDown:_(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(r)}),onFocus:_(e.onFocus,()=>{const d=i.activationMode!=="manual";!f&&!o&&d&&i.onValueChange(r)})})})});Yn.displayName=Hn;var Xn="TabsContent",Vn=c.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:s,...i}=e,l=Xt(Xn,n),u=Gn(l.baseId,r),h=Kn(l.baseId,r),f=r===l.value,d=c.useRef(f);return c.useEffect(()=>{const g=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(qe,{present:o||f,children:({present:g})=>a.jsx(Q.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:h,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:g&&s})})});Vn.displayName=Xn;function Gn(e,t){return`${e}-trigger-${t}`}function Kn(e,t){return`${e}-content-${t}`}var No=Wn,Ro=Un,jo=Yn,Eo=Vn;function Do({className:e,...t}){return a.jsx(No,{"data-slot":"tabs",className:A("flex flex-col gap-2",e),...t})}function To({className:e,...t}){return a.jsx(Ro,{"data-slot":"tabs-list",className:A("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function At({className:e,...t}){return a.jsx(jo,{"data-slot":"tabs-trigger",className:A("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Mt({className:e,...t}){return a.jsx(Eo,{"data-slot":"tabs-content",className:A("flex-1 outline-none",e),...t})}function Io({className:e,...t}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:A("w-full caption-bottom text-sm",e),...t})})}function Ao({className:e,...t}){return a.jsx("thead",{"data-slot":"table-header",className:A("[&_tr]:border-b",e),...t})}function Mo({className:e,...t}){return a.jsx("tbody",{"data-slot":"table-body",className:A("[&_tr:last-child]:border-0",e),...t})}function pn({className:e,...t}){return a.jsx("tr",{"data-slot":"table-row",className:A("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function it({className:e,...t}){return a.jsx("th",{"data-slot":"table-head",className:A("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function lt({className:e,...t}){return a.jsx("td",{"data-slot":"table-cell",className:A("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function ft({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:A("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}const Po=Xr("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function W({className:e,variant:t,asChild:n=!1,...r}){const o=n?Yr:"span";return a.jsx(o,{"data-slot":"badge",className:A(Po({variant:t}),e),...r})}function ko(e,[t,n]){return Math.min(n,Math.max(t,e))}function Lo(e,t){return c.useReducer((n,r)=>t[n][r]??n,e)}var Vt="ScrollArea",[qn]=xt(Vt),[Oo,Z]=qn(Vt),Jn=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...i}=e,[l,u]=c.useState(null),[h,f]=c.useState(null),[d,g]=c.useState(null),[p,x]=c.useState(null),[w,v]=c.useState(null),[C,m]=c.useState(0),[b,y]=c.useState(0),[N,R]=c.useState(!1),[E,j]=c.useState(!1),S=fe(t,T=>u(T)),D=Yt(o);return a.jsx(Oo,{scope:n,type:r,dir:D,scrollHideDelay:s,scrollArea:l,viewport:h,onViewportChange:f,content:d,onContentChange:g,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:R,scrollbarY:w,onScrollbarYChange:v,scrollbarYEnabled:E,onScrollbarYEnabledChange:j,onCornerWidthChange:m,onCornerHeightChange:y,children:a.jsx(Q.div,{dir:D,...i,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});Jn.displayName=Vt;var Qn="ScrollAreaViewport",Zn=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,i=Z(Qn,n),l=c.useRef(null),u=fe(t,l,i.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),a.jsx(Q.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Zn.displayName=Qn;var ae="ScrollAreaScrollbar",er=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Z(ae,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,l=e.orientation==="horizontal";return c.useEffect(()=>(l?s(!0):i(!0),()=>{l?s(!1):i(!1)}),[l,s,i]),o.type==="hover"?a.jsx(Fo,{...r,ref:t,forceMount:n}):o.type==="scroll"?a.jsx(_o,{...r,ref:t,forceMount:n}):o.type==="auto"?a.jsx(tr,{...r,ref:t,forceMount:n}):o.type==="always"?a.jsx(Gt,{...r,ref:t}):null});er.displayName=ae;var Fo=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Z(ae,e.__scopeScrollArea),[s,i]=c.useState(!1);return c.useEffect(()=>{const l=o.scrollArea;let u=0;if(l){const h=()=>{window.clearTimeout(u),i(!0)},f=()=>{u=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",h),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",h),l.removeEventListener("pointerleave",f)}}},[o.scrollArea,o.scrollHideDelay]),a.jsx(qe,{present:n||s,children:a.jsx(tr,{"data-state":s?"visible":"hidden",...r,ref:t})})}),_o=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Z(ae,e.__scopeScrollArea),s=e.orientation==="horizontal",i=St(()=>u("SCROLL_END"),100),[l,u]=Lo("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(l==="idle"){const h=window.setTimeout(()=>u("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(h)}},[l,o.scrollHideDelay,u]),c.useEffect(()=>{const h=o.viewport,f=s?"scrollLeft":"scrollTop";if(h){let d=h[f];const g=()=>{const p=h[f];d!==p&&(u("SCROLL"),i()),d=p};return h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[o.viewport,s,u,i]),a.jsx(qe,{present:n||l!=="hidden",children:a.jsx(Gt,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:_(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:_(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),tr=c.forwardRef((e,t)=>{const n=Z(ae,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,i]=c.useState(!1),l=e.orientation==="horizontal",u=St(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?h:f)}},10);return Ae(n.viewport,u),Ae(n.content,u),a.jsx(qe,{present:r||s,children:a.jsx(Gt,{"data-state":s?"visible":"hidden",...o,ref:t})})}),Gt=c.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=Z(ae,e.__scopeScrollArea),s=c.useRef(null),i=c.useRef(0),[l,u]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=ar(l.viewport,l.content),f={...r,sizes:l,onSizesChange:u,hasThumb:h>0&&h<1,onThumbChange:g=>s.current=g,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:g=>i.current=g};function d(g,p){return Ho(g,i.current,l,p)}return n==="horizontal"?a.jsx(zo,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const g=o.viewport.scrollLeft,p=vn(g,l,o.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollLeft=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollLeft=d(g,o.dir))}}):n==="vertical"?a.jsx(Bo,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const g=o.viewport.scrollTop,p=vn(g,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollTop=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollTop=d(g))}}):null}),zo=c.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Z(ae,e.__scopeScrollArea),[i,l]=c.useState(),u=c.useRef(null),h=fe(t,u,s.onScrollbarXChange);return c.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),a.jsx(rr,{"data-orientation":"horizontal",...o,ref:h,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yt(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(s.viewport){const g=s.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),lr(g,d)&&f.preventDefault()}},onResize:()=>{u.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:gt(i.paddingLeft),paddingEnd:gt(i.paddingRight)}})}})}),Bo=c.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Z(ae,e.__scopeScrollArea),[i,l]=c.useState(),u=c.useRef(null),h=fe(t,u,s.onScrollbarYChange);return c.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),a.jsx(rr,{"data-orientation":"vertical",...o,ref:h,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yt(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(s.viewport){const g=s.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),lr(g,d)&&f.preventDefault()}},onResize:()=>{u.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:gt(i.paddingTop),paddingEnd:gt(i.paddingBottom)}})}})}),[Wo,nr]=qn(ae),rr=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:h,onWheelScroll:f,onResize:d,...g}=e,p=Z(ae,n),[x,w]=c.useState(null),v=fe(t,S=>w(S)),C=c.useRef(null),m=c.useRef(""),b=p.viewport,y=r.content-r.viewport,N=we(f),R=we(u),E=St(d,10);function j(S){if(C.current){const D=S.clientX-C.current.left,T=S.clientY-C.current.top;h({x:D,y:T})}}return c.useEffect(()=>{const S=D=>{const T=D.target;x?.contains(T)&&N(D,y)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[b,x,y,N]),c.useEffect(R,[r,R]),Ae(x,E),Ae(p.content,E),a.jsx(Wo,{scope:n,scrollbar:x,hasThumb:o,onThumbChange:we(s),onThumbPointerUp:we(i),onThumbPositionChange:R,onThumbPointerDown:we(l),children:a.jsx(Q.div,{...g,ref:v,style:{position:"absolute",...g.style},onPointerDown:_(e.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),C.current=x.getBoundingClientRect(),m.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),j(S))}),onPointerMove:_(e.onPointerMove,j),onPointerUp:_(e.onPointerUp,S=>{const D=S.target;D.hasPointerCapture(S.pointerId)&&D.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=m.current,p.viewport&&(p.viewport.style.scrollBehavior=""),C.current=null})})})}),ht="ScrollAreaThumb",or=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=nr(ht,e.__scopeScrollArea);return a.jsx(qe,{present:n||o.hasThumb,children:a.jsx($o,{ref:t,...r})})}),$o=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=Z(ht,n),i=nr(ht,n),{onThumbPositionChange:l}=i,u=fe(t,d=>i.onThumbChange(d)),h=c.useRef(void 0),f=St(()=>{h.current&&(h.current(),h.current=void 0)},100);return c.useEffect(()=>{const d=s.viewport;if(d){const g=()=>{if(f(),!h.current){const p=Yo(d,l);h.current=p,l()}};return l(),d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[s.viewport,f,l]),a.jsx(Q.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:_(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),x=d.clientX-p.left,w=d.clientY-p.top;i.onThumbPointerDown({x,y:w})}),onPointerUp:_(e.onPointerUp,i.onThumbPointerUp)})});or.displayName=ht;var Kt="ScrollAreaCorner",sr=c.forwardRef((e,t)=>{const n=Z(Kt,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(Uo,{...e,ref:t}):null});sr.displayName=Kt;var Uo=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=Z(Kt,n),[s,i]=c.useState(0),[l,u]=c.useState(0),h=!!(s&&l);return Ae(o.scrollbarX,()=>{const f=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(f),u(f)}),Ae(o.scrollbarY,()=>{const f=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(f),i(f)}),h?a.jsx(Q.div,{...r,ref:t,style:{width:s,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function gt(e){return e?parseInt(e,10):0}function ar(e,t){const n=e/t;return isNaN(n)?0:n}function yt(e){const t=ar(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Ho(e,t,n,r="ltr"){const o=yt(n),s=o/2,i=t||s,l=o-i,u=n.scrollbar.paddingStart+i,h=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,d=r==="ltr"?[0,f]:[f*-1,0];return ir([u,h],d)(e)}function vn(e,t,n="ltr"){const r=yt(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,l=s-r,u=n==="ltr"?[0,i]:[i*-1,0],h=ko(e,u);return ir([0,i],[0,l])(h)}function ir(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function lr(e,t){return e>0&&e<t}var Yo=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,l=n.top!==s.top;(i||l)&&t(),n=s,r=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(r)};function St(e,t){const n=we(e),r=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),c.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ae(e,t){const n=we(t);Vr(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var Xo=Jn,Vo=Zn,Go=sr;function cr({className:e,children:t,...n}){return a.jsxs(Xo,{"data-slot":"scroll-area",className:A("relative",e),...n,children:[a.jsx(Vo,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),a.jsx(Ko,{}),a.jsx(Go,{})]})}function Ko({className:e,orientation:t="vertical",...n}){return a.jsx(er,{"data-slot":"scroll-area-scrollbar",orientation:t,className:A("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:a.jsx(or,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var qo="Separator",mn="horizontal",Jo=["horizontal","vertical"],dr=c.forwardRef((e,t)=>{const{decorative:n,orientation:r=mn,...o}=e,s=Qo(r)?r:mn,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(Q.div,{"data-orientation":s,...l,...o,ref:t})});dr.displayName=qo;function Qo(e){return Jo.includes(e)}var Zo=dr;function _t({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return a.jsx(Zo,{"data-slot":"separator",decorative:n,orientation:t,className:A("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function zt(e){const t=new Map;e.forEach(r=>{const o=r.round||1;t.has(o)||t.set(o,[]),t.get(o).push(r)});const n=[];return t.forEach((r,o)=>{n.push({round:o,matches:r.sort((s,i)=>(s.matchNumber||0)-(i.matchNumber||0))})}),n.sort((r,o)=>r.round-o.round)}function ur(e,t){return e===t?"Finals":e===t-1?"Semifinals":e===t-2?"Quarterfinals":`Round ${e}`}function es({bracket:e,thirdPlaceMatch:t,participants:n,onMatchClick:r}){const{t:o}=Je(),s=zt(e),i=s.length,l=c.useMemo(()=>new Map(n.map(g=>[g.id,g])),[n]),u=g=>l.get(g)?.name||"TBD",h=g=>l.get(g)?.seed,f=g=>g.status==="completed"?"border-green-500 bg-green-50":g.participantIds.length>=2?"border-blue-500 hover:border-blue-600 cursor-pointer":"border-gray-300",d=(g,p)=>g.result?.winnerId===p;return a.jsx("div",{className:"w-full h-full",children:a.jsx(cr,{className:"w-full h-[calc(100vh-300px)] md:h-[calc(100vh-280px)]",children:a.jsxs("div",{className:"p-4 md:p-6",children:[a.jsx("div",{className:"md:hidden mb-4 text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:"← Scroll horizontally to view all rounds →"})}),a.jsx("div",{className:"flex gap-4 md:gap-8 min-w-max pb-4",children:s.map((g,p)=>a.jsxs("div",{className:"flex flex-col justify-around min-w-[200px] md:min-w-[240px]",children:[a.jsx("div",{className:"mb-4 text-center",children:a.jsx(W,{variant:"outline",className:"text-xs md:text-sm font-semibold",children:ur(g.round,i)})}),a.jsx("div",{className:"flex flex-col justify-around gap-3 md:gap-4 flex-1",children:g.matches.map((x,w)=>a.jsxs("div",{className:"relative",style:{marginTop:p>0?`${w*20}px`:"0"},children:[a.jsxs(ft,{className:A("p-2 md:p-3 transition-all touch-manipulation",f(x)),onClick:()=>{x.participantIds.length>=2&&x.status!=="completed"&&r(x)},children:[a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",x.matchNumber]}),a.jsx("div",{className:"space-y-2",children:x.participantIds.length===0?a.jsx("div",{className:"text-sm text-gray-400 italic",children:"Waiting..."}):x.participantIds.length===1?a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:u(x.participantIds[0])}),a.jsx(W,{variant:"secondary",className:"ml-2 text-xs",children:"BYE"})]}):x.participantIds.map(v=>{const C=h(v),m=d(x,v);return a.jsxs("div",{className:A("flex items-center justify-between text-sm p-2 rounded",m&&"bg-green-100 font-semibold",!m&&x.status==="completed"&&"opacity-50"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[C&&a.jsxs("span",{className:"text-xs text-gray-500 font-mono w-6",children:["(",C,")"]}),a.jsx("span",{className:A(m&&"font-semibold"),children:u(v)})]}),m&&a.jsx("span",{className:"text-green-600 font-bold",children:"✓"})]},v)})})]}),p<s.length-1&&a.jsx("div",{className:"absolute top-1/2 -right-4 md:-right-8 w-4 md:w-8 h-0.5 bg-gray-300"})]},x.id))})]},g.round))}),t&&a.jsxs(a.Fragment,{children:[a.jsx(_t,{className:"my-8"}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"mb-4 text-center",children:a.jsx(W,{variant:"outline",className:"text-sm font-semibold",children:"Third Place Match"})}),a.jsxs(ft,{className:A("p-3 transition-all",f(t)),onClick:()=>{t.participantIds.length>=2&&t.status!=="completed"&&r(t)},children:[a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",t.matchNumber]}),a.jsx("div",{className:"space-y-2",children:t.participantIds.map(g=>{const p=h(g),x=d(t,g);return a.jsxs("div",{className:A("flex items-center justify-between text-sm p-2 rounded",x&&"bg-green-100 font-semibold",!x&&t.status==="completed"&&"opacity-50"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[p&&a.jsxs("span",{className:"text-xs text-gray-500 font-mono w-6",children:["(",p,")"]}),a.jsx("span",{className:A(x&&"font-semibold"),children:u(g)})]}),x&&a.jsx("span",{className:"text-green-600 font-bold",children:"✓"})]},g)})})]})]})]})]})})})}function ts({winnersBracket:e,losersBracket:t,grandFinal:n,grandFinalReset:r,participants:o,onMatchClick:s}){const{t:i}=Je(),l=zt(e),u=zt(t),h=c.useMemo(()=>new Map(o.map(v=>[v.id,v])),[o]),f=v=>h.get(v)?.name||"TBD",d=v=>h.get(v)?.seed,g=v=>v.status==="completed"?"border-green-500 bg-green-50":v.participantIds.length>=2?"border-blue-500 hover:border-blue-600 cursor-pointer":"border-gray-300",p=(v,C)=>v.result?.winnerId===C,x=(v,C=!0)=>a.jsxs(ft,{className:A("p-2 md:p-3 transition-all touch-manipulation",g(v)),onClick:()=>{v.participantIds.length>=2&&v.status!=="completed"&&s(v)},children:[C&&a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",v.matchNumber]}),a.jsx("div",{className:"space-y-2",children:v.participantIds.length===0?a.jsx("div",{className:"text-sm text-gray-400 italic",children:"Waiting..."}):v.participantIds.length===1?a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:f(v.participantIds[0])}),a.jsx(W,{variant:"secondary",className:"ml-2 text-xs",children:"BYE"})]}):v.participantIds.map(m=>{const b=d(m),y=p(v,m);return a.jsxs("div",{className:A("flex items-center justify-between text-sm p-2 rounded",y&&"bg-green-100 font-semibold",!y&&v.status==="completed"&&"opacity-50"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[b&&a.jsxs("span",{className:"text-xs text-gray-500 font-mono w-6",children:["(",b,")"]}),a.jsx("span",{className:A(y&&"font-semibold"),children:f(m)})]}),y&&a.jsx("span",{className:"text-green-600 font-bold",children:"✓"})]},m)})})]}),w=(v,C,m="default")=>a.jsxs("div",{className:"mb-6 md:mb-8",children:[a.jsx("div",{className:"mb-4",children:a.jsx(W,{variant:m,className:"text-sm md:text-base font-bold px-3 md:px-4 py-1",children:C})}),a.jsx("div",{className:"flex gap-4 md:gap-8 min-w-max pb-4",children:v.map((b,y)=>a.jsxs("div",{className:"flex flex-col justify-around min-w-[200px] md:min-w-[240px]",children:[a.jsx("div",{className:"mb-4 text-center",children:a.jsx(W,{variant:"outline",className:"text-xs md:text-sm font-semibold",children:ur(b.round,v.length)})}),a.jsx("div",{className:"flex flex-col justify-around gap-3 md:gap-4 flex-1",children:b.matches.map((N,R)=>a.jsxs("div",{className:"relative",style:{marginTop:y>0?`${R*20}px`:"0"},children:[x(N),y<v.length-1&&a.jsx("div",{className:"absolute top-1/2 -right-4 md:-right-8 w-4 md:w-8 h-0.5 bg-gray-300"})]},N.id))})]},b.round))})]});return a.jsx("div",{className:"w-full h-full",children:a.jsx(cr,{className:"w-full h-[calc(100vh-300px)] md:h-[calc(100vh-280px)]",children:a.jsxs("div",{className:"p-4 md:p-6",children:[a.jsx("div",{className:"md:hidden mb-4 text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:"← Scroll horizontally to view all rounds →"})}),l.length>0&&w(l,"Winners Bracket","default"),u.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(_t,{className:"my-8"}),w(u,"Losers Bracket","secondary")]}),n&&a.jsxs(a.Fragment,{children:[a.jsx(_t,{className:"my-8"}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"mb-4 text-center",children:a.jsxs(W,{className:"text-base font-bold px-4 py-1 bg-yellow-500 hover:bg-yellow-600 gap-2",children:[a.jsx(Gr,{className:"w-5 h-5"}),"Grand Finals"]})}),x(n,!1),r&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"mb-2 text-center",children:a.jsx(W,{variant:"outline",className:"text-sm font-semibold",children:"Grand Finals - Reset"})}),x(r,!1)]})]})]})]})})})}function ns({matches:e,participants:t,onMatchClick:n,groupByRounds:r=!1,showRoundHeaders:o=!1}){const{t:s}=Je(),i=c.useMemo(()=>new Map(t.map(d=>[d.id,d])),[t]),l=d=>i.get(d)?.name||"Unknown",u=d=>d.status==="completed"?"border-green-500 bg-green-50":d.participantIds.length>=2?"border-blue-500 hover:border-blue-600 cursor-pointer":"border-gray-300",h=(d,g)=>d.result?.winnerId===g,f=d=>a.jsxs(ft,{className:A("p-3 md:p-4 transition-all touch-manipulation",u(d)),onClick:()=>{d.participantIds.length>=2&&d.status!=="completed"&&n(d)},children:[d.matchNumber&&a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",d.matchNumber]}),d.participantIds.length===0?a.jsx("div",{className:"text-sm text-gray-400 italic",children:"Waiting for participants..."}):d.participantIds.length===1?a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:l(d.participantIds[0])}),a.jsx(W,{variant:"secondary",className:"ml-2 text-xs",children:s("view.bye")})]}):a.jsx("div",{className:"space-y-2",children:d.participantIds.map(g=>{const p=h(d,g);return a.jsxs("div",{className:A("flex items-center justify-between text-sm p-2 rounded",p&&"bg-green-100 font-semibold",!p&&d.status==="completed"&&"opacity-50"),children:[a.jsx("span",{className:A(p&&"font-semibold"),children:l(g)}),p&&a.jsx("span",{className:"text-green-600 font-bold",children:"✓"})]},g)})}),d.result?.score&&a.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["Score: ",d.result.score.participant1Score," - ",d.result.score.participant2Score]})]},d.id);if(r&&o){const d=new Map;e.forEach(p=>{const x=p.round||1;d.has(x)||d.set(x,[]),d.get(x).push(p)});const g=Array.from(d.entries()).sort((p,x)=>p[0]-x[0]);return a.jsx("div",{className:"space-y-6",children:g.map(([p,x])=>a.jsxs("div",{children:[a.jsxs("div",{className:"mb-3",children:[a.jsx(W,{variant:"outline",className:"text-sm font-semibold",children:s("view.round",{number:p})}),a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",x.filter(w=>w.status==="completed").length,"/",x.length," completed)"]})]}),a.jsx("div",{className:"space-y-3",children:x.map(f)})]},p))})}return a.jsx("div",{className:"space-y-3",children:e.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:s("view.noMatches")}):e.map(f)})}function rs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Ct=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Me(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function qt(e){return"nodeType"in e}function $(e){var t,n;return e?Me(e)?e:qt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Jt(e){const{Document:t}=$(e);return e instanceof t}function Ze(e){return Me(e)?!1:e instanceof $(e).HTMLElement}function fr(e){return e instanceof $(e).SVGElement}function Pe(e){return e?Me(e)?e.document:qt(e)?Jt(e)?e:Ze(e)||fr(e)?e.ownerDocument:document:document:document}const se=Ct?c.useLayoutEffect:c.useEffect;function Qt(e){const t=c.useRef(e);return se(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function os(){const e=c.useRef(null),t=c.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Xe(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return se(()=>{n.current!==e&&(n.current=e)},t),n}function et(e,t){const n=c.useRef();return c.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function pt(e){const t=Qt(e),n=c.useRef(null),r=c.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,r]}function Bt(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let Pt={};function tt(e,t){return c.useMemo(()=>{if(t)return t;const n=Pt[e]==null?0:Pt[e]+1;return Pt[e]=n,e+"-"+n},[e,t])}function hr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,i)=>{const l=Object.entries(i);for(const[u,h]of l){const f=s[u];f!=null&&(s[u]=f+e*h)}return s},{...t})}}const Ie=hr(1),Ve=hr(-1);function ss(e){return"clientX"in e&&"clientY"in e}function Zt(e){if(!e)return!1;const{KeyboardEvent:t}=$(e.target);return t&&e instanceof t}function as(e){if(!e)return!1;const{TouchEvent:t}=$(e.target);return t&&e instanceof t}function Wt(e){if(as(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return ss(e)?{x:e.clientX,y:e.clientY}:null}const Ge=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ge.Translate.toString(e),Ge.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),bn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function is(e){return e.matches(bn)?e:e.querySelector(bn)}const ls={display:"none"};function cs(e){let{id:t,value:n}=e;return P.createElement("div",{id:t,style:ls},n)}function ds(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return P.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function us(){const[e,t]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const gr=c.createContext(null);function fs(e){const t=c.useContext(gr);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function hs(){const[e]=c.useState(()=>new Set),t=c.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[c.useCallback(r=>{let{type:o,event:s}=r;e.forEach(i=>{var l;return(l=i[o])==null?void 0:l.call(i,s)})},[e]),t]}const gs={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ps={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function vs(e){let{announcements:t=ps,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=gs}=e;const{announce:s,announcement:i}=us(),l=tt("DndLiveRegion"),[u,h]=c.useState(!1);if(c.useEffect(()=>{h(!0)},[]),fs(c.useMemo(()=>({onDragStart(d){let{active:g}=d;s(t.onDragStart({active:g}))},onDragMove(d){let{active:g,over:p}=d;t.onDragMove&&s(t.onDragMove({active:g,over:p}))},onDragOver(d){let{active:g,over:p}=d;s(t.onDragOver({active:g,over:p}))},onDragEnd(d){let{active:g,over:p}=d;s(t.onDragEnd({active:g,over:p}))},onDragCancel(d){let{active:g,over:p}=d;s(t.onDragCancel({active:g,over:p}))}}),[s,t])),!u)return null;const f=P.createElement(P.Fragment,null,P.createElement(cs,{id:r,value:o.draggable}),P.createElement(ds,{id:l,announcement:i}));return n?$e.createPortal(f,n):f}var k;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(k||(k={}));function vt(){}function xn(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function ms(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const te=Object.freeze({x:0,y:0});function pr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vr(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function bs(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function wn(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function mr(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function yn(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const xs=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=yn(t,t.left,t.top),s=[];for(const i of r){const{id:l}=i,u=n.get(l);if(u){const h=pr(yn(u),o);s.push({id:l,data:{droppableContainer:i,value:h}})}}return s.sort(vr)},ws=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=wn(t),s=[];for(const i of r){const{id:l}=i,u=n.get(l);if(u){const h=wn(u),f=o.reduce((g,p,x)=>g+pr(h[x],p),0),d=Number((f/4).toFixed(4));s.push({id:l,data:{droppableContainer:i,value:d}})}}return s.sort(vr)};function ys(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),i=o-r,l=s-n;if(r<o&&n<s){const u=t.width*t.height,h=e.width*e.height,f=i*l,d=f/(u+h-f);return Number(d.toFixed(4))}return 0}const Ss=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const s of r){const{id:i}=s,l=n.get(i);if(l){const u=ys(l,t);u>0&&o.push({id:i,data:{droppableContainer:s,value:u}})}}return o.sort(bs)};function Cs(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function br(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:te}function Ns(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...n})}}const Rs=Ns(1);function js(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Es(e,t,n){const r=js(t);if(!r)return e;const{scaleX:o,scaleY:s,x:i,y:l}=r,u=e.left-i-(1-o)*parseFloat(n),h=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),f=o?e.width/o:e.width,d=s?e.height/s:e.height;return{width:f,height:d,top:h,right:u+f,bottom:h+d,left:u}}const Ds={ignoreTransform:!1};function ke(e,t){t===void 0&&(t=Ds);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:f}=$(e).getComputedStyle(e);h&&(n=Es(n,h,f))}const{top:r,left:o,width:s,height:i,bottom:l,right:u}=n;return{top:r,left:o,width:s,height:i,bottom:l,right:u}}function Sn(e){return ke(e,{ignoreTransform:!0})}function Ts(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Is(e,t){return t===void 0&&(t=$(e).getComputedStyle(e)),t.position==="fixed"}function As(e,t){t===void 0&&(t=$(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})}function Nt(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(Jt(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Ze(o)||fr(o)||n.includes(o))return n;const s=$(e).getComputedStyle(o);return o!==e&&As(o,s)&&n.push(o),Is(o,s)?n:r(o.parentNode)}return e?r(e):n}function xr(e){const[t]=Nt(e,1);return t??null}function kt(e){return!Ct||!e?null:Me(e)?e:qt(e)?Jt(e)||e===Pe(e).scrollingElement?window:Ze(e)?e:null:null}function wr(e){return Me(e)?e.scrollX:e.scrollLeft}function yr(e){return Me(e)?e.scrollY:e.scrollTop}function $t(e){return{x:wr(e),y:yr(e)}}var L;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(L||(L={}));function Sr(e){return!Ct||!e?!1:e===document.scrollingElement}function Cr(e){const t={x:0,y:0},n=Sr(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:i,isRight:l,maxScroll:r,minScroll:t}}const Ms={x:.2,y:.2};function Ps(e,t,n,r,o){let{top:s,left:i,right:l,bottom:u}=n;r===void 0&&(r=10),o===void 0&&(o=Ms);const{isTop:h,isBottom:f,isLeft:d,isRight:g}=Cr(e),p={x:0,y:0},x={x:0,y:0},w={height:t.height*o.y,width:t.width*o.x};return!h&&s<=t.top+w.height?(p.y=L.Backward,x.y=r*Math.abs((t.top+w.height-s)/w.height)):!f&&u>=t.bottom-w.height&&(p.y=L.Forward,x.y=r*Math.abs((t.bottom-w.height-u)/w.height)),!g&&l>=t.right-w.width?(p.x=L.Forward,x.x=r*Math.abs((t.right-w.width-l)/w.width)):!d&&i<=t.left+w.width&&(p.x=L.Backward,x.x=r*Math.abs((t.left+w.width-i)/w.width)),{direction:p,speed:x}}function ks(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Nr(e){return e.reduce((t,n)=>Ie(t,$t(n)),te)}function Ls(e){return e.reduce((t,n)=>t+wr(n),0)}function Os(e){return e.reduce((t,n)=>t+yr(n),0)}function Fs(e,t){if(t===void 0&&(t=ke),!e)return;const{top:n,left:r,bottom:o,right:s}=t(e);xr(e)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const _s=[["x",["left","right"],Ls],["y",["top","bottom"],Os]];class en{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Nt(n),o=Nr(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,i,l]of _s)for(const u of i)Object.defineProperty(this,u,{get:()=>{const h=l(r),f=o[s]-h;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ue{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function zs(e){const{EventTarget:t}=$(e);return e instanceof t?e:Pe(e)}function Lt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var J;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(J||(J={}));function Cn(e){e.preventDefault()}function Bs(e){e.stopPropagation()}var I;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(I||(I={}));const Rr={start:[I.Space,I.Enter],cancel:[I.Esc],end:[I.Space,I.Enter,I.Tab]},Ws=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case I.Right:return{...n,x:n.x+25};case I.Left:return{...n,x:n.x-25};case I.Down:return{...n,y:n.y+25};case I.Up:return{...n,y:n.y-25}}};class tn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ue(Pe(n)),this.windowListeners=new Ue($(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(J.Resize,this.handleCancel),this.windowListeners.add(J.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(J.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Fs(r),n(te)}handleKeyDown(t){if(Zt(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=Rr,coordinateGetter:i=Ws,scrollBehavior:l="smooth"}=o,{code:u}=t;if(s.end.includes(u)){this.handleEnd(t);return}if(s.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:h}=r.current,f=h?{x:h.left,y:h.top}:te;this.referenceCoordinates||(this.referenceCoordinates=f);const d=i(t,{active:n,context:r.current,currentCoordinates:f});if(d){const g=Ve(d,f),p={x:0,y:0},{scrollableAncestors:x}=r.current;for(const w of x){const v=t.code,{isTop:C,isRight:m,isLeft:b,isBottom:y,maxScroll:N,minScroll:R}=Cr(w),E=ks(w),j={x:Math.min(v===I.Right?E.right-E.width/2:E.right,Math.max(v===I.Right?E.left:E.left+E.width/2,d.x)),y:Math.min(v===I.Down?E.bottom-E.height/2:E.bottom,Math.max(v===I.Down?E.top:E.top+E.height/2,d.y))},S=v===I.Right&&!m||v===I.Left&&!b,D=v===I.Down&&!y||v===I.Up&&!C;if(S&&j.x!==d.x){const T=w.scrollLeft+g.x,z=v===I.Right&&T<=N.x||v===I.Left&&T>=R.x;if(z&&!g.y){w.scrollTo({left:T,behavior:l});return}z?p.x=w.scrollLeft-T:p.x=v===I.Right?w.scrollLeft-N.x:w.scrollLeft-R.x,p.x&&w.scrollBy({left:-p.x,behavior:l});break}else if(D&&j.y!==d.y){const T=w.scrollTop+g.y,z=v===I.Down&&T<=N.y||v===I.Up&&T>=R.y;if(z&&!g.x){w.scrollTo({top:T,behavior:l});return}z?p.y=w.scrollTop-T:p.y=v===I.Down?w.scrollTop-N.y:w.scrollTop-R.y,p.y&&w.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,Ie(Ve(d,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}tn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Rr,onActivation:o}=t,{active:s}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function Nn(e){return!!(e&&"distance"in e)}function Rn(e){return!!(e&&"delay"in e)}class nn{constructor(t,n,r){var o;r===void 0&&(r=zs(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:i}=s;this.props=t,this.events=n,this.document=Pe(i),this.documentListeners=new Ue(this.document),this.listeners=new Ue(r),this.windowListeners=new Ue($(i)),this.initialCoordinates=(o=Wt(s))!=null?o:te,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(J.Resize,this.handleCancel),this.windowListeners.add(J.DragStart,Cn),this.windowListeners.add(J.VisibilityChange,this.handleCancel),this.windowListeners.add(J.ContextMenu,Cn),this.documentListeners.add(J.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Rn(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Nn(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(J.Click,Bs,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(J.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:i,options:{activationConstraint:l}}=s;if(!o)return;const u=(n=Wt(t))!=null?n:te,h=Ve(o,u);if(!r&&l){if(Nn(l)){if(l.tolerance!=null&&Lt(h,l.tolerance))return this.handleCancel();if(Lt(h,l.distance))return this.handleStart()}if(Rn(l)&&Lt(h,l.tolerance))return this.handleCancel();this.handlePending(l,h);return}t.cancelable&&t.preventDefault(),i(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===I.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const $s={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class rn extends nn{constructor(t){const{event:n}=t,r=Pe(n.target);super(t,$s,r)}}rn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const Us={move:{name:"mousemove"},end:{name:"mouseup"}};var Ut;(function(e){e[e.RightClick=2]="RightClick"})(Ut||(Ut={}));class Hs extends nn{constructor(t){super(t,Us,Pe(t.event.target))}}Hs.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Ut.RightClick?!1:(r?.({event:n}),!0)}}];const Ot={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Ys extends nn{constructor(t){super(t,Ot)}static setup(){return window.addEventListener(Ot.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ot.move.name,t)};function t(){}}}Ys.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var He;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(He||(He={}));var mt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(mt||(mt={}));function Xs(e){let{acceleration:t,activator:n=He.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:i=5,order:l=mt.TreeOrder,pointerCoordinates:u,scrollableAncestors:h,scrollableAncestorRects:f,delta:d,threshold:g}=e;const p=Gs({delta:d,disabled:!s}),[x,w]=os(),v=c.useRef({x:0,y:0}),C=c.useRef({x:0,y:0}),m=c.useMemo(()=>{switch(n){case He.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case He.DraggableRect:return o}},[n,o,u]),b=c.useRef(null),y=c.useCallback(()=>{const R=b.current;if(!R)return;const E=v.current.x*C.current.x,j=v.current.y*C.current.y;R.scrollBy(E,j)},[]),N=c.useMemo(()=>l===mt.TreeOrder?[...h].reverse():h,[l,h]);c.useEffect(()=>{if(!s||!h.length||!m){w();return}for(const R of N){if(r?.(R)===!1)continue;const E=h.indexOf(R),j=f[E];if(!j)continue;const{direction:S,speed:D}=Ps(R,j,m,t,g);for(const T of["x","y"])p[T][S[T]]||(D[T]=0,S[T]=0);if(D.x>0||D.y>0){w(),b.current=R,x(y,i),v.current=D,C.current=S;return}}v.current={x:0,y:0},C.current={x:0,y:0},w()},[t,y,r,w,s,i,JSON.stringify(m),JSON.stringify(p),x,h,N,f,JSON.stringify(g)])}const Vs={x:{[L.Backward]:!1,[L.Forward]:!1},y:{[L.Backward]:!1,[L.Forward]:!1}};function Gs(e){let{delta:t,disabled:n}=e;const r=Bt(t);return et(o=>{if(n||!r||!o)return Vs;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[L.Backward]:o.x[L.Backward]||s.x===-1,[L.Forward]:o.x[L.Forward]||s.x===1},y:{[L.Backward]:o.y[L.Backward]||s.y===-1,[L.Forward]:o.y[L.Forward]||s.y===1}}},[n,t,r])}function Ks(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return et(o=>{var s;return t==null?null:(s=r??o)!=null?s:null},[r,t])}function qs(e,t){return c.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...s]},[]),[e,t])}var Ke;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ke||(Ke={}));var Ht;(function(e){e.Optimized="optimized"})(Ht||(Ht={}));const jn=new Map;function Js(e,t){let{dragging:n,dependencies:r,config:o}=t;const[s,i]=c.useState(null),{frequency:l,measure:u,strategy:h}=o,f=c.useRef(e),d=v(),g=Xe(d),p=c.useCallback(function(C){C===void 0&&(C=[]),!g.current&&i(m=>m===null?C:m.concat(C.filter(b=>!m.includes(b))))},[g]),x=c.useRef(null),w=et(C=>{if(d&&!n)return jn;if(!C||C===jn||f.current!==e||s!=null){const m=new Map;for(let b of e){if(!b)continue;if(s&&s.length>0&&!s.includes(b.id)&&b.rect.current){m.set(b.id,b.rect.current);continue}const y=b.node.current,N=y?new en(u(y),y):null;b.rect.current=N,N&&m.set(b.id,N)}return m}return C},[e,s,n,d,u]);return c.useEffect(()=>{f.current=e},[e]),c.useEffect(()=>{d||p()},[n,d]),c.useEffect(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),c.useEffect(()=>{d||typeof l!="number"||x.current!==null||(x.current=setTimeout(()=>{p(),x.current=null},l))},[l,d,p,...r]),{droppableRects:w,measureDroppableContainers:p,measuringScheduled:s!=null};function v(){switch(h){case Ke.Always:return!1;case Ke.BeforeDragging:return n;default:return!n}}}function jr(e,t){return et(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Qs(e,t){return jr(e,t)}function Zs(e){let{callback:t,disabled:n}=e;const r=Qt(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return c.useEffect(()=>()=>o?.disconnect(),[o]),o}function Rt(e){let{callback:t,disabled:n}=e;const r=Qt(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return c.useEffect(()=>()=>o?.disconnect(),[o]),o}function ea(e){return new en(ke(e),e)}function En(e,t,n){t===void 0&&(t=ea);const[r,o]=c.useState(null);function s(){o(u=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=u??n)!=null?h:null}const f=t(e);return JSON.stringify(u)===JSON.stringify(f)?u:f})}const i=Zs({callback(u){if(e)for(const h of u){const{type:f,target:d}=h;if(f==="childList"&&d instanceof HTMLElement&&d.contains(e)){s();break}}}}),l=Rt({callback:s});return se(()=>{s(),e?(l?.observe(e),i?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),i?.disconnect())},[e]),r}function ta(e){const t=jr(e);return br(e,t)}const Dn=[];function na(e){const t=c.useRef(e),n=et(r=>e?r&&r!==Dn&&e&&t.current&&e.parentNode===t.current.parentNode?r:Nt(e):Dn,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function ra(e){const[t,n]=c.useState(null),r=c.useRef(e),o=c.useCallback(s=>{const i=kt(s.target);i&&n(l=>l?(l.set(i,$t(i)),new Map(l)):null)},[]);return c.useEffect(()=>{const s=r.current;if(e!==s){i(s);const l=e.map(u=>{const h=kt(u);return h?(h.addEventListener("scroll",o,{passive:!0}),[h,$t(h)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),r.current=e}return()=>{i(e),i(s)};function i(l){l.forEach(u=>{const h=kt(u);h?.removeEventListener("scroll",o)})}},[o,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,i)=>Ie(s,i),te):Nr(e):te,[e,t])}function Tn(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const r=e!==te;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Ve(e,n.current):te}function oa(e){c.useEffect(()=>{if(!Ct)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function sa(e,t){return c.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=i=>{s(i,t)},n},{}),[e,t])}function Er(e){return c.useMemo(()=>e?Ts(e):null,[e])}const In=[];function aa(e,t){t===void 0&&(t=ke);const[n]=e,r=Er(n?$(n):null),[o,s]=c.useState(In);function i(){s(()=>e.length?e.map(u=>Sr(u)?r:new en(t(u),u)):In)}const l=Rt({callback:i});return se(()=>{l?.disconnect(),i(),e.forEach(u=>l?.observe(u))},[e]),o}function ia(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ze(t)?t:e}function la(e){let{measure:t}=e;const[n,r]=c.useState(null),o=c.useCallback(h=>{for(const{target:f}of h)if(Ze(f)){r(d=>{const g=t(f);return d?{...d,width:g.width,height:g.height}:g});break}},[t]),s=Rt({callback:o}),i=c.useCallback(h=>{const f=ia(h);s?.disconnect(),f&&s?.observe(f),r(f?t(f):null)},[t,s]),[l,u]=pt(i);return c.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const ca=[{sensor:rn,options:{}},{sensor:tn,options:{}}],da={current:{}},ut={draggable:{measure:Sn},droppable:{measure:Sn,strategy:Ke.WhileDragging,frequency:Ht.Optimized},dragOverlay:{measure:ke}};class Ye extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const ua={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ye,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:vt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ut,measureDroppableContainers:vt,windowRect:null,measuringScheduled:!1},fa={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:vt,draggableNodes:new Map,over:null,measureDroppableContainers:vt},jt=c.createContext(fa),Dr=c.createContext(ua);function ha(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ye}}}function ga(e,t){switch(t.type){case k.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case k.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case k.DragEnd:case k.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case k.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Ye(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case k.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new Ye(e.droppable.containers);return i.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case k.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new Ye(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function pa(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=c.useContext(jt),s=Bt(r),i=Bt(n?.id);return c.useEffect(()=>{if(!t&&!r&&s&&i!=null){if(!Zt(s)||document.activeElement===s.target)return;const l=o.get(i);if(!l)return;const{activatorNode:u,node:h}=l;if(!u.current&&!h.current)return;requestAnimationFrame(()=>{for(const f of[u.current,h.current]){if(!f)continue;const d=is(f);if(d){d.focus();break}}})}},[r,t,o,i,s]),null}function va(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...r}),n):n}function ma(e){return c.useMemo(()=>({draggable:{...ut.draggable,...e?.draggable},droppable:{...ut.droppable,...e?.droppable},dragOverlay:{...ut.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function ba(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const s=c.useRef(!1),{x:i,y:l}=typeof o=="boolean"?{x:o,y:o}:o;se(()=>{if(!i&&!l||!t){s.current=!1;return}if(s.current||!r)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const f=n(h),d=br(f,r);if(i||(d.x=0),l||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const g=xr(h);g&&g.scrollBy({top:d.y,left:d.x})}},[t,i,l,r,n])}const Tr=c.createContext({...te,scaleX:1,scaleY:1});var xe;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(xe||(xe={}));const xa=c.memo(function(t){var n,r,o,s;let{id:i,accessibility:l,autoScroll:u=!0,children:h,sensors:f=ca,collisionDetection:d=Ss,measuring:g,modifiers:p,...x}=t;const w=c.useReducer(ga,void 0,ha),[v,C]=w,[m,b]=hs(),[y,N]=c.useState(xe.Uninitialized),R=y===xe.Initialized,{draggable:{active:E,nodes:j,translate:S},droppable:{containers:D}}=v,T=E!=null?j.get(E):null,z=c.useRef({initial:null,translated:null}),U=c.useMemo(()=>{var F;return E!=null?{id:E,data:(F=T?.data)!=null?F:da,rect:z}:null},[E,T]),ee=c.useRef(null),[ye,G]=c.useState(null),[H,nt]=c.useState(null),ie=Xe(x,Object.values(x)),Le=tt("DndDescribedBy",i),rt=c.useMemo(()=>D.getEnabled(),[D]),B=ma(g),{droppableRects:le,measureDroppableContainers:Se,measuringScheduled:Oe}=Js(rt,{dragging:R,dependencies:[S.x,S.y],config:B.droppable}),K=Ks(j,E),ot=c.useMemo(()=>H?Wt(H):null,[H]),he=Ur(),ce=Qs(K,B.draggable.measure);ba({activeNode:E!=null?j.get(E):null,config:he.layoutShiftCompensation,initialRect:ce,measure:B.draggable.measure});const M=En(K,B.draggable.measure,ce),Fe=En(K?K.parentElement:null),ne=c.useRef({activatorEvent:null,active:null,activeNode:K,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ne=D.getNodeFor((n=ne.current.over)==null?void 0:n.id),de=la({measure:B.dragOverlay.measure}),Re=(r=de.nodeRef.current)!=null?r:K,je=R?(o=de.rect)!=null?o:M:null,sn=!!(de.nodeRef.current&&de.rect),an=ta(sn?null:M),Et=Er(Re?$(Re):null),ge=na(R?Ne??K:null),st=aa(ge),at=va(p,{transform:{x:S.x-an.x,y:S.y-an.y,scaleX:1,scaleY:1},activatorEvent:H,active:U,activeNodeRect:M,containerNodeRect:Fe,draggingNodeRect:je,over:ne.current.over,overlayNodeRect:de.rect,scrollableAncestors:ge,scrollableAncestorRects:st,windowRect:Et}),ln=ot?Ie(ot,S):null,cn=ra(ge),Or=Tn(cn),Fr=Tn(cn,[M]),Ee=Ie(at,Or),De=je?Rs(je,at):null,_e=U&&De?d({active:U,collisionRect:De,droppableRects:le,droppableContainers:rt,pointerCoordinates:ln}):null,dn=mr(_e,"id"),[pe,un]=c.useState(null),_r=sn?at:Ie(at,Fr),zr=Cs(_r,(s=pe?.rect)!=null?s:null,M),Dt=c.useRef(null),fn=c.useCallback((F,Y)=>{let{sensor:X,options:ve}=Y;if(ee.current==null)return;const q=j.get(ee.current);if(!q)return;const V=F.nativeEvent,re=new X({active:ee.current,activeNode:q,event:V,options:ve,context:ne,onAbort(O){if(!j.get(O))return;const{onDragAbort:oe}=ie.current,ue={id:O};oe?.(ue),m({type:"onDragAbort",event:ue})},onPending(O,me,oe,ue){if(!j.get(O))return;const{onDragPending:Be}=ie.current,be={id:O,constraint:me,initialCoordinates:oe,offset:ue};Be?.(be),m({type:"onDragPending",event:be})},onStart(O){const me=ee.current;if(me==null)return;const oe=j.get(me);if(!oe)return;const{onDragStart:ue}=ie.current,ze={activatorEvent:V,active:{id:me,data:oe.data,rect:z}};$e.unstable_batchedUpdates(()=>{ue?.(ze),N(xe.Initializing),C({type:k.DragStart,initialCoordinates:O,active:me}),m({type:"onDragStart",event:ze}),G(Dt.current),nt(V)})},onMove(O){C({type:k.DragMove,coordinates:O})},onEnd:Te(k.DragEnd),onCancel:Te(k.DragCancel)});Dt.current=re;function Te(O){return async function(){const{active:oe,collisions:ue,over:ze,scrollAdjustedTranslate:Be}=ne.current;let be=null;if(oe&&Be){const{cancelDrop:We}=ie.current;be={activatorEvent:V,active:oe,collisions:ue,delta:Be,over:ze},O===k.DragEnd&&typeof We=="function"&&await Promise.resolve(We(be))&&(O=k.DragCancel)}ee.current=null,$e.unstable_batchedUpdates(()=>{C({type:O}),N(xe.Uninitialized),un(null),G(null),nt(null),Dt.current=null;const We=O===k.DragEnd?"onDragEnd":"onDragCancel";if(be){const Tt=ie.current[We];Tt?.(be),m({type:We,event:be})}})}}},[j]),Br=c.useCallback((F,Y)=>(X,ve)=>{const q=X.nativeEvent,V=j.get(ve);if(ee.current!==null||!V||q.dndKit||q.defaultPrevented)return;const re={active:V};F(X,Y.options,re)===!0&&(q.dndKit={capturedBy:Y.sensor},ee.current=ve,fn(X,Y))},[j,fn]),hn=qs(f,Br);oa(f),se(()=>{M&&y===xe.Initializing&&N(xe.Initialized)},[M,y]),c.useEffect(()=>{const{onDragMove:F}=ie.current,{active:Y,activatorEvent:X,collisions:ve,over:q}=ne.current;if(!Y||!X)return;const V={active:Y,activatorEvent:X,collisions:ve,delta:{x:Ee.x,y:Ee.y},over:q};$e.unstable_batchedUpdates(()=>{F?.(V),m({type:"onDragMove",event:V})})},[Ee.x,Ee.y]),c.useEffect(()=>{const{active:F,activatorEvent:Y,collisions:X,droppableContainers:ve,scrollAdjustedTranslate:q}=ne.current;if(!F||ee.current==null||!Y||!q)return;const{onDragOver:V}=ie.current,re=ve.get(dn),Te=re&&re.rect.current?{id:re.id,rect:re.rect.current,data:re.data,disabled:re.disabled}:null,O={active:F,activatorEvent:Y,collisions:X,delta:{x:q.x,y:q.y},over:Te};$e.unstable_batchedUpdates(()=>{un(Te),V?.(O),m({type:"onDragOver",event:O})})},[dn]),se(()=>{ne.current={activatorEvent:H,active:U,activeNode:K,collisionRect:De,collisions:_e,droppableRects:le,draggableNodes:j,draggingNode:Re,draggingNodeRect:je,droppableContainers:D,over:pe,scrollableAncestors:ge,scrollAdjustedTranslate:Ee},z.current={initial:je,translated:De}},[U,K,_e,De,j,Re,je,le,D,pe,ge,Ee]),Xs({...he,delta:S,draggingRect:De,pointerCoordinates:ln,scrollableAncestors:ge,scrollableAncestorRects:st});const Wr=c.useMemo(()=>({active:U,activeNode:K,activeNodeRect:M,activatorEvent:H,collisions:_e,containerNodeRect:Fe,dragOverlay:de,draggableNodes:j,droppableContainers:D,droppableRects:le,over:pe,measureDroppableContainers:Se,scrollableAncestors:ge,scrollableAncestorRects:st,measuringConfiguration:B,measuringScheduled:Oe,windowRect:Et}),[U,K,M,H,_e,Fe,de,j,D,le,pe,Se,ge,st,B,Oe,Et]),$r=c.useMemo(()=>({activatorEvent:H,activators:hn,active:U,activeNodeRect:M,ariaDescribedById:{draggable:Le},dispatch:C,draggableNodes:j,over:pe,measureDroppableContainers:Se}),[H,hn,U,M,C,Le,j,pe,Se]);return P.createElement(gr.Provider,{value:b},P.createElement(jt.Provider,{value:$r},P.createElement(Dr.Provider,{value:Wr},P.createElement(Tr.Provider,{value:zr},h)),P.createElement(pa,{disabled:l?.restoreFocus===!1})),P.createElement(vs,{...l,hiddenTextDescribedById:Le}));function Ur(){const F=ye?.autoScrollEnabled===!1,Y=typeof u=="object"?u.enabled===!1:u===!1,X=R&&!F&&!Y;return typeof u=="object"?{...u,enabled:X}:{enabled:X}}}),wa=c.createContext(null),An="button",ya="Draggable";function Sa(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const s=tt(ya),{activators:i,activatorEvent:l,active:u,activeNodeRect:h,ariaDescribedById:f,draggableNodes:d,over:g}=c.useContext(jt),{role:p=An,roleDescription:x="draggable",tabIndex:w=0}=o??{},v=u?.id===t,C=c.useContext(v?Tr:wa),[m,b]=pt(),[y,N]=pt(),R=sa(i,t),E=Xe(n);se(()=>(d.set(t,{id:t,key:s,node:m,activatorNode:y,data:E}),()=>{const S=d.get(t);S&&S.key===s&&d.delete(t)}),[d,t]);const j=c.useMemo(()=>({role:p,tabIndex:w,"aria-disabled":r,"aria-pressed":v&&p===An?!0:void 0,"aria-roledescription":x,"aria-describedby":f.draggable}),[r,p,w,v,x,f.draggable]);return{active:u,activatorEvent:l,activeNodeRect:h,attributes:j,isDragging:v,listeners:r?void 0:R,node:m,over:g,setNodeRef:b,setActivatorNodeRef:N,transform:C}}function Ca(){return c.useContext(Dr)}const Na="Droppable",Ra={timeout:25};function ja(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const s=tt(Na),{active:i,dispatch:l,over:u,measureDroppableContainers:h}=c.useContext(jt),f=c.useRef({disabled:n}),d=c.useRef(!1),g=c.useRef(null),p=c.useRef(null),{disabled:x,updateMeasurementsFor:w,timeout:v}={...Ra,...o},C=Xe(w??r),m=c.useCallback(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{h(Array.isArray(C.current)?C.current:[C.current]),p.current=null},v)},[v]),b=Rt({callback:m,disabled:x||!i}),y=c.useCallback((j,S)=>{b&&(S&&(b.unobserve(S),d.current=!1),j&&b.observe(j))},[b]),[N,R]=pt(y),E=Xe(t);return c.useEffect(()=>{!b||!N.current||(b.disconnect(),d.current=!1,b.observe(N.current))},[N,b]),c.useEffect(()=>(l({type:k.RegisterDroppable,element:{id:r,key:s,disabled:n,node:N,rect:g,data:E}}),()=>l({type:k.UnregisterDroppable,key:s,id:r})),[r]),c.useEffect(()=>{n!==f.current.disabled&&(l({type:k.SetDroppableDisabled,id:r,key:s,disabled:n}),f.current.disabled=n)},[r,s,n,l]),{active:i,rect:g,isOver:u?.id===r,node:N,over:u,setNodeRef:R}}function on(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Ea(e,t){return e.reduce((n,r,o)=>{const s=t.get(r);return s&&(n[o]=s),n},Array(e.length))}function ct(e){return e!==null&&e>=0}function Da(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ta(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Ir=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const s=on(t,r,n),i=t[o],l=s[o];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},dt={scaleX:1,scaleY:1},Ia=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:s,overIndex:i}=e;const l=(t=s[n])!=null?t:r;if(!l)return null;if(o===n){const h=s[i];return h?{x:0,y:n<i?h.top+h.height-(l.top+l.height):h.top-l.top,...dt}:null}const u=Aa(s,o,n);return o>n&&o<=i?{x:0,y:-l.height-u,...dt}:o<n&&o>=i?{x:0,y:l.height+u,...dt}:{x:0,y:0,...dt}};function Aa(e,t,n){const r=e[t],o=e[t-1],s=e[t+1];return r?n<t?o?r.top-(o.top+o.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Ar="Sortable",Mr=P.createContext({activeIndex:-1,containerId:Ar,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ir,disabled:{draggable:!1,droppable:!1}});function Ma(e){let{children:t,id:n,items:r,strategy:o=Ir,disabled:s=!1}=e;const{active:i,dragOverlay:l,droppableRects:u,over:h,measureDroppableContainers:f}=Ca(),d=tt(Ar,n),g=l.rect!==null,p=c.useMemo(()=>r.map(R=>typeof R=="object"&&"id"in R?R.id:R),[r]),x=i!=null,w=i?p.indexOf(i.id):-1,v=h?p.indexOf(h.id):-1,C=c.useRef(p),m=!Da(p,C.current),b=v!==-1&&w===-1||m,y=Ta(s);se(()=>{m&&x&&f(p)},[m,p,x,f]),c.useEffect(()=>{C.current=p},[p]);const N=c.useMemo(()=>({activeIndex:w,containerId:d,disabled:y,disableTransforms:b,items:p,overIndex:v,useDragOverlay:g,sortedRects:Ea(p,u),strategy:o}),[w,d,y.draggable,y.droppable,b,p,v,u,g,o]);return P.createElement(Mr.Provider,{value:N},t)}const Pa=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return on(n,r,o).indexOf(t)},ka=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:s,newIndex:i,previousItems:l,previousContainerId:u,transition:h}=e;return!h||!r||l!==s&&o===i?!1:n?!0:i!==o&&t===u},La={duration:200,easing:"ease"},Pr="transform",Oa=Ge.Transition.toString({property:Pr,duration:0,easing:"linear"}),Fa={roleDescription:"sortable"};function _a(e){let{disabled:t,index:n,node:r,rect:o}=e;const[s,i]=c.useState(null),l=c.useRef(n);return se(()=>{if(!t&&n!==l.current&&r.current){const u=o.current;if(u){const h=ke(r.current,{ignoreTransform:!0}),f={x:u.left-h.left,y:u.top-h.top,scaleX:u.width/h.width,scaleY:u.height/h.height};(f.x||f.y)&&i(f)}}n!==l.current&&(l.current=n)},[t,n,r,o]),c.useEffect(()=>{s&&i(null)},[s]),s}function za(e){let{animateLayoutChanges:t=ka,attributes:n,disabled:r,data:o,getNewIndex:s=Pa,id:i,strategy:l,resizeObserverConfig:u,transition:h=La}=e;const{items:f,containerId:d,activeIndex:g,disabled:p,disableTransforms:x,sortedRects:w,overIndex:v,useDragOverlay:C,strategy:m}=c.useContext(Mr),b=Ba(r,p),y=f.indexOf(i),N=c.useMemo(()=>({sortable:{containerId:d,index:y,items:f},...o}),[d,o,y,f]),R=c.useMemo(()=>f.slice(f.indexOf(i)),[f,i]),{rect:E,node:j,isOver:S,setNodeRef:D}=ja({id:i,data:N,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...u}}),{active:T,activatorEvent:z,activeNodeRect:U,attributes:ee,setNodeRef:ye,listeners:G,isDragging:H,over:nt,setActivatorNodeRef:ie,transform:Le}=Sa({id:i,data:N,attributes:{...Fa,...n},disabled:b.draggable}),rt=rs(D,ye),B=!!T,le=B&&!x&&ct(g)&&ct(v),Se=!C&&H,Oe=Se&&le?Le:null,ot=le?Oe??(l??m)({rects:w,activeNodeRect:U,activeIndex:g,overIndex:v,index:y}):null,he=ct(g)&&ct(v)?s({id:i,items:f,activeIndex:g,overIndex:v}):y,ce=T?.id,M=c.useRef({activeId:ce,items:f,newIndex:he,containerId:d}),Fe=f!==M.current.items,ne=t({active:T,containerId:d,isDragging:H,isSorting:B,id:i,index:y,items:f,newIndex:M.current.newIndex,previousItems:M.current.items,previousContainerId:M.current.containerId,transition:h,wasDragging:M.current.activeId!=null}),Ne=_a({disabled:!ne,index:y,node:j,rect:E});return c.useEffect(()=>{B&&M.current.newIndex!==he&&(M.current.newIndex=he),d!==M.current.containerId&&(M.current.containerId=d),f!==M.current.items&&(M.current.items=f)},[B,he,d,f]),c.useEffect(()=>{if(ce===M.current.activeId)return;if(ce!=null&&M.current.activeId==null){M.current.activeId=ce;return}const Re=setTimeout(()=>{M.current.activeId=ce},50);return()=>clearTimeout(Re)},[ce]),{active:T,activeIndex:g,attributes:ee,data:N,rect:E,index:y,newIndex:he,items:f,isOver:S,isSorting:B,isDragging:H,listeners:G,node:j,overIndex:v,over:nt,setNodeRef:rt,setActivatorNodeRef:ie,setDroppableNodeRef:D,setDraggableNodeRef:ye,transform:Ne??ot,transition:de()};function de(){if(Ne||Fe&&M.current.newIndex===y)return Oa;if(!(Se&&!Zt(z)||!h)&&(B||ne))return Ge.Transition.toString({...h,property:Pr})}}function Ba(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function bt(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Wa=[I.Down,I.Right,I.Up,I.Left],$a=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:s,over:i,scrollableAncestors:l}}=t;if(Wa.includes(e.code)){if(e.preventDefault(),!n||!r)return;const u=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const g=o.get(d.id);if(g)switch(e.code){case I.Down:r.top<g.top&&u.push(d);break;case I.Up:r.top>g.top&&u.push(d);break;case I.Left:r.left>g.left&&u.push(d);break;case I.Right:r.left<g.left&&u.push(d);break}});const h=ws({collisionRect:r,droppableRects:o,droppableContainers:u});let f=mr(h,"id");if(f===i?.id&&h.length>1&&(f=h[1].id),f!=null){const d=s.get(n.id),g=s.get(f),p=g?o.get(g.id):null,x=g?.node.current;if(x&&p&&d&&g){const v=Nt(x).some((R,E)=>l[E]!==R),C=kr(d,g),m=Ua(d,g),b=v||!C?{x:0,y:0}:{x:m?r.width-p.width:0,y:m?r.height-p.height:0},y={x:p.left,y:p.top};return b.x&&b.y?y:Ve(y,b)}}}};function kr(e,t){return!bt(e)||!bt(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Ua(e,t){return!bt(e)||!bt(t)||!kr(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Ha({...e}){return a.jsx(Kr,{"data-slot":"dialog",...e})}function Ya({...e}){return a.jsx(Zr,{"data-slot":"dialog-portal",...e})}function Xa({className:e,...t}){return a.jsx(eo,{"data-slot":"dialog-overlay",className:A("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Va({className:e,children:t,showCloseButton:n=!0,...r}){return a.jsxs(Ya,{"data-slot":"dialog-portal",children:[a.jsx(Xa,{}),a.jsxs(qr,{"data-slot":"dialog-content",className:A("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,n&&a.jsxs(Jr,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(ao,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ga({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:A("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Ka({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:A("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function qa({className:e,...t}){return a.jsx(Qr,{"data-slot":"dialog-title",className:A("text-lg leading-none font-semibold",e),...t})}function Lr(e){const t=["th","st","nd","rd"],n=e%100;return t[(n-20)%10]||t[n]||t[0]}function Ja({id:e,index:t,participantName:n,position:r,points:o,positionLabel:s,hasPointsSystem:i,onMoveUp:l,onMoveDown:u,isFirst:h,isLast:f,t:d}){const{attributes:g,listeners:p,setNodeRef:x,transform:w,transition:v,isDragging:C}=za({id:e}),m={transform:Ge.Transform.toString(w),transition:v,opacity:C?.5:1};return a.jsxs("div",{ref:x,style:m,className:`flex items-center gap-2 p-3 bg-gray-50 rounded-lg border border-gray-200 ${C?"shadow-lg z-50":""}`,children:[a.jsx("div",{...g,...p,className:"flex-shrink-0 cursor-grab active:cursor-grabbing touch-none","aria-label":"Drag to reorder",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})}),a.jsxs("div",{className:"flex-shrink-0 w-12 flex items-center justify-center",children:[r===1&&a.jsx(W,{className:"w-8 h-8 rounded-full flex items-center justify-center p-0 text-sm font-bold bg-yellow-500 hover:bg-yellow-500 text-white border-yellow-600","aria-label":"1st place",children:"1"}),r===2&&a.jsx(W,{className:"w-8 h-8 rounded-full flex items-center justify-center p-0 text-sm font-bold bg-gray-400 hover:bg-gray-400 text-white border-gray-500","aria-label":"2nd place",children:"2"}),r===3&&a.jsx(W,{className:"w-8 h-8 rounded-full flex items-center justify-center p-0 text-sm font-bold bg-amber-600 hover:bg-amber-600 text-white border-amber-700","aria-label":"3rd place",children:"3"}),r>3&&a.jsx(W,{variant:"outline",className:"w-8 h-8 rounded-full flex items-center justify-center p-0 text-sm font-semibold","aria-label":`${r}${Lr(r)} place`,children:r})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:n}),a.jsxs("div",{className:"text-xs text-gray-500",children:[s,i&&a.jsx("span",{className:"ml-2 text-blue-600 font-medium",children:d("view.placementPoints",{points:o})})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ce,{variant:"ghost",size:"sm",onClick:l,disabled:h,className:"h-6 w-6 p-0",type:"button",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),a.jsx(Ce,{variant:"ghost",size:"sm",onClick:u,disabled:f,className:"h-6 w-6 p-0",type:"button",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}function Qa({match:e,participants:t,isMultiPlayer:n,pointsSystem:r,onSave:o,onCancel:s}){const{t:i}=Je(),[l,u]=c.useState([]),h=ms(xn(rn,{activationConstraint:{distance:8}}),xn(tn,{coordinateGetter:$a}));if(c.useEffect(()=>{e&&u(e.participantIds)},[e]),!e)return null;const f=m=>{const{active:b,over:y}=m;y&&b.id!==y.id&&u(N=>{const R=N.indexOf(b.id),E=N.indexOf(y.id);return on(N,R,E)})},d=m=>t.find(y=>y.id===m)?.name||"Unknown",g=m=>m===1?i("view.first"):m===2?i("view.second"):m===3?i("view.third"):m===4?i("view.fourth"):`${m}${Lr(m)}`,p=m=>{if(!r)return 0;try{return ro(r,m,e.participantIds.length)}catch{return 0}},x=m=>{if(m===0)return;const b=[...l];[b[m-1],b[m]]=[b[m],b[m-1]],u(b)},w=m=>{if(m===l.length-1)return;const b=[...l];[b[m],b[m+1]]=[b[m+1],b[m]],u(b)},v=()=>{if(n){const m={rankings:l.map((b,y)=>({participantId:b,position:y+1}))};o(e.id,m)}else{const m=l[0],b=l[1],y={winnerId:m,loserId:b};o(e.id,y)}},C=m=>{const b=e.participantIds.find(N=>N!==m),y={winnerId:m,loserId:b};o(e.id,y)};return a.jsx(Ha,{open:!!e,onOpenChange:s,children:a.jsxs(Va,{className:"sm:max-w-md",children:[a.jsx(Ga,{children:a.jsx(qa,{children:i(n?"view.recordRankings":"view.recordResult")})}),!n&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:i("view.selectWinner")}),e.participantIds.map(m=>a.jsx(Ce,{variant:"outline",onClick:()=>C(m),className:"w-full h-auto p-4 justify-start hover:border-green-500 hover:bg-green-50",children:a.jsxs("div",{className:"flex items-center w-full",children:[a.jsx("span",{className:"font-medium text-gray-900",children:d(m)}),a.jsx("span",{className:"text-sm text-gray-500 ml-2",children:i("common.wins")})]})},m))]}),n&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:i("view.dragToReorder")}),a.jsx(xa,{sensors:h,collisionDetection:xs,onDragEnd:f,children:a.jsx(Ma,{items:l,strategy:Ia,children:a.jsx("div",{className:"space-y-2",children:l.map((m,b)=>{const y=b+1,N=p(y),R=g(y);return a.jsx(Ja,{id:m,index:b,participantName:d(m),position:y,points:N,positionLabel:R,hasPointsSystem:!!r,onMoveUp:()=>x(b),onMoveDown:()=>w(b),isFirst:b===0,isLast:b===l.length-1,t:i},m)})})})})]}),a.jsxs(Ka,{className:"flex gap-2",children:[a.jsx(Ce,{variant:"outline",onClick:s,children:i("common.cancel")}),n&&a.jsx(Ce,{onClick:v,className:"bg-green-600 hover:bg-green-700",children:i("view.saveResults")})]})]})})}function ni({tournamentId:e,onBack:t}){const{t:n}=Je(),[r,o]=c.useState(null),[s,i]=c.useState(null),[l,u]=c.useState([]),[h,f]=c.useState([]),[d,g]=c.useState(null),[p,x]=c.useState(!0),[w,v]=c.useState(null);c.useEffect(()=>{try{const S=to(e);if(!S){v(n("view.tournamentNotFound"));return}const D=oo(S);o(D),i(S),u(D.getCurrentMatches()),f(D.getStandings()),x(!1)}catch(S){v(S instanceof Error?S.message:n("view.loadError")),x(!1)}},[e,n]);const C=()=>{if(!r)return;u(r.getCurrentMatches()),f(r.getStandings());const S=r.export();no(S),i(S)},m=(S,D)=>{if(r)try{r.recordMatchResult(S,D),C(),g(null)}catch(T){alert(T instanceof Error?T.message:n("view.resultError"))}},b=S=>{S.status!=="completed"&&g(S)},y=S=>S.participantIds.length>2,N=()=>s?s.options?.pointsSystem:void 0,R=S=>S==="single-elimination"||S==="double-elimination",E=S=>S==="round-robin"||S==="swiss"||S==="free-for-all";if(p)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n("view.loadingTournament")})]})});if(w||!r)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-600",children:w||n("view.tournamentNotFound")}),a.jsx(Ce,{onClick:t,className:"mt-4",children:n("view.backToDashboard")})]})});const j=S=>({"single-elimination":n("tournamentTypes.singleElimination"),"double-elimination":n("tournamentTypes.doubleElimination"),"round-robin":n("tournamentTypes.roundRobin"),swiss:n("tournamentTypes.swiss"),"free-for-all":n("tournamentTypes.freeForAll")})[S]||S;return a.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(Ce,{variant:"ghost",onClick:t,className:"mb-4 -ml-4",children:[a.jsx("svg",{className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),n("view.backToDashboard")]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.getName()}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j(r.getType())})]}),a.jsx("div",{children:r.isComplete()?a.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-green-100 text-green-800",children:n("status.completed")}):a.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-blue-100 text-blue-800",children:n("status.inProgress")})})]})]}),a.jsxs(Do,{defaultValue:R(r.getType())?"bracket":"matches",className:"w-full",children:[a.jsxs(To,{className:"grid w-full max-w-md",style:{gridTemplateColumns:R(r.getType())?"1fr 1fr 1fr":"1fr 1fr"},children:[R(r.getType())&&a.jsx(At,{value:"bracket",children:n("view.bracket")}),a.jsx(At,{value:"matches",children:n("view.matches")}),a.jsx(At,{value:"standings",children:n("view.standings")})]}),R(r.getType())&&a.jsx(Mt,{value:"bracket",className:"mt-6",children:a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[r.getType()==="single-elimination"&&s?.type==="single-elimination"&&a.jsx(es,{bracket:s.bracket,thirdPlaceMatch:s.thirdPlaceMatch,participants:r.getParticipants(),onMatchClick:b}),r.getType()==="double-elimination"&&s?.type==="double-elimination"&&a.jsx(ts,{winnersBracket:s.winnersBracket,losersBracket:s.losersBracket,grandFinal:s.grandFinal,grandFinalReset:s.grandFinalReset,participants:r.getParticipants(),onMatchClick:b})]})}),a.jsx(Mt,{value:"matches",className:"mt-6",children:a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n("view.currentMatches")}),a.jsx(ns,{matches:l,participants:r.getParticipants(),onMatchClick:b,groupByRounds:E(r.getType()),showRoundHeaders:E(r.getType())})]})}),a.jsx(Mt,{value:"standings",className:"mt-6",children:a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n("view.standings")}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(Io,{children:[a.jsx(Ao,{children:a.jsxs(pn,{children:[a.jsx(it,{className:"w-20",children:n("view.rank")}),a.jsx(it,{children:n("view.participant")}),a.jsx(it,{className:"w-32",children:n("view.wlt")}),h.some(S=>S.points!==void 0)&&a.jsx(it,{className:"w-24 text-right",children:n("view.points")})]})}),a.jsx(Mo,{children:h.map(S=>a.jsxs(pn,{children:[a.jsx(lt,{className:"font-medium",children:S.rank||"-"}),a.jsxs(lt,{children:[S.participantName,S.isEliminated&&a.jsx("span",{className:"ml-2 text-xs text-red-600",children:n("view.eliminated")})]}),a.jsxs(lt,{children:[S.wins,"-",S.losses,"-",S.ties]}),h.some(D=>D.points!==void 0)&&a.jsx(lt,{className:"text-right",children:S.points||0})]},S.participantId))})]})})]})})]}),a.jsx(Qa,{match:d,participants:r.getParticipants(),isMultiPlayer:d?y(d):!1,pointsSystem:N(),onSave:m,onCancel:()=>g(null)})]})})}export{ni as default};
