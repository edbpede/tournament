import{a as Xr,b as xt,e as ve,j as s,f as gn,h as kn,P as ne,k as U,m as On,n as Ne,o as Qe,c as A,S as Vr,p as Gr,q as Kr,u as Ze,T as qr,r as Ue,R as Jr,C as Qr,t as Zr,v as eo,w as to,O as no,B as le,l as ro,s as oo}from"./TournamentApp.CmBvA1Iy.js";import{c as L,r as c}from"./index.DXA_EoSs.js";import{a as so,r as io}from"./factory.DvPW-T9g.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lo=Xr("x",ao);function co(e){const t=e+"CollectionProvider",[n,r]=xt(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=w=>{const{scope:y,children:R}=w,b=L.useRef(null),p=L.useRef(new Map).current;return s.jsx(o,{scope:y,itemMap:p,collectionRef:b,children:R})};a.displayName=t;const l=e+"CollectionSlot",d=gn(l),h=L.forwardRef((w,y)=>{const{scope:R,children:b}=w,p=i(l,R),x=ve(y,p.collectionRef);return s.jsx(d,{ref:x,children:b})});h.displayName=l;const f=e+"CollectionItemSlot",u="data-radix-collection-item",g=gn(f),v=L.forwardRef((w,y)=>{const{scope:R,children:b,...p}=w,x=L.useRef(null),m=ve(y,x),S=i(f,R);return L.useEffect(()=>(S.itemMap.set(x,{ref:x,...p}),()=>void S.itemMap.delete(x))),s.jsx(g,{[u]:"",ref:m,children:b})});v.displayName=f;function N(w){const y=i(e+"CollectionConsumer",w);return L.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const p=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((S,j)=>p.indexOf(S.ref.current)-p.indexOf(j.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:h,ItemSlot:v},N,r]}var uo=c.createContext(void 0);function Yt(e){const t=c.useContext(uo);return e||t||"ltr"}var It="rovingFocusGroup.onEntryFocus",fo={bubbles:!1,cancelable:!0},et="RovingFocusGroup",[_t,Ln,ho]=co(et),[po,_n]=xt(et,[ho]),[go,vo]=po(et),Fn=c.forwardRef((e,t)=>s.jsx(_t.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(_t.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(mo,{...e,ref:t})})}));Fn.displayName=et;var mo=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...u}=e,g=c.useRef(null),v=ve(t,g),N=Yt(i),[w,y]=On({prop:a,defaultProp:l??null,onChange:d,caller:et}),[R,b]=c.useState(!1),p=Ne(h),x=Ln(n),m=c.useRef(!1),[S,j]=c.useState(0);return c.useEffect(()=>{const E=g.current;if(E)return E.addEventListener(It,p),()=>E.removeEventListener(It,p)},[p]),s.jsx(go,{scope:n,orientation:r,dir:N,loop:o,currentTabStopId:w,onItemFocus:c.useCallback(E=>y(E),[y]),onItemShiftTab:c.useCallback(()=>b(!0),[]),onFocusableItemAdd:c.useCallback(()=>j(E=>E+1),[]),onFocusableItemRemove:c.useCallback(()=>j(E=>E-1),[]),children:s.jsx(ne.div,{tabIndex:R||S===0?-1:0,"data-orientation":r,...u,ref:v,style:{outline:"none",...e.style},onMouseDown:U(e.onMouseDown,()=>{m.current=!0}),onFocus:U(e.onFocus,E=>{const T=!m.current;if(E.target===E.currentTarget&&T&&!R){const C=new CustomEvent(It,fo);if(E.currentTarget.dispatchEvent(C),!C.defaultPrevented){const D=x().filter($=>$.focusable),M=D.find($=>$.active),k=D.find($=>$.id===w),Y=[M,k,...D].filter(Boolean).map($=>$.ref.current);$n(Y,f)}}m.current=!1}),onBlur:U(e.onBlur,()=>b(!1))})})}),zn="RovingFocusGroupItem",Bn=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,children:a,...l}=e,d=kn(),h=i||d,f=vo(zn,n),u=f.currentTabStopId===h,g=Ln(n),{onFocusableItemAdd:v,onFocusableItemRemove:N,currentTabStopId:w}=f;return c.useEffect(()=>{if(r)return v(),()=>N()},[r,v,N]),s.jsx(_t.ItemSlot,{scope:n,id:h,focusable:r,active:o,children:s.jsx(ne.span,{tabIndex:u?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:U(e.onMouseDown,y=>{r?f.onItemFocus(h):y.preventDefault()}),onFocus:U(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:U(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const R=wo(y,f.orientation,f.dir);if(R!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let p=g().filter(x=>x.focusable).map(x=>x.ref.current);if(R==="last")p.reverse();else if(R==="prev"||R==="next"){R==="prev"&&p.reverse();const x=p.indexOf(y.currentTarget);p=f.loop?yo(p,x+1):p.slice(x+1)}setTimeout(()=>$n(p))}}),children:typeof a=="function"?a({isCurrentTabStop:u,hasTabStop:w!=null}):a})})});Bn.displayName=zn;var bo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xo(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wo(e,t,n){const r=xo(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bo[r]}function $n(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function yo(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var So=Fn,Co=Bn,wt="Tabs",[Ro]=xt(wt,[_n]),Hn=_n(),[No,Xt]=Ro(wt),Wn=c.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:d="automatic",...h}=e,f=Yt(l),[u,g]=On({prop:r,onChange:o,defaultProp:i??"",caller:wt});return s.jsx(No,{scope:n,baseId:kn(),value:u,onValueChange:g,orientation:a,dir:f,activationMode:d,children:s.jsx(ne.div,{dir:f,"data-orientation":a,...h,ref:t})})});Wn.displayName=wt;var Un="TabsList",Yn=c.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,i=Xt(Un,n),a=Hn(n);return s.jsx(So,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(ne.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:t})})});Yn.displayName=Un;var Xn="TabsTrigger",Vn=c.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...i}=e,a=Xt(Xn,n),l=Hn(n),d=qn(a.baseId,r),h=Jn(a.baseId,r),f=r===a.value;return s.jsx(Co,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(ne.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...i,ref:t,onMouseDown:U(e.onMouseDown,u=>{!o&&u.button===0&&u.ctrlKey===!1?a.onValueChange(r):u.preventDefault()}),onKeyDown:U(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&a.onValueChange(r)}),onFocus:U(e.onFocus,()=>{const u=a.activationMode!=="manual";!f&&!o&&u&&a.onValueChange(r)})})})});Vn.displayName=Xn;var Gn="TabsContent",Kn=c.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:i,...a}=e,l=Xt(Gn,n),d=qn(l.baseId,r),h=Jn(l.baseId,r),f=r===l.value,u=c.useRef(f);return c.useEffect(()=>{const g=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(Qe,{present:o||f,children:({present:g})=>s.jsx(ne.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:h,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:g&&i})})});Kn.displayName=Gn;function qn(e,t){return`${e}-trigger-${t}`}function Jn(e,t){return`${e}-content-${t}`}var jo=Wn,Eo=Yn,Do=Vn,To=Kn;function Io({className:e,...t}){return s.jsx(jo,{"data-slot":"tabs",className:A("flex flex-col gap-2",e),...t})}function Ao({className:e,...t}){return s.jsx(Eo,{"data-slot":"tabs-list",className:A("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function At({className:e,...t}){return s.jsx(Do,{"data-slot":"tabs-trigger",className:A("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Mt({className:e,...t}){return s.jsx(To,{"data-slot":"tabs-content",className:A("flex-1 outline-none",e),...t})}function Mo({className:e,...t}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:A("w-full caption-bottom text-sm",e),...t})})}function Po({className:e,...t}){return s.jsx("thead",{"data-slot":"table-header",className:A("[&_tr]:border-b",e),...t})}function ko({className:e,...t}){return s.jsx("tbody",{"data-slot":"table-body",className:A("[&_tr:last-child]:border-0",e),...t})}function vn({className:e,...t}){return s.jsx("tr",{"data-slot":"table-row",className:A("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function at({className:e,...t}){return s.jsx("th",{"data-slot":"table-head",className:A("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function lt({className:e,...t}){return s.jsx("td",{"data-slot":"table-cell",className:A("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function ft({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:A("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}const Oo=Gr("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function V({className:e,variant:t,asChild:n=!1,...r}){const o=n?Vr:"span";return s.jsx(o,{"data-slot":"badge",className:A(Oo({variant:t}),e),...r})}function Lo(e,[t,n]){return Math.min(n,Math.max(t,e))}function _o(e,t){return c.useReducer((n,r)=>t[n][r]??n,e)}var Vt="ScrollArea",[Qn]=xt(Vt),[Fo,re]=Qn(Vt),Zn=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:i=600,...a}=e,[l,d]=c.useState(null),[h,f]=c.useState(null),[u,g]=c.useState(null),[v,N]=c.useState(null),[w,y]=c.useState(null),[R,b]=c.useState(0),[p,x]=c.useState(0),[m,S]=c.useState(!1),[j,E]=c.useState(!1),T=ve(t,D=>d(D)),C=Yt(o);return s.jsx(Fo,{scope:n,type:r,dir:C,scrollHideDelay:i,scrollArea:l,viewport:h,onViewportChange:f,content:u,onContentChange:g,scrollbarX:v,onScrollbarXChange:N,scrollbarXEnabled:m,onScrollbarXEnabledChange:S,scrollbarY:w,onScrollbarYChange:y,scrollbarYEnabled:j,onScrollbarYEnabledChange:E,onCornerWidthChange:b,onCornerHeightChange:x,children:s.jsx(ne.div,{dir:C,...a,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":R+"px","--radix-scroll-area-corner-height":p+"px",...e.style}})})});Zn.displayName=Vt;var er="ScrollAreaViewport",tr=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...i}=e,a=re(er,n),l=c.useRef(null),d=ve(t,l,a.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(ne.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});tr.displayName=er;var de="ScrollAreaScrollbar",nr=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=re(de,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=o,l=e.orientation==="horizontal";return c.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),o.type==="hover"?s.jsx(zo,{...r,ref:t,forceMount:n}):o.type==="scroll"?s.jsx(Bo,{...r,ref:t,forceMount:n}):o.type==="auto"?s.jsx(rr,{...r,ref:t,forceMount:n}):o.type==="always"?s.jsx(Gt,{...r,ref:t}):null});nr.displayName=de;var zo=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=re(de,e.__scopeScrollArea),[i,a]=c.useState(!1);return c.useEffect(()=>{const l=o.scrollArea;let d=0;if(l){const h=()=>{window.clearTimeout(d),a(!0)},f=()=>{d=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",h),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",h),l.removeEventListener("pointerleave",f)}}},[o.scrollArea,o.scrollHideDelay]),s.jsx(Qe,{present:n||i,children:s.jsx(rr,{"data-state":i?"visible":"hidden",...r,ref:t})})}),Bo=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=re(de,e.__scopeScrollArea),i=e.orientation==="horizontal",a=St(()=>d("SCROLL_END"),100),[l,d]=_o("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(l==="idle"){const h=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(h)}},[l,o.scrollHideDelay,d]),c.useEffect(()=>{const h=o.viewport,f=i?"scrollLeft":"scrollTop";if(h){let u=h[f];const g=()=>{const v=h[f];u!==v&&(d("SCROLL"),a()),u=v};return h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[o.viewport,i,d,a]),s.jsx(Qe,{present:n||l!=="hidden",children:s.jsx(Gt,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:U(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:U(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),rr=c.forwardRef((e,t)=>{const n=re(de,e.__scopeScrollArea),{forceMount:r,...o}=e,[i,a]=c.useState(!1),l=e.orientation==="horizontal",d=St(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?h:f)}},10);return ke(n.viewport,d),ke(n.content,d),s.jsx(Qe,{present:r||i,children:s.jsx(Gt,{"data-state":i?"visible":"hidden",...o,ref:t})})}),Gt=c.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=re(de,e.__scopeScrollArea),i=c.useRef(null),a=c.useRef(0),[l,d]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=lr(l.viewport,l.content),f={...r,sizes:l,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:g=>a.current=g};function u(g,v){return Xo(g,a.current,l,v)}return n==="horizontal"?s.jsx($o,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const g=o.viewport.scrollLeft,v=mn(g,l,o.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollLeft=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollLeft=u(g,o.dir))}}):n==="vertical"?s.jsx(Ho,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const g=o.viewport.scrollTop,v=mn(g,l);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollTop=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollTop=u(g))}}):null}),$o=c.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=re(de,e.__scopeScrollArea),[a,l]=c.useState(),d=c.useRef(null),h=ve(t,d,i.onScrollbarXChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),s.jsx(sr,{"data-orientation":"horizontal",...o,ref:h,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yt(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,u)=>{if(i.viewport){const g=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),dr(g,u)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:pt(a.paddingLeft),paddingEnd:pt(a.paddingRight)}})}})}),Ho=c.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=re(de,e.__scopeScrollArea),[a,l]=c.useState(),d=c.useRef(null),h=ve(t,d,i.onScrollbarYChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),s.jsx(sr,{"data-orientation":"vertical",...o,ref:h,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yt(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,u)=>{if(i.viewport){const g=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),dr(g,u)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:pt(a.paddingTop),paddingEnd:pt(a.paddingBottom)}})}})}),[Wo,or]=Qn(de),sr=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:f,onResize:u,...g}=e,v=re(de,n),[N,w]=c.useState(null),y=ve(t,T=>w(T)),R=c.useRef(null),b=c.useRef(""),p=v.viewport,x=r.content-r.viewport,m=Ne(f),S=Ne(d),j=St(u,10);function E(T){if(R.current){const C=T.clientX-R.current.left,D=T.clientY-R.current.top;h({x:C,y:D})}}return c.useEffect(()=>{const T=C=>{const D=C.target;N?.contains(D)&&m(C,x)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[p,N,x,m]),c.useEffect(S,[r,S]),ke(N,j),ke(v.content,j),s.jsx(Wo,{scope:n,scrollbar:N,hasThumb:o,onThumbChange:Ne(i),onThumbPointerUp:Ne(a),onThumbPositionChange:S,onThumbPointerDown:Ne(l),children:s.jsx(ne.div,{...g,ref:y,style:{position:"absolute",...g.style},onPointerDown:U(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),R.current=N.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),E(T))}),onPointerMove:U(e.onPointerMove,E),onPointerUp:U(e.onPointerUp,T=>{const C=T.target;C.hasPointerCapture(T.pointerId)&&C.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=b.current,v.viewport&&(v.viewport.style.scrollBehavior=""),R.current=null})})})}),ht="ScrollAreaThumb",ir=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=or(ht,e.__scopeScrollArea);return s.jsx(Qe,{present:n||o.hasThumb,children:s.jsx(Uo,{ref:t,...r})})}),Uo=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,i=re(ht,n),a=or(ht,n),{onThumbPositionChange:l}=a,d=ve(t,u=>a.onThumbChange(u)),h=c.useRef(void 0),f=St(()=>{h.current&&(h.current(),h.current=void 0)},100);return c.useEffect(()=>{const u=i.viewport;if(u){const g=()=>{if(f(),!h.current){const v=Vo(u,l);h.current=v,l()}};return l(),u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[i.viewport,f,l]),s.jsx(ne.div,{"data-state":a.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:U(e.onPointerDownCapture,u=>{const v=u.target.getBoundingClientRect(),N=u.clientX-v.left,w=u.clientY-v.top;a.onThumbPointerDown({x:N,y:w})}),onPointerUp:U(e.onPointerUp,a.onThumbPointerUp)})});ir.displayName=ht;var Kt="ScrollAreaCorner",ar=c.forwardRef((e,t)=>{const n=re(Kt,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(Yo,{...e,ref:t}):null});ar.displayName=Kt;var Yo=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=re(Kt,n),[i,a]=c.useState(0),[l,d]=c.useState(0),h=!!(i&&l);return ke(o.scrollbarX,()=>{const f=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(f),d(f)}),ke(o.scrollbarY,()=>{const f=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(f),a(f)}),h?s.jsx(ne.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function pt(e){return e?parseInt(e,10):0}function lr(e,t){const n=e/t;return isNaN(n)?0:n}function yt(e){const t=lr(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Xo(e,t,n,r="ltr"){const o=yt(n),i=o/2,a=t||i,l=o-a,d=n.scrollbar.paddingStart+a,h=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,u=r==="ltr"?[0,f]:[f*-1,0];return cr([d,h],u)(e)}function mn(e,t,n="ltr"){const r=yt(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,a=t.content-t.viewport,l=i-r,d=n==="ltr"?[0,a]:[a*-1,0],h=Lo(e,d);return cr([0,a],[0,l])(h)}function cr(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function dr(e,t){return e>0&&e<t}var Vo=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function o(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&t(),n=i,r=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(r)};function St(e,t){const n=Ne(e),r=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),c.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ke(e,t){const n=Ne(t);Kr(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var Go=Zn,Ko=tr,qo=ar;function ur({className:e,children:t,...n}){return s.jsxs(Go,{"data-slot":"scroll-area",className:A("relative",e),...n,children:[s.jsx(Ko,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),s.jsx(qt,{}),s.jsx(qo,{})]})}function qt({className:e,orientation:t="vertical",...n}){return s.jsx(nr,{"data-slot":"scroll-area-scrollbar",orientation:t,className:A("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:s.jsx(ir,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var Jo="Separator",bn="horizontal",Qo=["horizontal","vertical"],fr=c.forwardRef((e,t)=>{const{decorative:n,orientation:r=bn,...o}=e,i=Zo(r)?r:bn,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(ne.div,{"data-orientation":i,...l,...o,ref:t})});fr.displayName=Jo;function Zo(e){return Qo.includes(e)}var es=fr;function Ft({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return s.jsx(es,{"data-slot":"separator",decorative:n,orientation:t,className:A("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function xn(e,t=120){const n=e.participantIds.length,r=24,o=28,i=40,a=8;if(n===0)return r+o+24;if(n===1)return r+o+i;const l=n*i+(n-1)*a,d=r+o+l;return Math.max(d,t)}function ts(e){const t=new Map;e.forEach(r=>{const o=r.round||1;t.has(o)||t.set(o,[]),t.get(o).push(r)});const n=[];return t.forEach((r,o)=>{n.push({round:o,matches:r.sort((i,a)=>(i.matchNumber||0)-(a.matchNumber||0))})}),n.sort((r,o)=>r.round-o.round)}function hr(e,t){return e===t?"Finals":e===t-1?"Semifinals":e===t-2?"Quarterfinals":`Round ${e}`}function zt(e,t=120,n=16,r=240){const o=ts(e),i=new Map;if(o.length===0)return{rounds:o,positions:i,baseMatchHeight:t,roundWidth:r};const a=new Map,l=new Map;for(let w=0;w<o.length-1;w++){const y=o[w],R=o[w+1];y.matches.forEach((b,p)=>{const x=Math.floor(p/2);if(x<R.matches.length){const m=R.matches[x];a.has(m.id)||a.set(m.id,[]),a.get(m.id).push(b.id),l.set(b.id,m.id)}})}const d=60,h=o.length,f=t+n,u=1+2/h,g=f*u;let v=d;o[0].matches.forEach(w=>{const y=xn(w,t);i.set(w.id,{match:w,x:0,y:v,height:y}),v+=g});for(let w=1;w<o.length;w++){const y=o[w];let R=d;y.matches.forEach(b=>{const p=a.get(b.id)||[],x=xn(b,t);let m=d;if(p.length===0)m=R;else if(p.length===1){const S=i.get(p[0]);S&&(m=Math.max(S.y,R))}else{const S=p.map(j=>i.get(j)).filter(j=>j!==void 0);if(S.length>0){const j=S[0].y,E=S[S.length-1].y,T=S[S.length-1].height,C=(j+E+T)/2-x/2;m=Math.max(C,R)}}i.set(b.id,{match:b,x:w,y:m,height:x}),R=m+x+n})}return{rounds:o,positions:i,baseMatchHeight:t,roundWidth:r}}function ns({bracket:e,thirdPlaceMatch:t,participants:n,onMatchClick:r}){const{t:o}=Ze(),i=120,a=24,l=240,d=c.useMemo(()=>zt(e,i,a,l),[e]),h=d.rounds.length,f=c.useMemo(()=>h<=2?32:h===3?40:h===4?48:56,[h]),u=c.useMemo(()=>new Map(n.map(p=>[p.id,p])),[n]),g=p=>u.get(p)?.name||"TBD",v=p=>u.get(p)?.seed,N=p=>p.status==="completed"?"border-green-500 bg-green-50":p.participantIds.length>=2?"border-blue-500 hover:border-blue-600 cursor-pointer":"border-gray-300",w=(p,x)=>p.result?.winnerId===x,y=p=>s.jsxs(ft,{className:A("p-2 md:p-3 transition-all touch-manipulation w-full",N(p)),onClick:()=>{p.participantIds.length>=2&&p.status!=="completed"&&r(p)},children:[s.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",p.matchNumber]}),s.jsx("div",{className:"space-y-2",children:p.participantIds.length===0?s.jsx("div",{className:"text-sm text-gray-400 italic",children:"Waiting..."}):p.participantIds.length===1?s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:g(p.participantIds[0])}),s.jsx(V,{variant:"secondary",className:"ml-2 text-xs",children:"BYE"})]}):p.participantIds.map(x=>{const m=v(x),S=w(p,x);return s.jsxs("div",{className:A("flex items-center justify-between text-sm p-2 rounded",S&&"bg-green-100 font-semibold",!S&&p.status==="completed"&&"opacity-50"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[m&&s.jsxs("span",{className:"text-xs text-gray-500 font-mono w-6",children:["(",m,")"]}),s.jsx("span",{className:A(S&&"font-semibold"),children:g(x)})]}),S&&s.jsx("span",{className:"text-green-600 font-bold",children:"✓"})]},x)})})]}),R=c.useMemo(()=>{let p=0;return d.positions.forEach(x=>{const m=x.y+x.height;m>p&&(p=m)}),p+40},[d.positions]),b=c.useMemo(()=>h*(l+f)-f,[h,f]);return s.jsx("div",{className:"w-full h-full",children:s.jsxs(ur,{className:"w-full h-[calc(100vh-200px)] md:h-[calc(100vh-180px)]",children:[s.jsx("div",{className:"md:hidden pt-4 px-6 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"← Scroll horizontally to view all rounds →"})}),s.jsx("div",{className:"flex justify-center items-start min-h-full p-6 md:p-8 pt-8 md:pt-10",children:s.jsxs("div",{className:"relative pb-8",style:{height:`${R}px`,width:`${b}px`},children:[s.jsx("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{zIndex:0},children:d.rounds.map((p,x)=>x>=d.rounds.length-1?null:p.matches.map(m=>{const S=d.positions.get(m.id);if(!S)return null;const j=d.rounds[x+1],E=Math.floor(p.matches.findIndex($=>$.id===m.id)/2),T=j.matches[E],C=T?d.positions.get(T.id):null;if(!C)return null;const D=x*(l+f)+l,M=S.y+S.height/2,k=(x+1)*(l+f),O=C.y+C.height/2,Y=D+f/2;return s.jsxs("g",{children:[s.jsx("line",{x1:D,y1:M,x2:Y,y2:M,stroke:"#d1d5db",strokeWidth:"2"}),s.jsx("line",{x1:Y,y1:M,x2:Y,y2:O,stroke:"#d1d5db",strokeWidth:"2"}),s.jsx("line",{x1:Y,y1:O,x2:k,y2:O,stroke:"#d1d5db",strokeWidth:"2"})]},m.id)}))}),d.rounds.map((p,x)=>s.jsxs("div",{className:"absolute",style:{left:`${x*(l+f)}px`,top:0,width:`${l}px`},children:[s.jsx("div",{className:"mb-4 text-center sticky top-0 bg-white z-10 pb-2",children:s.jsx(V,{variant:"outline",className:"text-xs md:text-sm font-semibold",children:hr(p.round,h)})}),p.matches.map(m=>{const S=d.positions.get(m.id);return S?s.jsx("div",{className:"absolute",style:{top:`${S.y}px`,width:`${l}px`,minHeight:`${S.height}px`},children:y(m)},m.id):null})]},p.round))]})}),t&&s.jsxs("div",{className:"px-6 md:px-8 pb-8",children:[s.jsx(Ft,{className:"my-8"}),s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"mb-4 text-center",children:s.jsx(V,{variant:"outline",className:"text-sm font-semibold",children:"Third Place Match"})}),s.jsxs(ft,{className:A("p-3 transition-all",N(t)),onClick:()=>{t.participantIds.length>=2&&t.status!=="completed"&&r(t)},children:[s.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",t.matchNumber]}),s.jsx("div",{className:"space-y-2",children:t.participantIds.map(p=>{const x=v(p),m=w(t,p);return s.jsxs("div",{className:A("flex items-center justify-between text-sm p-2 rounded",m&&"bg-green-100 font-semibold",!m&&t.status==="completed"&&"opacity-50"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[x&&s.jsxs("span",{className:"text-xs text-gray-500 font-mono w-6",children:["(",x,")"]}),s.jsx("span",{className:A(m&&"font-semibold"),children:g(p)})]}),m&&s.jsx("span",{className:"text-green-600 font-bold",children:"✓"})]},p)})})]})]})]}),s.jsx(qt,{orientation:"horizontal"})]})})}function rs({winnersBracket:e,losersBracket:t,grandFinal:n,grandFinalReset:r,participants:o,onMatchClick:i}){const{t:a}=Ze(),l=120,d=24,h=240,f=c.useMemo(()=>zt(e,l,d,h),[e]),u=c.useMemo(()=>zt(t,l,d,h),[t]),g=Math.max(f.rounds.length,u.rounds.length),v=c.useMemo(()=>g<=2?32:g===3?40:g===4?48:56,[g]),N=c.useMemo(()=>new Map(o.map(m=>[m.id,m])),[o]),w=m=>N.get(m)?.name||"TBD",y=m=>N.get(m)?.seed,R=m=>m.status==="completed"?"border-green-500 bg-green-50":m.participantIds.length>=2?"border-blue-500 hover:border-blue-600 cursor-pointer":"border-gray-300",b=(m,S)=>m.result?.winnerId===S,p=(m,S=!0)=>s.jsxs(ft,{className:A("p-2 md:p-3 transition-all touch-manipulation",R(m)),onClick:()=>{m.participantIds.length>=2&&m.status!=="completed"&&i(m)},children:[S&&s.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",m.matchNumber]}),s.jsx("div",{className:"space-y-2",children:m.participantIds.length===0?s.jsx("div",{className:"text-sm text-gray-400 italic",children:"Waiting..."}):m.participantIds.length===1?s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:w(m.participantIds[0])}),s.jsx(V,{variant:"secondary",className:"ml-2 text-xs",children:"BYE"})]}):m.participantIds.map(j=>{const E=y(j),T=b(m,j);return s.jsxs("div",{className:A("flex items-center justify-between text-sm p-2 rounded",T&&"bg-green-100 font-semibold",!T&&m.status==="completed"&&"opacity-50"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[E&&s.jsxs("span",{className:"text-xs text-gray-500 font-mono w-6",children:["(",E,")"]}),s.jsx("span",{className:A(T&&"font-semibold"),children:w(j)})]}),T&&s.jsx("span",{className:"text-green-600 font-bold",children:"✓"})]},j)})})]}),x=(m,S,j="default")=>{let E=0;m.positions.forEach(D=>{const M=D.y+D.height;M>E&&(E=M)});const T=E+40,C=m.rounds.length*(h+v)-v;return s.jsxs("div",{className:"mb-6 md:mb-8",children:[s.jsx("div",{className:"mb-4",children:s.jsx(V,{variant:j,className:"text-sm md:text-base font-bold px-3 md:px-4 py-1",children:S})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"relative pb-4",style:{height:`${T}px`,width:`${C}px`},children:[s.jsx("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{zIndex:0},children:m.rounds.map((D,M)=>M>=m.rounds.length-1?null:D.matches.map(k=>{const O=m.positions.get(k.id);if(!O)return null;const Y=m.rounds[M+1],$=Math.floor(D.matches.findIndex(fe=>fe.id===k.id)/2),H=Y.matches[$],me=H?m.positions.get(H.id):null;if(!me)return null;const Q=M*(h+v)+h,ue=O.y+O.height/2,je=(M+1)*(h+v),F=me.y+me.height/2,X=Q+v/2;return s.jsxs("g",{children:[s.jsx("line",{x1:Q,y1:ue,x2:X,y2:ue,stroke:"#d1d5db",strokeWidth:"2"}),s.jsx("line",{x1:X,y1:ue,x2:X,y2:F,stroke:"#d1d5db",strokeWidth:"2"}),s.jsx("line",{x1:X,y1:F,x2:je,y2:F,stroke:"#d1d5db",strokeWidth:"2"})]},k.id)}))}),m.rounds.map((D,M)=>s.jsxs("div",{className:"absolute",style:{left:`${M*(h+v)}px`,top:0,width:`${h}px`},children:[s.jsx("div",{className:"mb-4 text-center sticky top-0 bg-white z-10 pb-2",children:s.jsx(V,{variant:"outline",className:"text-xs md:text-sm font-semibold",children:hr(D.round,m.rounds.length)})}),D.matches.map(k=>{const O=m.positions.get(k.id);return O?s.jsx("div",{className:"absolute",style:{top:`${O.y}px`,width:`${h}px`,minHeight:`${O.height}px`},children:p(k)},k.id):null})]},D.round))]})})]})};return s.jsx("div",{className:"w-full h-full",children:s.jsxs(ur,{className:"w-full h-[calc(100vh-200px)] md:h-[calc(100vh-180px)]",children:[s.jsx("div",{className:"md:hidden pt-4 px-6 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"← Scroll horizontally to view all rounds →"})}),s.jsxs("div",{className:"p-6 md:p-8 pt-8 md:pt-10",children:[f.rounds.length>0&&x(f,"Winners Bracket","default"),u.rounds.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"my-8"}),x(u,"Losers Bracket","secondary")]}),n&&s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"my-8"}),s.jsxs("div",{className:"max-w-md mx-auto pb-8",children:[s.jsx("div",{className:"mb-4 text-center",children:s.jsxs(V,{className:"text-base font-bold px-4 py-1 bg-yellow-500 hover:bg-yellow-600 gap-2",children:[s.jsx(qr,{className:"w-5 h-5"}),"Grand Finals"]})}),p(n,!1),r&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"mb-2 text-center",children:s.jsx(V,{variant:"outline",className:"text-sm font-semibold",children:"Grand Finals - Reset"})}),p(r,!1)]})]})]})]}),s.jsx(qt,{orientation:"horizontal"})]})})}function os({matches:e,participants:t,onMatchClick:n,groupByRounds:r=!1,showRoundHeaders:o=!1}){const{t:i}=Ze(),a=c.useMemo(()=>new Map(t.map(u=>[u.id,u])),[t]),l=u=>a.get(u)?.name||"Unknown",d=u=>u.status==="completed"?"border-green-500 bg-green-50":u.participantIds.length>=2?"border-blue-500 hover:border-blue-600 cursor-pointer":"border-gray-300",h=(u,g)=>u.result?.winnerId===g,f=u=>s.jsxs(ft,{className:A("p-3 md:p-4 transition-all touch-manipulation",d(u)),onClick:()=>{u.participantIds.length>=2&&u.status!=="completed"&&n(u)},children:[u.matchNumber&&s.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",u.matchNumber]}),u.participantIds.length===0?s.jsx("div",{className:"text-sm text-gray-400 italic",children:"Waiting for participants..."}):u.participantIds.length===1?s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:l(u.participantIds[0])}),s.jsx(V,{variant:"secondary",className:"ml-2 text-xs",children:i("view.bye")})]}):s.jsx("div",{className:"space-y-2",children:u.participantIds.map(g=>{const v=h(u,g);return s.jsxs("div",{className:A("flex items-center justify-between text-sm p-2 rounded",v&&"bg-green-100 font-semibold",!v&&u.status==="completed"&&"opacity-50"),children:[s.jsx("span",{className:A(v&&"font-semibold"),children:l(g)}),v&&s.jsx("span",{className:"text-green-600 font-bold",children:"✓"})]},g)})}),u.result?.score&&s.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["Score: ",u.result.score.participant1Score," - ",u.result.score.participant2Score]})]},u.id);if(r&&o){const u=new Map;e.forEach(v=>{const N=v.round||1;u.has(N)||u.set(N,[]),u.get(N).push(v)});const g=Array.from(u.entries()).sort((v,N)=>v[0]-N[0]);return s.jsx("div",{className:"space-y-6",children:g.map(([v,N])=>s.jsxs("div",{children:[s.jsxs("div",{className:"mb-3",children:[s.jsx(V,{variant:"outline",className:"text-sm font-semibold",children:i("view.round",{number:v})}),s.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",N.filter(w=>w.status==="completed").length,"/",N.length," completed)"]})]}),s.jsx("div",{className:"space-y-3",children:N.map(f)})]},v))})}return s.jsx("div",{className:"space-y-3",children:e.length===0?s.jsx("p",{className:"text-sm text-gray-500",children:i("view.noMatches")}):e.map(f)})}function ss(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Ct=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Oe(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Jt(e){return"nodeType"in e}function G(e){var t,n;return e?Oe(e)?e:Jt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Qt(e){const{Document:t}=G(e);return e instanceof t}function tt(e){return Oe(e)?!1:e instanceof G(e).HTMLElement}function pr(e){return e instanceof G(e).SVGElement}function Le(e){return e?Oe(e)?e.document:Jt(e)?Qt(e)?e:tt(e)||pr(e)?e.ownerDocument:document:document:document}const ce=Ct?c.useLayoutEffect:c.useEffect;function Zt(e){const t=c.useRef(e);return ce(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function is(){const e=c.useRef(null),t=c.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ge(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return ce(()=>{n.current!==e&&(n.current=e)},t),n}function nt(e,t){const n=c.useRef();return c.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function gt(e){const t=Zt(e),n=c.useRef(null),r=c.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,r]}function Bt(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let Pt={};function rt(e,t){return c.useMemo(()=>{if(t)return t;const n=Pt[e]==null?0:Pt[e]+1;return Pt[e]=n,e+"-"+n},[e,t])}function gr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,a)=>{const l=Object.entries(a);for(const[d,h]of l){const f=i[d];f!=null&&(i[d]=f+e*h)}return i},{...t})}}const Pe=gr(1),Ke=gr(-1);function as(e){return"clientX"in e&&"clientY"in e}function en(e){if(!e)return!1;const{KeyboardEvent:t}=G(e.target);return t&&e instanceof t}function ls(e){if(!e)return!1;const{TouchEvent:t}=G(e.target);return t&&e instanceof t}function $t(e){if(ls(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return as(e)?{x:e.clientX,y:e.clientY}:null}const qe=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[qe.Translate.toString(e),qe.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),wn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function cs(e){return e.matches(wn)?e:e.querySelector(wn)}const ds={display:"none"};function us(e){let{id:t,value:n}=e;return L.createElement("div",{id:t,style:ds},n)}function fs(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return L.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function hs(){const[e,t]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const vr=c.createContext(null);function ps(e){const t=c.useContext(vr);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function gs(){const[e]=c.useState(()=>new Set),t=c.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[c.useCallback(r=>{let{type:o,event:i}=r;e.forEach(a=>{var l;return(l=a[o])==null?void 0:l.call(a,i)})},[e]),t]}const vs={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ms={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function bs(e){let{announcements:t=ms,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=vs}=e;const{announce:i,announcement:a}=hs(),l=rt("DndLiveRegion"),[d,h]=c.useState(!1);if(c.useEffect(()=>{h(!0)},[]),ps(c.useMemo(()=>({onDragStart(u){let{active:g}=u;i(t.onDragStart({active:g}))},onDragMove(u){let{active:g,over:v}=u;t.onDragMove&&i(t.onDragMove({active:g,over:v}))},onDragOver(u){let{active:g,over:v}=u;i(t.onDragOver({active:g,over:v}))},onDragEnd(u){let{active:g,over:v}=u;i(t.onDragEnd({active:g,over:v}))},onDragCancel(u){let{active:g,over:v}=u;i(t.onDragCancel({active:g,over:v}))}}),[i,t])),!d)return null;const f=L.createElement(L.Fragment,null,L.createElement(us,{id:r,value:o.draggable}),L.createElement(fs,{id:l,announcement:a}));return n?Ue.createPortal(f,n):f}var _;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(_||(_={}));function vt(){}function yn(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function xs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const oe=Object.freeze({x:0,y:0});function mr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function br(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function ws(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Sn(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function xr(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Cn(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const ys=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Cn(t,t.left,t.top),i=[];for(const a of r){const{id:l}=a,d=n.get(l);if(d){const h=mr(Cn(d),o);i.push({id:l,data:{droppableContainer:a,value:h}})}}return i.sort(br)},Ss=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Sn(t),i=[];for(const a of r){const{id:l}=a,d=n.get(l);if(d){const h=Sn(d),f=o.reduce((g,v,N)=>g+mr(h[N],v),0),u=Number((f/4).toFixed(4));i.push({id:l,data:{droppableContainer:a,value:u}})}}return i.sort(br)};function Cs(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=o-r,l=i-n;if(r<o&&n<i){const d=t.width*t.height,h=e.width*e.height,f=a*l,u=f/(d+h-f);return Number(u.toFixed(4))}return 0}const Rs=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:a}=i,l=n.get(a);if(l){const d=Cs(l,t);d>0&&o.push({id:a,data:{droppableContainer:i,value:d}})}}return o.sort(ws)};function Ns(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function wr(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:oe}function js(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((a,l)=>({...a,top:a.top+e*l.y,bottom:a.bottom+e*l.y,left:a.left+e*l.x,right:a.right+e*l.x}),{...n})}}const Es=js(1);function Ds(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Ts(e,t,n){const r=Ds(t);if(!r)return e;const{scaleX:o,scaleY:i,x:a,y:l}=r,d=e.left-a-(1-o)*parseFloat(n),h=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),f=o?e.width/o:e.width,u=i?e.height/i:e.height;return{width:f,height:u,top:h,right:d+f,bottom:h+u,left:d}}const Is={ignoreTransform:!1};function _e(e,t){t===void 0&&(t=Is);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:f}=G(e).getComputedStyle(e);h&&(n=Ts(n,h,f))}const{top:r,left:o,width:i,height:a,bottom:l,right:d}=n;return{top:r,left:o,width:i,height:a,bottom:l,right:d}}function Rn(e){return _e(e,{ignoreTransform:!0})}function As(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Ms(e,t){return t===void 0&&(t=G(e).getComputedStyle(e)),t.position==="fixed"}function Ps(e,t){t===void 0&&(t=G(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function Rt(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(Qt(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!tt(o)||pr(o)||n.includes(o))return n;const i=G(e).getComputedStyle(o);return o!==e&&Ps(o,i)&&n.push(o),Ms(o,i)?n:r(o.parentNode)}return e?r(e):n}function yr(e){const[t]=Rt(e,1);return t??null}function kt(e){return!Ct||!e?null:Oe(e)?e:Jt(e)?Qt(e)||e===Le(e).scrollingElement?window:tt(e)?e:null:null}function Sr(e){return Oe(e)?e.scrollX:e.scrollLeft}function Cr(e){return Oe(e)?e.scrollY:e.scrollTop}function Ht(e){return{x:Sr(e),y:Cr(e)}}var z;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(z||(z={}));function Rr(e){return!Ct||!e?!1:e===document.scrollingElement}function Nr(e){const t={x:0,y:0},n=Rr(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:a,isRight:l,maxScroll:r,minScroll:t}}const ks={x:.2,y:.2};function Os(e,t,n,r,o){let{top:i,left:a,right:l,bottom:d}=n;r===void 0&&(r=10),o===void 0&&(o=ks);const{isTop:h,isBottom:f,isLeft:u,isRight:g}=Nr(e),v={x:0,y:0},N={x:0,y:0},w={height:t.height*o.y,width:t.width*o.x};return!h&&i<=t.top+w.height?(v.y=z.Backward,N.y=r*Math.abs((t.top+w.height-i)/w.height)):!f&&d>=t.bottom-w.height&&(v.y=z.Forward,N.y=r*Math.abs((t.bottom-w.height-d)/w.height)),!g&&l>=t.right-w.width?(v.x=z.Forward,N.x=r*Math.abs((t.right-w.width-l)/w.width)):!u&&a<=t.left+w.width&&(v.x=z.Backward,N.x=r*Math.abs((t.left+w.width-a)/w.width)),{direction:v,speed:N}}function Ls(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function jr(e){return e.reduce((t,n)=>Pe(t,Ht(n)),oe)}function _s(e){return e.reduce((t,n)=>t+Sr(n),0)}function Fs(e){return e.reduce((t,n)=>t+Cr(n),0)}function zs(e,t){if(t===void 0&&(t=_e),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);yr(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Bs=[["x",["left","right"],_s],["y",["top","bottom"],Fs]];class tn{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Rt(n),o=jr(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,a,l]of Bs)for(const d of a)Object.defineProperty(this,d,{get:()=>{const h=l(r),f=o[i]-h;return this.rect[d]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ye{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function $s(e){const{EventTarget:t}=G(e);return e instanceof t?e:Le(e)}function Ot(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var te;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(te||(te={}));function Nn(e){e.preventDefault()}function Hs(e){e.stopPropagation()}var I;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(I||(I={}));const Er={start:[I.Space,I.Enter],cancel:[I.Esc],end:[I.Space,I.Enter,I.Tab]},Ws=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case I.Right:return{...n,x:n.x+25};case I.Left:return{...n,x:n.x-25};case I.Down:return{...n,y:n.y+25};case I.Up:return{...n,y:n.y-25}}};class nn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ye(Le(n)),this.windowListeners=new Ye(G(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(te.Resize,this.handleCancel),this.windowListeners.add(te.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(te.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&zs(r),n(oe)}handleKeyDown(t){if(en(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=Er,coordinateGetter:a=Ws,scrollBehavior:l="smooth"}=o,{code:d}=t;if(i.end.includes(d)){this.handleEnd(t);return}if(i.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:h}=r.current,f=h?{x:h.left,y:h.top}:oe;this.referenceCoordinates||(this.referenceCoordinates=f);const u=a(t,{active:n,context:r.current,currentCoordinates:f});if(u){const g=Ke(u,f),v={x:0,y:0},{scrollableAncestors:N}=r.current;for(const w of N){const y=t.code,{isTop:R,isRight:b,isLeft:p,isBottom:x,maxScroll:m,minScroll:S}=Nr(w),j=Ls(w),E={x:Math.min(y===I.Right?j.right-j.width/2:j.right,Math.max(y===I.Right?j.left:j.left+j.width/2,u.x)),y:Math.min(y===I.Down?j.bottom-j.height/2:j.bottom,Math.max(y===I.Down?j.top:j.top+j.height/2,u.y))},T=y===I.Right&&!b||y===I.Left&&!p,C=y===I.Down&&!x||y===I.Up&&!R;if(T&&E.x!==u.x){const D=w.scrollLeft+g.x,M=y===I.Right&&D<=m.x||y===I.Left&&D>=S.x;if(M&&!g.y){w.scrollTo({left:D,behavior:l});return}M?v.x=w.scrollLeft-D:v.x=y===I.Right?w.scrollLeft-m.x:w.scrollLeft-S.x,v.x&&w.scrollBy({left:-v.x,behavior:l});break}else if(C&&E.y!==u.y){const D=w.scrollTop+g.y,M=y===I.Down&&D<=m.y||y===I.Up&&D>=S.y;if(M&&!g.x){w.scrollTo({top:D,behavior:l});return}M?v.y=w.scrollTop-D:v.y=y===I.Down?w.scrollTop-m.y:w.scrollTop-S.y,v.y&&w.scrollBy({top:-v.y,behavior:l});break}}this.handleMove(t,Pe(Ke(u,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}nn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Er,onActivation:o}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function jn(e){return!!(e&&"distance"in e)}function En(e){return!!(e&&"delay"in e)}class rn{constructor(t,n,r){var o;r===void 0&&(r=$s(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:a}=i;this.props=t,this.events=n,this.document=Le(a),this.documentListeners=new Ye(this.document),this.listeners=new Ye(r),this.windowListeners=new Ye(G(a)),this.initialCoordinates=(o=$t(i))!=null?o:oe,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(te.Resize,this.handleCancel),this.windowListeners.add(te.DragStart,Nn),this.windowListeners.add(te.VisibilityChange,this.handleCancel),this.windowListeners.add(te.ContextMenu,Nn),this.documentListeners.add(te.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(En(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(jn(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(te.Click,Hs,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(te.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:a,options:{activationConstraint:l}}=i;if(!o)return;const d=(n=$t(t))!=null?n:oe,h=Ke(o,d);if(!r&&l){if(jn(l)){if(l.tolerance!=null&&Ot(h,l.tolerance))return this.handleCancel();if(Ot(h,l.distance))return this.handleStart()}if(En(l)&&Ot(h,l.tolerance))return this.handleCancel();this.handlePending(l,h);return}t.cancelable&&t.preventDefault(),a(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===I.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Us={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class on extends rn{constructor(t){const{event:n}=t,r=Le(n.target);super(t,Us,r)}}on.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const Ys={move:{name:"mousemove"},end:{name:"mouseup"}};var Wt;(function(e){e[e.RightClick=2]="RightClick"})(Wt||(Wt={}));class Xs extends rn{constructor(t){super(t,Ys,Le(t.event.target))}}Xs.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Wt.RightClick?!1:(r?.({event:n}),!0)}}];const Lt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Vs extends rn{constructor(t){super(t,Lt)}static setup(){return window.addEventListener(Lt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Lt.move.name,t)};function t(){}}}Vs.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var Xe;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Xe||(Xe={}));var mt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(mt||(mt={}));function Gs(e){let{acceleration:t,activator:n=Xe.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:a=5,order:l=mt.TreeOrder,pointerCoordinates:d,scrollableAncestors:h,scrollableAncestorRects:f,delta:u,threshold:g}=e;const v=qs({delta:u,disabled:!i}),[N,w]=is(),y=c.useRef({x:0,y:0}),R=c.useRef({x:0,y:0}),b=c.useMemo(()=>{switch(n){case Xe.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Xe.DraggableRect:return o}},[n,o,d]),p=c.useRef(null),x=c.useCallback(()=>{const S=p.current;if(!S)return;const j=y.current.x*R.current.x,E=y.current.y*R.current.y;S.scrollBy(j,E)},[]),m=c.useMemo(()=>l===mt.TreeOrder?[...h].reverse():h,[l,h]);c.useEffect(()=>{if(!i||!h.length||!b){w();return}for(const S of m){if(r?.(S)===!1)continue;const j=h.indexOf(S),E=f[j];if(!E)continue;const{direction:T,speed:C}=Os(S,E,b,t,g);for(const D of["x","y"])v[D][T[D]]||(C[D]=0,T[D]=0);if(C.x>0||C.y>0){w(),p.current=S,N(x,a),y.current=C,R.current=T;return}}y.current={x:0,y:0},R.current={x:0,y:0},w()},[t,x,r,w,i,a,JSON.stringify(b),JSON.stringify(v),N,h,m,f,JSON.stringify(g)])}const Ks={x:{[z.Backward]:!1,[z.Forward]:!1},y:{[z.Backward]:!1,[z.Forward]:!1}};function qs(e){let{delta:t,disabled:n}=e;const r=Bt(t);return nt(o=>{if(n||!r||!o)return Ks;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[z.Backward]:o.x[z.Backward]||i.x===-1,[z.Forward]:o.x[z.Forward]||i.x===1},y:{[z.Backward]:o.y[z.Backward]||i.y===-1,[z.Forward]:o.y[z.Forward]||i.y===1}}},[n,t,r])}function Js(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return nt(o=>{var i;return t==null?null:(i=r??o)!=null?i:null},[r,t])}function Qs(e,t){return c.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...i]},[]),[e,t])}var Je;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Je||(Je={}));var Ut;(function(e){e.Optimized="optimized"})(Ut||(Ut={}));const Dn=new Map;function Zs(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,a]=c.useState(null),{frequency:l,measure:d,strategy:h}=o,f=c.useRef(e),u=y(),g=Ge(u),v=c.useCallback(function(R){R===void 0&&(R=[]),!g.current&&a(b=>b===null?R:b.concat(R.filter(p=>!b.includes(p))))},[g]),N=c.useRef(null),w=nt(R=>{if(u&&!n)return Dn;if(!R||R===Dn||f.current!==e||i!=null){const b=new Map;for(let p of e){if(!p)continue;if(i&&i.length>0&&!i.includes(p.id)&&p.rect.current){b.set(p.id,p.rect.current);continue}const x=p.node.current,m=x?new tn(d(x),x):null;p.rect.current=m,m&&b.set(p.id,m)}return b}return R},[e,i,n,u,d]);return c.useEffect(()=>{f.current=e},[e]),c.useEffect(()=>{u||v()},[n,u]),c.useEffect(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),c.useEffect(()=>{u||typeof l!="number"||N.current!==null||(N.current=setTimeout(()=>{v(),N.current=null},l))},[l,u,v,...r]),{droppableRects:w,measureDroppableContainers:v,measuringScheduled:i!=null};function y(){switch(h){case Je.Always:return!1;case Je.BeforeDragging:return n;default:return!n}}}function Dr(e,t){return nt(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function ei(e,t){return Dr(e,t)}function ti(e){let{callback:t,disabled:n}=e;const r=Zt(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return c.useEffect(()=>()=>o?.disconnect(),[o]),o}function Nt(e){let{callback:t,disabled:n}=e;const r=Zt(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return c.useEffect(()=>()=>o?.disconnect(),[o]),o}function ni(e){return new tn(_e(e),e)}function Tn(e,t,n){t===void 0&&(t=ni);const[r,o]=c.useState(null);function i(){o(d=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=d??n)!=null?h:null}const f=t(e);return JSON.stringify(d)===JSON.stringify(f)?d:f})}const a=ti({callback(d){if(e)for(const h of d){const{type:f,target:u}=h;if(f==="childList"&&u instanceof HTMLElement&&u.contains(e)){i();break}}}}),l=Nt({callback:i});return ce(()=>{i(),e?(l?.observe(e),a?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),a?.disconnect())},[e]),r}function ri(e){const t=Dr(e);return wr(e,t)}const In=[];function oi(e){const t=c.useRef(e),n=nt(r=>e?r&&r!==In&&e&&t.current&&e.parentNode===t.current.parentNode?r:Rt(e):In,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function si(e){const[t,n]=c.useState(null),r=c.useRef(e),o=c.useCallback(i=>{const a=kt(i.target);a&&n(l=>l?(l.set(a,Ht(a)),new Map(l)):null)},[]);return c.useEffect(()=>{const i=r.current;if(e!==i){a(i);const l=e.map(d=>{const h=kt(d);return h?(h.addEventListener("scroll",o,{passive:!0}),[h,Ht(h)]):null}).filter(d=>d!=null);n(l.length?new Map(l):null),r.current=e}return()=>{a(e),a(i)};function a(l){l.forEach(d=>{const h=kt(d);h?.removeEventListener("scroll",o)})}},[o,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,a)=>Pe(i,a),oe):jr(e):oe,[e,t])}function An(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const r=e!==oe;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Ke(e,n.current):oe}function ii(e){c.useEffect(()=>{if(!Ct)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function ai(e,t){return c.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=a=>{i(a,t)},n},{}),[e,t])}function Tr(e){return c.useMemo(()=>e?As(e):null,[e])}const Mn=[];function li(e,t){t===void 0&&(t=_e);const[n]=e,r=Tr(n?G(n):null),[o,i]=c.useState(Mn);function a(){i(()=>e.length?e.map(d=>Rr(d)?r:new tn(t(d),d)):Mn)}const l=Nt({callback:a});return ce(()=>{l?.disconnect(),a(),e.forEach(d=>l?.observe(d))},[e]),o}function ci(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return tt(t)?t:e}function di(e){let{measure:t}=e;const[n,r]=c.useState(null),o=c.useCallback(h=>{for(const{target:f}of h)if(tt(f)){r(u=>{const g=t(f);return u?{...u,width:g.width,height:g.height}:g});break}},[t]),i=Nt({callback:o}),a=c.useCallback(h=>{const f=ci(h);i?.disconnect(),f&&i?.observe(f),r(f?t(f):null)},[t,i]),[l,d]=gt(a);return c.useMemo(()=>({nodeRef:l,rect:n,setRef:d}),[n,l,d])}const ui=[{sensor:on,options:{}},{sensor:nn,options:{}}],fi={current:{}},ut={draggable:{measure:Rn},droppable:{measure:Rn,strategy:Je.WhileDragging,frequency:Ut.Optimized},dragOverlay:{measure:_e}};class Ve extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const hi={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ve,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:vt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ut,measureDroppableContainers:vt,windowRect:null,measuringScheduled:!1},pi={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:vt,draggableNodes:new Map,over:null,measureDroppableContainers:vt},jt=c.createContext(pi),Ir=c.createContext(hi);function gi(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ve}}}function vi(e,t){switch(t.type){case _.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case _.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case _.DragEnd:case _.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case _.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Ve(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case _.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Ve(e.droppable.containers);return a.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case _.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Ve(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function mi(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=c.useContext(jt),i=Bt(r),a=Bt(n?.id);return c.useEffect(()=>{if(!t&&!r&&i&&a!=null){if(!en(i)||document.activeElement===i.target)return;const l=o.get(a);if(!l)return;const{activatorNode:d,node:h}=l;if(!d.current&&!h.current)return;requestAnimationFrame(()=>{for(const f of[d.current,h.current]){if(!f)continue;const u=cs(f);if(u){u.focus();break}}})}},[r,t,o,a,i]),null}function bi(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function xi(e){return c.useMemo(()=>({draggable:{...ut.draggable,...e?.draggable},droppable:{...ut.droppable,...e?.droppable},dragOverlay:{...ut.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function wi(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=c.useRef(!1),{x:a,y:l}=typeof o=="boolean"?{x:o,y:o}:o;ce(()=>{if(!a&&!l||!t){i.current=!1;return}if(i.current||!r)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const f=n(h),u=wr(f,r);if(a||(u.x=0),l||(u.y=0),i.current=!0,Math.abs(u.x)>0||Math.abs(u.y)>0){const g=yr(h);g&&g.scrollBy({top:u.y,left:u.x})}},[t,a,l,r,n])}const Ar=c.createContext({...oe,scaleX:1,scaleY:1});var Re;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Re||(Re={}));const yi=c.memo(function(t){var n,r,o,i;let{id:a,accessibility:l,autoScroll:d=!0,children:h,sensors:f=ui,collisionDetection:u=Rs,measuring:g,modifiers:v,...N}=t;const w=c.useReducer(vi,void 0,gi),[y,R]=w,[b,p]=gs(),[x,m]=c.useState(Re.Uninitialized),S=x===Re.Initialized,{draggable:{active:j,nodes:E,translate:T},droppable:{containers:C}}=y,D=j!=null?E.get(j):null,M=c.useRef({initial:null,translated:null}),k=c.useMemo(()=>{var W;return j!=null?{id:j,data:(W=D?.data)!=null?W:fi,rect:M}:null},[j,D]),O=c.useRef(null),[Y,$]=c.useState(null),[H,me]=c.useState(null),Q=Ge(N,Object.values(N)),ue=rt("DndDescribedBy",a),je=c.useMemo(()=>C.getEnabled(),[C]),F=xi(g),{droppableRects:X,measureDroppableContainers:fe,measuringScheduled:Fe}=Zs(je,{dragging:S,dependencies:[T.x,T.y],config:F.droppable}),Z=Js(E,j),ot=c.useMemo(()=>H?$t(H):null,[H]),be=Yr(),he=ei(Z,F.draggable.measure);wi({activeNode:j!=null?E.get(j):null,config:be.layoutShiftCompensation,initialRect:he,measure:F.draggable.measure});const P=Tn(Z,F.draggable.measure,he),ze=Tn(Z?Z.parentElement:null),se=c.useRef({activatorEvent:null,active:null,activeNode:Z,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:C,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ee=C.getNodeFor((n=se.current.over)==null?void 0:n.id),pe=di({measure:F.dragOverlay.measure}),De=(r=pe.nodeRef.current)!=null?r:Z,Te=S?(o=pe.rect)!=null?o:P:null,an=!!(pe.nodeRef.current&&pe.rect),ln=ri(an?null:P),Et=Tr(De?G(De):null),xe=oi(S?Ee??Z:null),st=li(xe),it=bi(v,{transform:{x:T.x-ln.x,y:T.y-ln.y,scaleX:1,scaleY:1},activatorEvent:H,active:k,activeNodeRect:P,containerNodeRect:ze,draggingNodeRect:Te,over:se.current.over,overlayNodeRect:pe.rect,scrollableAncestors:xe,scrollableAncestorRects:st,windowRect:Et}),cn=ot?Pe(ot,T):null,dn=si(xe),Fr=An(dn),zr=An(dn,[P]),Ie=Pe(it,Fr),Ae=Te?Es(Te,it):null,Be=k&&Ae?u({active:k,collisionRect:Ae,droppableRects:X,droppableContainers:je,pointerCoordinates:cn}):null,un=xr(Be,"id"),[we,fn]=c.useState(null),Br=an?it:Pe(it,zr),$r=Ns(Br,(i=we?.rect)!=null?i:null,P),Dt=c.useRef(null),hn=c.useCallback((W,K)=>{let{sensor:q,options:ye}=K;if(O.current==null)return;const ee=E.get(O.current);if(!ee)return;const J=W.nativeEvent,ie=new q({active:O.current,activeNode:ee,event:J,options:ye,context:se,onAbort(B){if(!E.get(B))return;const{onDragAbort:ae}=Q.current,ge={id:B};ae?.(ge),b({type:"onDragAbort",event:ge})},onPending(B,Se,ae,ge){if(!E.get(B))return;const{onDragPending:He}=Q.current,Ce={id:B,constraint:Se,initialCoordinates:ae,offset:ge};He?.(Ce),b({type:"onDragPending",event:Ce})},onStart(B){const Se=O.current;if(Se==null)return;const ae=E.get(Se);if(!ae)return;const{onDragStart:ge}=Q.current,$e={activatorEvent:J,active:{id:Se,data:ae.data,rect:M}};Ue.unstable_batchedUpdates(()=>{ge?.($e),m(Re.Initializing),R({type:_.DragStart,initialCoordinates:B,active:Se}),b({type:"onDragStart",event:$e}),$(Dt.current),me(J)})},onMove(B){R({type:_.DragMove,coordinates:B})},onEnd:Me(_.DragEnd),onCancel:Me(_.DragCancel)});Dt.current=ie;function Me(B){return async function(){const{active:ae,collisions:ge,over:$e,scrollAdjustedTranslate:He}=se.current;let Ce=null;if(ae&&He){const{cancelDrop:We}=Q.current;Ce={activatorEvent:J,active:ae,collisions:ge,delta:He,over:$e},B===_.DragEnd&&typeof We=="function"&&await Promise.resolve(We(Ce))&&(B=_.DragCancel)}O.current=null,Ue.unstable_batchedUpdates(()=>{R({type:B}),m(Re.Uninitialized),fn(null),$(null),me(null),Dt.current=null;const We=B===_.DragEnd?"onDragEnd":"onDragCancel";if(Ce){const Tt=Q.current[We];Tt?.(Ce),b({type:We,event:Ce})}})}}},[E]),Hr=c.useCallback((W,K)=>(q,ye)=>{const ee=q.nativeEvent,J=E.get(ye);if(O.current!==null||!J||ee.dndKit||ee.defaultPrevented)return;const ie={active:J};W(q,K.options,ie)===!0&&(ee.dndKit={capturedBy:K.sensor},O.current=ye,hn(q,K))},[E,hn]),pn=Qs(f,Hr);ii(f),ce(()=>{P&&x===Re.Initializing&&m(Re.Initialized)},[P,x]),c.useEffect(()=>{const{onDragMove:W}=Q.current,{active:K,activatorEvent:q,collisions:ye,over:ee}=se.current;if(!K||!q)return;const J={active:K,activatorEvent:q,collisions:ye,delta:{x:Ie.x,y:Ie.y},over:ee};Ue.unstable_batchedUpdates(()=>{W?.(J),b({type:"onDragMove",event:J})})},[Ie.x,Ie.y]),c.useEffect(()=>{const{active:W,activatorEvent:K,collisions:q,droppableContainers:ye,scrollAdjustedTranslate:ee}=se.current;if(!W||O.current==null||!K||!ee)return;const{onDragOver:J}=Q.current,ie=ye.get(un),Me=ie&&ie.rect.current?{id:ie.id,rect:ie.rect.current,data:ie.data,disabled:ie.disabled}:null,B={active:W,activatorEvent:K,collisions:q,delta:{x:ee.x,y:ee.y},over:Me};Ue.unstable_batchedUpdates(()=>{fn(Me),J?.(B),b({type:"onDragOver",event:B})})},[un]),ce(()=>{se.current={activatorEvent:H,active:k,activeNode:Z,collisionRect:Ae,collisions:Be,droppableRects:X,draggableNodes:E,draggingNode:De,draggingNodeRect:Te,droppableContainers:C,over:we,scrollableAncestors:xe,scrollAdjustedTranslate:Ie},M.current={initial:Te,translated:Ae}},[k,Z,Be,Ae,E,De,Te,X,C,we,xe,Ie]),Gs({...be,delta:T,draggingRect:Ae,pointerCoordinates:cn,scrollableAncestors:xe,scrollableAncestorRects:st});const Wr=c.useMemo(()=>({active:k,activeNode:Z,activeNodeRect:P,activatorEvent:H,collisions:Be,containerNodeRect:ze,dragOverlay:pe,draggableNodes:E,droppableContainers:C,droppableRects:X,over:we,measureDroppableContainers:fe,scrollableAncestors:xe,scrollableAncestorRects:st,measuringConfiguration:F,measuringScheduled:Fe,windowRect:Et}),[k,Z,P,H,Be,ze,pe,E,C,X,we,fe,xe,st,F,Fe,Et]),Ur=c.useMemo(()=>({activatorEvent:H,activators:pn,active:k,activeNodeRect:P,ariaDescribedById:{draggable:ue},dispatch:R,draggableNodes:E,over:we,measureDroppableContainers:fe}),[H,pn,k,P,R,ue,E,we,fe]);return L.createElement(vr.Provider,{value:p},L.createElement(jt.Provider,{value:Ur},L.createElement(Ir.Provider,{value:Wr},L.createElement(Ar.Provider,{value:$r},h)),L.createElement(mi,{disabled:l?.restoreFocus===!1})),L.createElement(bs,{...l,hiddenTextDescribedById:ue}));function Yr(){const W=Y?.autoScrollEnabled===!1,K=typeof d=="object"?d.enabled===!1:d===!1,q=S&&!W&&!K;return typeof d=="object"?{...d,enabled:q}:{enabled:q}}}),Si=c.createContext(null),Pn="button",Ci="Draggable";function Ri(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=rt(Ci),{activators:a,activatorEvent:l,active:d,activeNodeRect:h,ariaDescribedById:f,draggableNodes:u,over:g}=c.useContext(jt),{role:v=Pn,roleDescription:N="draggable",tabIndex:w=0}=o??{},y=d?.id===t,R=c.useContext(y?Ar:Si),[b,p]=gt(),[x,m]=gt(),S=ai(a,t),j=Ge(n);ce(()=>(u.set(t,{id:t,key:i,node:b,activatorNode:x,data:j}),()=>{const T=u.get(t);T&&T.key===i&&u.delete(t)}),[u,t]);const E=c.useMemo(()=>({role:v,tabIndex:w,"aria-disabled":r,"aria-pressed":y&&v===Pn?!0:void 0,"aria-roledescription":N,"aria-describedby":f.draggable}),[r,v,w,y,N,f.draggable]);return{active:d,activatorEvent:l,activeNodeRect:h,attributes:E,isDragging:y,listeners:r?void 0:S,node:b,over:g,setNodeRef:p,setActivatorNodeRef:m,transform:R}}function Ni(){return c.useContext(Ir)}const ji="Droppable",Ei={timeout:25};function Di(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=rt(ji),{active:a,dispatch:l,over:d,measureDroppableContainers:h}=c.useContext(jt),f=c.useRef({disabled:n}),u=c.useRef(!1),g=c.useRef(null),v=c.useRef(null),{disabled:N,updateMeasurementsFor:w,timeout:y}={...Ei,...o},R=Ge(w??r),b=c.useCallback(()=>{if(!u.current){u.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{h(Array.isArray(R.current)?R.current:[R.current]),v.current=null},y)},[y]),p=Nt({callback:b,disabled:N||!a}),x=c.useCallback((E,T)=>{p&&(T&&(p.unobserve(T),u.current=!1),E&&p.observe(E))},[p]),[m,S]=gt(x),j=Ge(t);return c.useEffect(()=>{!p||!m.current||(p.disconnect(),u.current=!1,p.observe(m.current))},[m,p]),c.useEffect(()=>(l({type:_.RegisterDroppable,element:{id:r,key:i,disabled:n,node:m,rect:g,data:j}}),()=>l({type:_.UnregisterDroppable,key:i,id:r})),[r]),c.useEffect(()=>{n!==f.current.disabled&&(l({type:_.SetDroppableDisabled,id:r,key:i,disabled:n}),f.current.disabled=n)},[r,i,n,l]),{active:a,rect:g,isOver:d?.id===r,node:m,over:d,setNodeRef:S}}function sn(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Ti(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function ct(e){return e!==null&&e>=0}function Ii(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ai(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Mr=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=sn(t,r,n),a=t[o],l=i[o];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},dt={scaleX:1,scaleY:1},Mi=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:a}=e;const l=(t=i[n])!=null?t:r;if(!l)return null;if(o===n){const h=i[a];return h?{x:0,y:n<a?h.top+h.height-(l.top+l.height):h.top-l.top,...dt}:null}const d=Pi(i,o,n);return o>n&&o<=a?{x:0,y:-l.height-d,...dt}:o<n&&o>=a?{x:0,y:l.height+d,...dt}:{x:0,y:0,...dt}};function Pi(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Pr="Sortable",kr=L.createContext({activeIndex:-1,containerId:Pr,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Mr,disabled:{draggable:!1,droppable:!1}});function ki(e){let{children:t,id:n,items:r,strategy:o=Mr,disabled:i=!1}=e;const{active:a,dragOverlay:l,droppableRects:d,over:h,measureDroppableContainers:f}=Ni(),u=rt(Pr,n),g=l.rect!==null,v=c.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),N=a!=null,w=a?v.indexOf(a.id):-1,y=h?v.indexOf(h.id):-1,R=c.useRef(v),b=!Ii(v,R.current),p=y!==-1&&w===-1||b,x=Ai(i);ce(()=>{b&&N&&f(v)},[b,v,N,f]),c.useEffect(()=>{R.current=v},[v]);const m=c.useMemo(()=>({activeIndex:w,containerId:u,disabled:x,disableTransforms:p,items:v,overIndex:y,useDragOverlay:g,sortedRects:Ti(v,d),strategy:o}),[w,u,x.draggable,x.droppable,p,v,y,d,g,o]);return L.createElement(kr.Provider,{value:m},t)}const Oi=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return sn(n,r,o).indexOf(t)},Li=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:a,previousItems:l,previousContainerId:d,transition:h}=e;return!h||!r||l!==i&&o===a?!1:n?!0:a!==o&&t===d},_i={duration:200,easing:"ease"},Or="transform",Fi=qe.Transition.toString({property:Or,duration:0,easing:"linear"}),zi={roleDescription:"sortable"};function Bi(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,a]=c.useState(null),l=c.useRef(n);return ce(()=>{if(!t&&n!==l.current&&r.current){const d=o.current;if(d){const h=_e(r.current,{ignoreTransform:!0}),f={x:d.left-h.left,y:d.top-h.top,scaleX:d.width/h.width,scaleY:d.height/h.height};(f.x||f.y)&&a(f)}}n!==l.current&&(l.current=n)},[t,n,r,o]),c.useEffect(()=>{i&&a(null)},[i]),i}function $i(e){let{animateLayoutChanges:t=Li,attributes:n,disabled:r,data:o,getNewIndex:i=Oi,id:a,strategy:l,resizeObserverConfig:d,transition:h=_i}=e;const{items:f,containerId:u,activeIndex:g,disabled:v,disableTransforms:N,sortedRects:w,overIndex:y,useDragOverlay:R,strategy:b}=c.useContext(kr),p=Hi(r,v),x=f.indexOf(a),m=c.useMemo(()=>({sortable:{containerId:u,index:x,items:f},...o}),[u,o,x,f]),S=c.useMemo(()=>f.slice(f.indexOf(a)),[f,a]),{rect:j,node:E,isOver:T,setNodeRef:C}=Di({id:a,data:m,disabled:p.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...d}}),{active:D,activatorEvent:M,activeNodeRect:k,attributes:O,setNodeRef:Y,listeners:$,isDragging:H,over:me,setActivatorNodeRef:Q,transform:ue}=Ri({id:a,data:m,attributes:{...zi,...n},disabled:p.draggable}),je=ss(C,Y),F=!!D,X=F&&!N&&ct(g)&&ct(y),fe=!R&&H,Fe=fe&&X?ue:null,ot=X?Fe??(l??b)({rects:w,activeNodeRect:k,activeIndex:g,overIndex:y,index:x}):null,be=ct(g)&&ct(y)?i({id:a,items:f,activeIndex:g,overIndex:y}):x,he=D?.id,P=c.useRef({activeId:he,items:f,newIndex:be,containerId:u}),ze=f!==P.current.items,se=t({active:D,containerId:u,isDragging:H,isSorting:F,id:a,index:x,items:f,newIndex:P.current.newIndex,previousItems:P.current.items,previousContainerId:P.current.containerId,transition:h,wasDragging:P.current.activeId!=null}),Ee=Bi({disabled:!se,index:x,node:E,rect:j});return c.useEffect(()=>{F&&P.current.newIndex!==be&&(P.current.newIndex=be),u!==P.current.containerId&&(P.current.containerId=u),f!==P.current.items&&(P.current.items=f)},[F,be,u,f]),c.useEffect(()=>{if(he===P.current.activeId)return;if(he!=null&&P.current.activeId==null){P.current.activeId=he;return}const De=setTimeout(()=>{P.current.activeId=he},50);return()=>clearTimeout(De)},[he]),{active:D,activeIndex:g,attributes:O,data:m,rect:j,index:x,newIndex:be,items:f,isOver:T,isSorting:F,isDragging:H,listeners:$,node:E,overIndex:y,over:me,setNodeRef:je,setActivatorNodeRef:Q,setDroppableNodeRef:C,setDraggableNodeRef:Y,transform:Ee??ot,transition:pe()};function pe(){if(Ee||ze&&P.current.newIndex===x)return Fi;if(!(fe&&!en(M)||!h)&&(F||se))return qe.Transition.toString({...h,property:Or})}}function Hi(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function bt(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Wi=[I.Down,I.Right,I.Up,I.Left],Ui=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:a,scrollableAncestors:l}}=t;if(Wi.includes(e.code)){if(e.preventDefault(),!n||!r)return;const d=[];i.getEnabled().forEach(u=>{if(!u||u!=null&&u.disabled)return;const g=o.get(u.id);if(g)switch(e.code){case I.Down:r.top<g.top&&d.push(u);break;case I.Up:r.top>g.top&&d.push(u);break;case I.Left:r.left>g.left&&d.push(u);break;case I.Right:r.left<g.left&&d.push(u);break}});const h=Ss({collisionRect:r,droppableRects:o,droppableContainers:d});let f=xr(h,"id");if(f===a?.id&&h.length>1&&(f=h[1].id),f!=null){const u=i.get(n.id),g=i.get(f),v=g?o.get(g.id):null,N=g?.node.current;if(N&&v&&u&&g){const y=Rt(N).some((S,j)=>l[j]!==S),R=Lr(u,g),b=Yi(u,g),p=y||!R?{x:0,y:0}:{x:b?r.width-v.width:0,y:b?r.height-v.height:0},x={x:v.left,y:v.top};return p.x&&p.y?x:Ke(x,p)}}}};function Lr(e,t){return!bt(e)||!bt(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Yi(e,t){return!bt(e)||!bt(t)||!Lr(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Xi({...e}){return s.jsx(Jr,{"data-slot":"dialog",...e})}function Vi({...e}){return s.jsx(to,{"data-slot":"dialog-portal",...e})}function Gi({className:e,...t}){return s.jsx(no,{"data-slot":"dialog-overlay",className:A("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Ki({className:e,children:t,showCloseButton:n=!0,...r}){return s.jsxs(Vi,{"data-slot":"dialog-portal",children:[s.jsx(Gi,{}),s.jsxs(Qr,{"data-slot":"dialog-content",className:A("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,n&&s.jsxs(Zr,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(lo,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function qi({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:A("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Ji({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-footer",className:A("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Qi({className:e,...t}){return s.jsx(eo,{"data-slot":"dialog-title",className:A("text-lg leading-none font-semibold",e),...t})}function _r(e){const t=["th","st","nd","rd"],n=e%100;return t[(n-20)%10]||t[n]||t[0]}function Zi({id:e,index:t,participantName:n,position:r,points:o,positionLabel:i,hasPointsSystem:a,onMoveUp:l,onMoveDown:d,isFirst:h,isLast:f,t:u}){const{attributes:g,listeners:v,setNodeRef:N,transform:w,transition:y,isDragging:R}=$i({id:e}),b={transform:qe.Transform.toString(w),transition:y,opacity:R?.5:1};return s.jsxs("div",{ref:N,style:b,className:`flex items-center gap-2 p-3 bg-gray-50 rounded-lg border border-gray-200 ${R?"shadow-lg z-50":""}`,children:[s.jsx("div",{...g,...v,className:"flex-shrink-0 cursor-grab active:cursor-grabbing touch-none","aria-label":"Drag to reorder",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})}),s.jsxs("div",{className:"flex-shrink-0 w-12 flex items-center justify-center",children:[r===1&&s.jsx(V,{className:"w-8 h-8 rounded-full flex items-center justify-center p-0 text-sm font-bold bg-yellow-500 hover:bg-yellow-500 text-white border-yellow-600","aria-label":"1st place",children:"1"}),r===2&&s.jsx(V,{className:"w-8 h-8 rounded-full flex items-center justify-center p-0 text-sm font-bold bg-gray-400 hover:bg-gray-400 text-white border-gray-500","aria-label":"2nd place",children:"2"}),r===3&&s.jsx(V,{className:"w-8 h-8 rounded-full flex items-center justify-center p-0 text-sm font-bold bg-amber-600 hover:bg-amber-600 text-white border-amber-700","aria-label":"3rd place",children:"3"}),r>3&&s.jsx(V,{variant:"outline",className:"w-8 h-8 rounded-full flex items-center justify-center p-0 text-sm font-semibold","aria-label":`${r}${_r(r)} place`,children:r})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:n}),s.jsxs("div",{className:"text-xs text-gray-500",children:[i,a&&s.jsx("span",{className:"ml-2 text-blue-600 font-medium",children:u("view.placementPoints",{points:o})})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(le,{variant:"ghost",size:"sm",onClick:l,disabled:h,className:"h-6 w-6 p-0",type:"button",children:s.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),s.jsx(le,{variant:"ghost",size:"sm",onClick:d,disabled:f,className:"h-6 w-6 p-0",type:"button",children:s.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}function ea({match:e,participants:t,isMultiPlayer:n,pointsSystem:r,onSave:o,onCancel:i}){const{t:a}=Ze(),[l,d]=c.useState([]),h=xs(yn(on,{activationConstraint:{distance:8}}),yn(nn,{coordinateGetter:Ui}));if(c.useEffect(()=>{e&&d(e.participantIds)},[e]),!e)return null;const f=b=>{const{active:p,over:x}=b;x&&p.id!==x.id&&d(m=>{const S=m.indexOf(p.id),j=m.indexOf(x.id);return sn(m,S,j)})},u=b=>t.find(x=>x.id===b)?.name||"Unknown",g=b=>b===1?a("view.first"):b===2?a("view.second"):b===3?a("view.third"):b===4?a("view.fourth"):`${b}${_r(b)}`,v=b=>{if(!r)return 0;try{return so(r,b,e.participantIds.length)}catch{return 0}},N=b=>{if(b===0)return;const p=[...l];[p[b-1],p[b]]=[p[b],p[b-1]],d(p)},w=b=>{if(b===l.length-1)return;const p=[...l];[p[b],p[b+1]]=[p[b+1],p[b]],d(p)},y=()=>{if(n){const b={rankings:l.map((p,x)=>({participantId:p,position:x+1}))};o(e.id,b)}else{const b=l[0],p=l[1],x={winnerId:b,loserId:p};o(e.id,x)}},R=b=>{const p=e.participantIds.find(m=>m!==b),x={winnerId:b,loserId:p};o(e.id,x)};return s.jsx(Xi,{open:!!e,onOpenChange:i,children:s.jsxs(Ki,{className:"sm:max-w-md",children:[s.jsx(qi,{children:s.jsx(Qi,{children:a(n?"view.recordRankings":"view.recordResult")})}),!n&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:a("view.selectWinner")}),e.participantIds.map(b=>s.jsx(le,{variant:"outline",onClick:()=>R(b),className:"w-full h-auto p-4 justify-start hover:border-green-500 hover:bg-green-50",children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx("span",{className:"font-medium text-gray-900",children:u(b)}),s.jsx("span",{className:"text-sm text-gray-500 ml-2",children:a("common.wins")})]})},b))]}),n&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:a("view.dragToReorder")}),s.jsx(yi,{sensors:h,collisionDetection:ys,onDragEnd:f,children:s.jsx(ki,{items:l,strategy:Mi,children:s.jsx("div",{className:"space-y-2",children:l.map((b,p)=>{const x=p+1,m=v(x),S=g(x);return s.jsx(Zi,{id:b,index:p,participantName:u(b),position:x,points:m,positionLabel:S,hasPointsSystem:!!r,onMoveUp:()=>N(p),onMoveDown:()=>w(p),isFirst:p===0,isLast:p===l.length-1,t:a},b)})})})})]}),s.jsxs(Ji,{className:"flex gap-2",children:[s.jsx(le,{variant:"outline",onClick:i,children:a("common.cancel")}),n&&s.jsx(le,{onClick:y,className:"bg-green-600 hover:bg-green-700",children:a("view.saveResults")})]})]})})}function oa({tournamentId:e,onBack:t,onEdit:n}){const{t:r}=Ze(),[o,i]=c.useState(null),[a,l]=c.useState(null),[d,h]=c.useState([]),[f,u]=c.useState([]),[g,v]=c.useState(null),[N,w]=c.useState(!0),[y,R]=c.useState(null);c.useEffect(()=>{try{const C=ro(e);if(!C){R(r("view.tournamentNotFound"));return}const D=io(C);i(D),l(C),h(D.getCurrentMatches()),u(D.getStandings()),w(!1)}catch(C){R(C instanceof Error?C.message:r("view.loadError")),w(!1)}},[e,r]);const b=()=>{if(!o)return;h(o.getCurrentMatches()),u(o.getStandings());const C=o.export();oo(C),l(C)},p=(C,D)=>{if(o)try{o.recordMatchResult(C,D),b(),v(null)}catch(M){alert(M instanceof Error?M.message:r("view.resultError"))}},x=C=>{C.status!=="completed"&&v(C)},m=C=>C.participantIds.length>2,S=()=>a?a.options?.pointsSystem:void 0,j=C=>C==="single-elimination"||C==="double-elimination",E=C=>C==="round-robin"||C==="swiss"||C==="free-for-all";if(N)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:r("view.loadingTournament")})]})});if(y||!o)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-600",children:y||r("view.tournamentNotFound")}),s.jsx(le,{onClick:t,className:"mt-4",children:r("view.backToDashboard")})]})});const T=C=>({"single-elimination":r("tournamentTypes.singleElimination"),"double-elimination":r("tournamentTypes.doubleElimination"),"round-robin":r("tournamentTypes.roundRobin"),swiss:r("tournamentTypes.swiss"),"free-for-all":r("tournamentTypes.freeForAll")})[C]||C;return s.jsx("div",{className:"min-h-screen bg-gray-50 p-2 md:p-4",children:s.jsxs("div",{className:"max-w-[1920px] mx-auto",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 -ml-2",children:[s.jsxs(le,{variant:"ghost",onClick:t,children:[s.jsx("svg",{className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),r("view.backToDashboard")]}),s.jsx("div",{className:"h-6 w-px bg-gray-300"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("span",{className:"text-sm text-gray-600 mr-1",children:[r("view.editLabel"),":"]}),s.jsx(le,{variant:"outline",size:"sm",onClick:()=>n(e,"type"),className:"h-8",children:r("view.editType")}),s.jsx(le,{variant:"outline",size:"sm",onClick:()=>n(e,"options"),className:"h-8",children:r("view.editOptions")}),s.jsx(le,{variant:"outline",size:"sm",onClick:()=>n(e,"participants"),className:"h-8",children:r("view.editParticipants")})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:o.getName()}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T(o.getType())})]}),s.jsx("div",{children:o.isComplete()?s.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-green-100 text-green-800",children:r("status.completed")}):s.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-blue-100 text-blue-800",children:r("status.inProgress")})})]})]}),s.jsxs(Io,{defaultValue:j(o.getType())?"bracket":"matches",className:"w-full",children:[s.jsxs(Ao,{className:"grid w-full max-w-md",style:{gridTemplateColumns:j(o.getType())?"1fr 1fr 1fr":"1fr 1fr"},children:[j(o.getType())&&s.jsx(At,{value:"bracket",children:r("view.bracket")}),s.jsx(At,{value:"matches",children:r("view.matches")}),s.jsx(At,{value:"standings",children:r("view.standings")})]}),j(o.getType())&&s.jsx(Mt,{value:"bracket",className:"mt-3",children:s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[o.getType()==="single-elimination"&&a?.type==="single-elimination"&&s.jsx(ns,{bracket:a.bracket,thirdPlaceMatch:a.thirdPlaceMatch,participants:o.getParticipants(),onMatchClick:x}),o.getType()==="double-elimination"&&a?.type==="double-elimination"&&s.jsx(rs,{winnersBracket:a.winnersBracket,losersBracket:a.losersBracket,grandFinal:a.grandFinal,grandFinalReset:a.grandFinalReset,participants:o.getParticipants(),onMatchClick:x})]})}),s.jsx(Mt,{value:"matches",className:"mt-3",children:s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:r("view.currentMatches")}),s.jsx(os,{matches:d,participants:o.getParticipants(),onMatchClick:x,groupByRounds:E(o.getType()),showRoundHeaders:E(o.getType())})]})}),s.jsx(Mt,{value:"standings",className:"mt-3",children:s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:r("view.standings")}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(Mo,{children:[s.jsx(Po,{children:s.jsxs(vn,{children:[s.jsx(at,{className:"w-20",children:r("view.rank")}),s.jsx(at,{children:r("view.participant")}),s.jsx(at,{className:"w-32",children:r("view.wlt")}),f.some(C=>C.points!==void 0)&&s.jsx(at,{className:"w-24 text-right",children:r("view.points")})]})}),s.jsx(ko,{children:f.map(C=>s.jsxs(vn,{children:[s.jsx(lt,{className:"font-medium",children:C.rank||"-"}),s.jsxs(lt,{children:[C.participantName,C.isEliminated&&s.jsx("span",{className:"ml-2 text-xs text-red-600",children:r("view.eliminated")})]}),s.jsxs(lt,{children:[C.wins,"-",C.losses,"-",C.ties]}),f.some(D=>D.points!==void 0)&&s.jsx(lt,{className:"text-right",children:C.points||0})]},C.participantId))})]})})]})})]}),s.jsx(ea,{match:g,participants:o.getParticipants(),isMultiPlayer:g?m(g):!1,pointsSystem:S(),onSave:p,onCancel:()=>v(null)})]})})}export{oa as default};
