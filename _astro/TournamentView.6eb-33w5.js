import{a as Xr,b as xt,e as he,j as i,f as gn,h as kn,P as te,k as U,l as On,m as Se,n as Qe,c as A,S as Vr,o as Gr,p as Kr,u as Ze,T as qr,r as Ue,R as Jr,C as Qr,q as Zr,t as eo,v as to,O as no,B as je,w as ro,s as oo}from"./TournamentApp.0ZlD8s0q.js";import{c as O,r as c}from"./index.DXA_EoSs.js";import{a as so,r as io}from"./factory.DvPW-T9g.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lo=Xr("x",ao);function co(e){const t=e+"CollectionProvider",[n,r]=xt(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:w,children:R}=x,b=O.useRef(null),p=O.useRef(new Map).current;return i.jsx(o,{scope:w,itemMap:p,collectionRef:b,children:R})};a.displayName=t;const l=e+"CollectionSlot",d=gn(l),f=O.forwardRef((x,w)=>{const{scope:R,children:b}=x,p=s(l,R),v=he(w,p.collectionRef);return i.jsx(d,{ref:v,children:b})});f.displayName=l;const h=e+"CollectionItemSlot",u="data-radix-collection-item",g=gn(h),m=O.forwardRef((x,w)=>{const{scope:R,children:b,...p}=x,v=O.useRef(null),y=he(w,v),C=s(h,R);return O.useEffect(()=>(C.itemMap.set(v,{ref:v,...p}),()=>void C.itemMap.delete(v))),i.jsx(g,{[u]:"",ref:y,children:b})});m.displayName=h;function N(x){const w=s(e+"CollectionConsumer",x);return O.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const p=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((C,E)=>p.indexOf(C.ref.current)-p.indexOf(E.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:f,ItemSlot:m},N,r]}var uo=c.createContext(void 0);function Yt(e){const t=c.useContext(uo);return e||t||"ltr"}var It="rovingFocusGroup.onEntryFocus",fo={bubbles:!1,cancelable:!0},et="RovingFocusGroup",[_t,Ln,ho]=co(et),[po,_n]=xt(et,[ho]),[go,vo]=po(et),Fn=c.forwardRef((e,t)=>i.jsx(_t.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(_t.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(mo,{...e,ref:t})})}));Fn.displayName=et;var mo=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...u}=e,g=c.useRef(null),m=he(t,g),N=Yt(s),[x,w]=On({prop:a,defaultProp:l??null,onChange:d,caller:et}),[R,b]=c.useState(!1),p=Se(f),v=Ln(n),y=c.useRef(!1),[C,E]=c.useState(0);return c.useEffect(()=>{const j=g.current;if(j)return j.addEventListener(It,p),()=>j.removeEventListener(It,p)},[p]),i.jsx(go,{scope:n,orientation:r,dir:N,loop:o,currentTabStopId:x,onItemFocus:c.useCallback(j=>w(j),[w]),onItemShiftTab:c.useCallback(()=>b(!0),[]),onFocusableItemAdd:c.useCallback(()=>E(j=>j+1),[]),onFocusableItemRemove:c.useCallback(()=>E(j=>j-1),[]),children:i.jsx(te.div,{tabIndex:R||C===0?-1:0,"data-orientation":r,...u,ref:m,style:{outline:"none",...e.style},onMouseDown:U(e.onMouseDown,()=>{y.current=!0}),onFocus:U(e.onFocus,j=>{const S=!y.current;if(j.target===j.currentTarget&&S&&!R){const D=new CustomEvent(It,fo);if(j.currentTarget.dispatchEvent(D),!D.defaultPrevented){const T=v().filter(B=>B.focusable),P=T.find(B=>B.active),k=T.find(B=>B.id===x),Y=[P,k,...T].filter(Boolean).map(B=>B.ref.current);$n(Y,h)}}y.current=!1}),onBlur:U(e.onBlur,()=>b(!1))})})}),zn="RovingFocusGroupItem",Bn=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:a,...l}=e,d=kn(),f=s||d,h=vo(zn,n),u=h.currentTabStopId===f,g=Ln(n),{onFocusableItemAdd:m,onFocusableItemRemove:N,currentTabStopId:x}=h;return c.useEffect(()=>{if(r)return m(),()=>N()},[r,m,N]),i.jsx(_t.ItemSlot,{scope:n,id:f,focusable:r,active:o,children:i.jsx(te.span,{tabIndex:u?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:U(e.onMouseDown,w=>{r?h.onItemFocus(f):w.preventDefault()}),onFocus:U(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:U(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const R=wo(w,h.orientation,h.dir);if(R!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let p=g().filter(v=>v.focusable).map(v=>v.ref.current);if(R==="last")p.reverse();else if(R==="prev"||R==="next"){R==="prev"&&p.reverse();const v=p.indexOf(w.currentTarget);p=h.loop?yo(p,v+1):p.slice(v+1)}setTimeout(()=>$n(p))}}),children:typeof a=="function"?a({isCurrentTabStop:u,hasTabStop:x!=null}):a})})});Bn.displayName=zn;var bo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xo(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wo(e,t,n){const r=xo(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bo[r]}function $n(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function yo(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var So=Fn,Co=Bn,wt="Tabs",[Ro]=xt(wt,[_n]),Hn=_n(),[No,Xt]=Ro(wt),Wn=c.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:d="automatic",...f}=e,h=Yt(l),[u,g]=On({prop:r,onChange:o,defaultProp:s??"",caller:wt});return i.jsx(No,{scope:n,baseId:kn(),value:u,onValueChange:g,orientation:a,dir:h,activationMode:d,children:i.jsx(te.div,{dir:h,"data-orientation":a,...f,ref:t})})});Wn.displayName=wt;var Un="TabsList",Yn=c.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,s=Xt(Un,n),a=Hn(n);return i.jsx(So,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:i.jsx(te.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:t})})});Yn.displayName=Un;var Xn="TabsTrigger",Vn=c.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...s}=e,a=Xt(Xn,n),l=Hn(n),d=qn(a.baseId,r),f=Jn(a.baseId,r),h=r===a.value;return i.jsx(Co,{asChild:!0,...l,focusable:!o,active:h,children:i.jsx(te.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...s,ref:t,onMouseDown:U(e.onMouseDown,u=>{!o&&u.button===0&&u.ctrlKey===!1?a.onValueChange(r):u.preventDefault()}),onKeyDown:U(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&a.onValueChange(r)}),onFocus:U(e.onFocus,()=>{const u=a.activationMode!=="manual";!h&&!o&&u&&a.onValueChange(r)})})})});Vn.displayName=Xn;var Gn="TabsContent",Kn=c.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:s,...a}=e,l=Xt(Gn,n),d=qn(l.baseId,r),f=Jn(l.baseId,r),h=r===l.value,u=c.useRef(h);return c.useEffect(()=>{const g=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(g)},[]),i.jsx(Qe,{present:o||h,children:({present:g})=>i.jsx(te.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:g&&s})})});Kn.displayName=Gn;function qn(e,t){return`${e}-trigger-${t}`}function Jn(e,t){return`${e}-content-${t}`}var jo=Wn,Eo=Yn,Do=Vn,To=Kn;function Io({className:e,...t}){return i.jsx(jo,{"data-slot":"tabs",className:A("flex flex-col gap-2",e),...t})}function Ao({className:e,...t}){return i.jsx(Eo,{"data-slot":"tabs-list",className:A("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function At({className:e,...t}){return i.jsx(Do,{"data-slot":"tabs-trigger",className:A("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Mt({className:e,...t}){return i.jsx(To,{"data-slot":"tabs-content",className:A("flex-1 outline-none",e),...t})}function Mo({className:e,...t}){return i.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:i.jsx("table",{"data-slot":"table",className:A("w-full caption-bottom text-sm",e),...t})})}function Po({className:e,...t}){return i.jsx("thead",{"data-slot":"table-header",className:A("[&_tr]:border-b",e),...t})}function ko({className:e,...t}){return i.jsx("tbody",{"data-slot":"table-body",className:A("[&_tr:last-child]:border-0",e),...t})}function vn({className:e,...t}){return i.jsx("tr",{"data-slot":"table-row",className:A("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function at({className:e,...t}){return i.jsx("th",{"data-slot":"table-head",className:A("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function lt({className:e,...t}){return i.jsx("td",{"data-slot":"table-cell",className:A("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function ft({className:e,...t}){return i.jsx("div",{"data-slot":"card",className:A("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}const Oo=Gr("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function X({className:e,variant:t,asChild:n=!1,...r}){const o=n?Vr:"span";return i.jsx(o,{"data-slot":"badge",className:A(Oo({variant:t}),e),...r})}function Lo(e,[t,n]){return Math.min(n,Math.max(t,e))}function _o(e,t){return c.useReducer((n,r)=>t[n][r]??n,e)}var Vt="ScrollArea",[Qn]=xt(Vt),[Fo,ne]=Qn(Vt),Zn=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...a}=e,[l,d]=c.useState(null),[f,h]=c.useState(null),[u,g]=c.useState(null),[m,N]=c.useState(null),[x,w]=c.useState(null),[R,b]=c.useState(0),[p,v]=c.useState(0),[y,C]=c.useState(!1),[E,j]=c.useState(!1),S=he(t,T=>d(T)),D=Yt(o);return i.jsx(Fo,{scope:n,type:r,dir:D,scrollHideDelay:s,scrollArea:l,viewport:f,onViewportChange:h,content:u,onContentChange:g,scrollbarX:m,onScrollbarXChange:N,scrollbarXEnabled:y,onScrollbarXEnabledChange:C,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:E,onScrollbarYEnabledChange:j,onCornerWidthChange:b,onCornerHeightChange:v,children:i.jsx(te.div,{dir:D,...a,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":R+"px","--radix-scroll-area-corner-height":p+"px",...e.style}})})});Zn.displayName=Vt;var er="ScrollAreaViewport",tr=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,a=ne(er,n),l=c.useRef(null),d=he(t,l,a.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),i.jsx(te.div,{"data-radix-scroll-area-viewport":"",...s,ref:d,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});tr.displayName=er;var ce="ScrollAreaScrollbar",nr=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ne(ce,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=o,l=e.orientation==="horizontal";return c.useEffect(()=>(l?s(!0):a(!0),()=>{l?s(!1):a(!1)}),[l,s,a]),o.type==="hover"?i.jsx(zo,{...r,ref:t,forceMount:n}):o.type==="scroll"?i.jsx(Bo,{...r,ref:t,forceMount:n}):o.type==="auto"?i.jsx(rr,{...r,ref:t,forceMount:n}):o.type==="always"?i.jsx(Gt,{...r,ref:t}):null});nr.displayName=ce;var zo=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ne(ce,e.__scopeScrollArea),[s,a]=c.useState(!1);return c.useEffect(()=>{const l=o.scrollArea;let d=0;if(l){const f=()=>{window.clearTimeout(d),a(!0)},h=()=>{d=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",f),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",f),l.removeEventListener("pointerleave",h)}}},[o.scrollArea,o.scrollHideDelay]),i.jsx(Qe,{present:n||s,children:i.jsx(rr,{"data-state":s?"visible":"hidden",...r,ref:t})})}),Bo=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ne(ce,e.__scopeScrollArea),s=e.orientation==="horizontal",a=St(()=>d("SCROLL_END"),100),[l,d]=_o("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(l==="idle"){const f=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[l,o.scrollHideDelay,d]),c.useEffect(()=>{const f=o.viewport,h=s?"scrollLeft":"scrollTop";if(f){let u=f[h];const g=()=>{const m=f[h];u!==m&&(d("SCROLL"),a()),u=m};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[o.viewport,s,d,a]),i.jsx(Qe,{present:n||l!=="hidden",children:i.jsx(Gt,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:U(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:U(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),rr=c.forwardRef((e,t)=>{const n=ne(ce,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,a]=c.useState(!1),l=e.orientation==="horizontal",d=St(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?f:h)}},10);return ke(n.viewport,d),ke(n.content,d),i.jsx(Qe,{present:r||s,children:i.jsx(Gt,{"data-state":s?"visible":"hidden",...o,ref:t})})}),Gt=c.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=ne(ce,e.__scopeScrollArea),s=c.useRef(null),a=c.useRef(0),[l,d]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=lr(l.viewport,l.content),h={...r,sizes:l,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:g=>s.current=g,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:g=>a.current=g};function u(g,m){return Xo(g,a.current,l,m)}return n==="horizontal"?i.jsx($o,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const g=o.viewport.scrollLeft,m=mn(g,l,o.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollLeft=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollLeft=u(g,o.dir))}}):n==="vertical"?i.jsx(Ho,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const g=o.viewport.scrollTop,m=mn(g,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollTop=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollTop=u(g))}}):null}),$o=c.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=ne(ce,e.__scopeScrollArea),[a,l]=c.useState(),d=c.useRef(null),f=he(t,d,s.onScrollbarXChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),i.jsx(sr,{"data-orientation":"horizontal",...o,ref:f,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yt(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,u)=>{if(s.viewport){const g=s.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),dr(g,u)&&h.preventDefault()}},onResize:()=>{d.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:pt(a.paddingLeft),paddingEnd:pt(a.paddingRight)}})}})}),Ho=c.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=ne(ce,e.__scopeScrollArea),[a,l]=c.useState(),d=c.useRef(null),f=he(t,d,s.onScrollbarYChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),i.jsx(sr,{"data-orientation":"vertical",...o,ref:f,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yt(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,u)=>{if(s.viewport){const g=s.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),dr(g,u)&&h.preventDefault()}},onResize:()=>{d.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:pt(a.paddingTop),paddingEnd:pt(a.paddingBottom)}})}})}),[Wo,or]=Qn(ce),sr=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:h,onResize:u,...g}=e,m=ne(ce,n),[N,x]=c.useState(null),w=he(t,S=>x(S)),R=c.useRef(null),b=c.useRef(""),p=m.viewport,v=r.content-r.viewport,y=Se(h),C=Se(d),E=St(u,10);function j(S){if(R.current){const D=S.clientX-R.current.left,T=S.clientY-R.current.top;f({x:D,y:T})}}return c.useEffect(()=>{const S=D=>{const T=D.target;N?.contains(T)&&y(D,v)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[p,N,v,y]),c.useEffect(C,[r,C]),ke(N,E),ke(m.content,E),i.jsx(Wo,{scope:n,scrollbar:N,hasThumb:o,onThumbChange:Se(s),onThumbPointerUp:Se(a),onThumbPositionChange:C,onThumbPointerDown:Se(l),children:i.jsx(te.div,{...g,ref:w,style:{position:"absolute",...g.style},onPointerDown:U(e.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),R.current=N.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),j(S))}),onPointerMove:U(e.onPointerMove,j),onPointerUp:U(e.onPointerUp,S=>{const D=S.target;D.hasPointerCapture(S.pointerId)&&D.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),R.current=null})})})}),ht="ScrollAreaThumb",ir=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=or(ht,e.__scopeScrollArea);return i.jsx(Qe,{present:n||o.hasThumb,children:i.jsx(Uo,{ref:t,...r})})}),Uo=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=ne(ht,n),a=or(ht,n),{onThumbPositionChange:l}=a,d=he(t,u=>a.onThumbChange(u)),f=c.useRef(void 0),h=St(()=>{f.current&&(f.current(),f.current=void 0)},100);return c.useEffect(()=>{const u=s.viewport;if(u){const g=()=>{if(h(),!f.current){const m=Vo(u,l);f.current=m,l()}};return l(),u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[s.viewport,h,l]),i.jsx(te.div,{"data-state":a.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:U(e.onPointerDownCapture,u=>{const m=u.target.getBoundingClientRect(),N=u.clientX-m.left,x=u.clientY-m.top;a.onThumbPointerDown({x:N,y:x})}),onPointerUp:U(e.onPointerUp,a.onThumbPointerUp)})});ir.displayName=ht;var Kt="ScrollAreaCorner",ar=c.forwardRef((e,t)=>{const n=ne(Kt,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(Yo,{...e,ref:t}):null});ar.displayName=Kt;var Yo=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=ne(Kt,n),[s,a]=c.useState(0),[l,d]=c.useState(0),f=!!(s&&l);return ke(o.scrollbarX,()=>{const h=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(h),d(h)}),ke(o.scrollbarY,()=>{const h=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(h),a(h)}),f?i.jsx(te.div,{...r,ref:t,style:{width:s,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function pt(e){return e?parseInt(e,10):0}function lr(e,t){const n=e/t;return isNaN(n)?0:n}function yt(e){const t=lr(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Xo(e,t,n,r="ltr"){const o=yt(n),s=o/2,a=t||s,l=o-a,d=n.scrollbar.paddingStart+a,f=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,u=r==="ltr"?[0,h]:[h*-1,0];return cr([d,f],u)(e)}function mn(e,t,n="ltr"){const r=yt(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,a=t.content-t.viewport,l=s-r,d=n==="ltr"?[0,a]:[a*-1,0],f=Lo(e,d);return cr([0,a],[0,l])(f)}function cr(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function dr(e,t){return e>0&&e<t}var Vo=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function o(){const s={left:e.scrollLeft,top:e.scrollTop},a=n.left!==s.left,l=n.top!==s.top;(a||l)&&t(),n=s,r=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(r)};function St(e,t){const n=Se(e),r=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),c.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ke(e,t){const n=Se(t);Kr(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var Go=Zn,Ko=tr,qo=ar;function ur({className:e,children:t,...n}){return i.jsxs(Go,{"data-slot":"scroll-area",className:A("relative",e),...n,children:[i.jsx(Ko,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),i.jsx(qt,{}),i.jsx(qo,{})]})}function qt({className:e,orientation:t="vertical",...n}){return i.jsx(nr,{"data-slot":"scroll-area-scrollbar",orientation:t,className:A("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:i.jsx(ir,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var Jo="Separator",bn="horizontal",Qo=["horizontal","vertical"],fr=c.forwardRef((e,t)=>{const{decorative:n,orientation:r=bn,...o}=e,s=Zo(r)?r:bn,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(te.div,{"data-orientation":s,...l,...o,ref:t})});fr.displayName=Jo;function Zo(e){return Qo.includes(e)}var es=fr;function Ft({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return i.jsx(es,{"data-slot":"separator",decorative:n,orientation:t,className:A("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function xn(e,t=120){const n=e.participantIds.length,r=24,o=28,s=40,a=8;if(n===0)return r+o+24;if(n===1)return r+o+s;const l=n*s+(n-1)*a,d=r+o+l;return Math.max(d,t)}function ts(e){const t=new Map;e.forEach(r=>{const o=r.round||1;t.has(o)||t.set(o,[]),t.get(o).push(r)});const n=[];return t.forEach((r,o)=>{n.push({round:o,matches:r.sort((s,a)=>(s.matchNumber||0)-(a.matchNumber||0))})}),n.sort((r,o)=>r.round-o.round)}function hr(e,t){return e===t?"Finals":e===t-1?"Semifinals":e===t-2?"Quarterfinals":`Round ${e}`}function zt(e,t=120,n=16,r=240){const o=ts(e),s=new Map;if(o.length===0)return{rounds:o,positions:s,baseMatchHeight:t,roundWidth:r};const a=new Map,l=new Map;for(let x=0;x<o.length-1;x++){const w=o[x],R=o[x+1];w.matches.forEach((b,p)=>{const v=Math.floor(p/2);if(v<R.matches.length){const y=R.matches[v];a.has(y.id)||a.set(y.id,[]),a.get(y.id).push(b.id),l.set(b.id,y.id)}})}const d=60,f=o.length,h=t+n,u=Math.pow(2,Math.max(0,f-2)),g=h*u;let m=d;o[0].matches.forEach(x=>{const w=xn(x,t);s.set(x.id,{match:x,x:0,y:m,height:w}),m+=g});for(let x=1;x<o.length;x++){const w=o[x];let R=d;w.matches.forEach(b=>{const p=a.get(b.id)||[],v=xn(b,t);let y=d;if(p.length===0)y=R;else if(p.length===1){const C=s.get(p[0]);C&&(y=Math.max(C.y,R))}else{const C=p.map(E=>s.get(E)).filter(E=>E!==void 0);if(C.length>0){const E=C[0].y,j=C[C.length-1].y,S=C[C.length-1].height,D=(E+j+S)/2-v/2;y=Math.max(D,R)}}s.set(b.id,{match:b,x,y,height:v}),R=y+v+n})}return{rounds:o,positions:s,baseMatchHeight:t,roundWidth:r}}function ns({bracket:e,thirdPlaceMatch:t,participants:n,onMatchClick:r}){const{t:o}=Ze(),s=120,a=24,l=240,d=48,f=c.useMemo(()=>zt(e,s,a,l),[e]),h=f.rounds.length,u=c.useMemo(()=>new Map(n.map(p=>[p.id,p])),[n]),g=p=>u.get(p)?.name||"TBD",m=p=>u.get(p)?.seed,N=p=>p.status==="completed"?"border-green-500 bg-green-50":p.participantIds.length>=2?"border-blue-500 hover:border-blue-600 cursor-pointer":"border-gray-300",x=(p,v)=>p.result?.winnerId===v,w=p=>i.jsxs(ft,{className:A("p-2 md:p-3 transition-all touch-manipulation w-full",N(p)),onClick:()=>{p.participantIds.length>=2&&p.status!=="completed"&&r(p)},children:[i.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",p.matchNumber]}),i.jsx("div",{className:"space-y-2",children:p.participantIds.length===0?i.jsx("div",{className:"text-sm text-gray-400 italic",children:"Waiting..."}):p.participantIds.length===1?i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:g(p.participantIds[0])}),i.jsx(X,{variant:"secondary",className:"ml-2 text-xs",children:"BYE"})]}):p.participantIds.map(v=>{const y=m(v),C=x(p,v);return i.jsxs("div",{className:A("flex items-center justify-between text-sm p-2 rounded",C&&"bg-green-100 font-semibold",!C&&p.status==="completed"&&"opacity-50"),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[y&&i.jsxs("span",{className:"text-xs text-gray-500 font-mono w-6",children:["(",y,")"]}),i.jsx("span",{className:A(C&&"font-semibold"),children:g(v)})]}),C&&i.jsx("span",{className:"text-green-600 font-bold",children:"✓"})]},v)})})]}),R=c.useMemo(()=>{let p=0;return f.positions.forEach(v=>{const y=v.y+v.height;y>p&&(p=y)}),p+40},[f.positions]),b=c.useMemo(()=>h*(l+d)-d+32,[h]);return i.jsx("div",{className:"w-full h-full",children:i.jsxs(ur,{className:"w-full h-[calc(100vh-200px)] md:h-[calc(100vh-180px)]",children:[i.jsxs("div",{className:"p-6 md:p-8 pt-8 md:pt-10",children:[i.jsx("div",{className:"md:hidden mb-4 text-center",children:i.jsx("p",{className:"text-xs text-gray-500",children:"← Scroll horizontally to view all rounds →"})}),i.jsxs("div",{className:"relative pb-8",style:{height:`${R}px`,width:`${b}px`},children:[i.jsx("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{zIndex:0},children:f.rounds.map((p,v)=>v>=f.rounds.length-1?null:p.matches.map(y=>{const C=f.positions.get(y.id);if(!C)return null;const E=f.rounds[v+1],j=Math.floor(p.matches.findIndex(B=>B.id===y.id)/2),S=E.matches[j],D=S?f.positions.get(S.id):null;if(!D)return null;const T=v*(l+d)+l,P=C.y+C.height/2,k=(v+1)*(l+d),z=D.y+D.height/2,Y=T+d/2;return i.jsxs("g",{children:[i.jsx("line",{x1:T,y1:P,x2:Y,y2:P,stroke:"#d1d5db",strokeWidth:"2"}),i.jsx("line",{x1:Y,y1:P,x2:Y,y2:z,stroke:"#d1d5db",strokeWidth:"2"}),i.jsx("line",{x1:Y,y1:z,x2:k,y2:z,stroke:"#d1d5db",strokeWidth:"2"})]},y.id)}))}),f.rounds.map((p,v)=>i.jsxs("div",{className:"absolute",style:{left:`${v*(l+d)}px`,top:0,width:`${l}px`},children:[i.jsx("div",{className:"mb-4 text-center sticky top-0 bg-white z-10 pb-2",children:i.jsx(X,{variant:"outline",className:"text-xs md:text-sm font-semibold",children:hr(p.round,h)})}),p.matches.map(y=>{const C=f.positions.get(y.id);return C?i.jsx("div",{className:"absolute",style:{top:`${C.y}px`,width:`${l}px`,minHeight:`${C.height}px`},children:w(y)},y.id):null})]},p.round))]}),t&&i.jsxs(i.Fragment,{children:[i.jsx(Ft,{className:"my-8"}),i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"mb-4 text-center",children:i.jsx(X,{variant:"outline",className:"text-sm font-semibold",children:"Third Place Match"})}),i.jsxs(ft,{className:A("p-3 transition-all",N(t)),onClick:()=>{t.participantIds.length>=2&&t.status!=="completed"&&r(t)},children:[i.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",t.matchNumber]}),i.jsx("div",{className:"space-y-2",children:t.participantIds.map(p=>{const v=m(p),y=x(t,p);return i.jsxs("div",{className:A("flex items-center justify-between text-sm p-2 rounded",y&&"bg-green-100 font-semibold",!y&&t.status==="completed"&&"opacity-50"),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[v&&i.jsxs("span",{className:"text-xs text-gray-500 font-mono w-6",children:["(",v,")"]}),i.jsx("span",{className:A(y&&"font-semibold"),children:g(p)})]}),y&&i.jsx("span",{className:"text-green-600 font-bold",children:"✓"})]},p)})})]})]})]})]}),i.jsx(qt,{orientation:"horizontal"})]})})}function rs({winnersBracket:e,losersBracket:t,grandFinal:n,grandFinalReset:r,participants:o,onMatchClick:s}){const{t:a}=Ze(),l=120,d=24,f=240,h=48,u=c.useMemo(()=>zt(e,l,d,f),[e]),g=c.useMemo(()=>zt(t,l,d,f),[t]),m=c.useMemo(()=>new Map(o.map(v=>[v.id,v])),[o]),N=v=>m.get(v)?.name||"TBD",x=v=>m.get(v)?.seed,w=v=>v.status==="completed"?"border-green-500 bg-green-50":v.participantIds.length>=2?"border-blue-500 hover:border-blue-600 cursor-pointer":"border-gray-300",R=(v,y)=>v.result?.winnerId===y,b=(v,y=!0)=>i.jsxs(ft,{className:A("p-2 md:p-3 transition-all touch-manipulation",w(v)),onClick:()=>{v.participantIds.length>=2&&v.status!=="completed"&&s(v)},children:[y&&i.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",v.matchNumber]}),i.jsx("div",{className:"space-y-2",children:v.participantIds.length===0?i.jsx("div",{className:"text-sm text-gray-400 italic",children:"Waiting..."}):v.participantIds.length===1?i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:N(v.participantIds[0])}),i.jsx(X,{variant:"secondary",className:"ml-2 text-xs",children:"BYE"})]}):v.participantIds.map(C=>{const E=x(C),j=R(v,C);return i.jsxs("div",{className:A("flex items-center justify-between text-sm p-2 rounded",j&&"bg-green-100 font-semibold",!j&&v.status==="completed"&&"opacity-50"),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[E&&i.jsxs("span",{className:"text-xs text-gray-500 font-mono w-6",children:["(",E,")"]}),i.jsx("span",{className:A(j&&"font-semibold"),children:N(C)})]}),j&&i.jsx("span",{className:"text-green-600 font-bold",children:"✓"})]},C)})})]}),p=(v,y,C="default")=>{let E=0;v.positions.forEach(D=>{const T=D.y+D.height;T>E&&(E=T)});const j=E+40,S=v.rounds.length*(f+h)-h+32;return i.jsxs("div",{className:"mb-6 md:mb-8",children:[i.jsx("div",{className:"mb-4",children:i.jsx(X,{variant:C,className:"text-sm md:text-base font-bold px-3 md:px-4 py-1",children:y})}),i.jsxs("div",{className:"relative pb-4",style:{height:`${j}px`,width:`${S}px`},children:[i.jsx("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{zIndex:0},children:v.rounds.map((D,T)=>T>=v.rounds.length-1?null:D.matches.map(P=>{const k=v.positions.get(P.id);if(!k)return null;const z=v.rounds[T+1],Y=Math.floor(D.matches.findIndex(re=>re.id===P.id)/2),B=z.matches[Y],$=B?v.positions.get(B.id):null;if(!$)return null;const Ce=T*(f+h)+f,G=k.y+k.height/2,Re=(T+1)*(f+h),pe=$.y+$.height/2,L=Ce+h/2;return i.jsxs("g",{children:[i.jsx("line",{x1:Ce,y1:G,x2:L,y2:G,stroke:"#d1d5db",strokeWidth:"2"}),i.jsx("line",{x1:L,y1:G,x2:L,y2:pe,stroke:"#d1d5db",strokeWidth:"2"}),i.jsx("line",{x1:L,y1:pe,x2:Re,y2:pe,stroke:"#d1d5db",strokeWidth:"2"})]},P.id)}))}),v.rounds.map((D,T)=>i.jsxs("div",{className:"absolute",style:{left:`${T*(f+h)}px`,top:0,width:`${f}px`},children:[i.jsx("div",{className:"mb-4 text-center sticky top-0 bg-white z-10 pb-2",children:i.jsx(X,{variant:"outline",className:"text-xs md:text-sm font-semibold",children:hr(D.round,v.rounds.length)})}),D.matches.map(P=>{const k=v.positions.get(P.id);return k?i.jsx("div",{className:"absolute",style:{top:`${k.y}px`,width:`${f}px`,minHeight:`${k.height}px`},children:b(P)},P.id):null})]},D.round))]})]})};return i.jsx("div",{className:"w-full h-full",children:i.jsxs(ur,{className:"w-full h-[calc(100vh-200px)] md:h-[calc(100vh-180px)]",children:[i.jsxs("div",{className:"p-6 md:p-8 pt-8 md:pt-10",children:[i.jsx("div",{className:"md:hidden mb-4 text-center",children:i.jsx("p",{className:"text-xs text-gray-500",children:"← Scroll horizontally to view all rounds →"})}),u.rounds.length>0&&p(u,"Winners Bracket","default"),g.rounds.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(Ft,{className:"my-8"}),p(g,"Losers Bracket","secondary")]}),n&&i.jsxs(i.Fragment,{children:[i.jsx(Ft,{className:"my-8"}),i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"mb-4 text-center",children:i.jsxs(X,{className:"text-base font-bold px-4 py-1 bg-yellow-500 hover:bg-yellow-600 gap-2",children:[i.jsx(qr,{className:"w-5 h-5"}),"Grand Finals"]})}),b(n,!1),r&&i.jsxs("div",{className:"mt-4",children:[i.jsx("div",{className:"mb-2 text-center",children:i.jsx(X,{variant:"outline",className:"text-sm font-semibold",children:"Grand Finals - Reset"})}),b(r,!1)]})]})]})]}),i.jsx(qt,{orientation:"horizontal"})]})})}function os({matches:e,participants:t,onMatchClick:n,groupByRounds:r=!1,showRoundHeaders:o=!1}){const{t:s}=Ze(),a=c.useMemo(()=>new Map(t.map(u=>[u.id,u])),[t]),l=u=>a.get(u)?.name||"Unknown",d=u=>u.status==="completed"?"border-green-500 bg-green-50":u.participantIds.length>=2?"border-blue-500 hover:border-blue-600 cursor-pointer":"border-gray-300",f=(u,g)=>u.result?.winnerId===g,h=u=>i.jsxs(ft,{className:A("p-3 md:p-4 transition-all touch-manipulation",d(u)),onClick:()=>{u.participantIds.length>=2&&u.status!=="completed"&&n(u)},children:[u.matchNumber&&i.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",u.matchNumber]}),u.participantIds.length===0?i.jsx("div",{className:"text-sm text-gray-400 italic",children:"Waiting for participants..."}):u.participantIds.length===1?i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:l(u.participantIds[0])}),i.jsx(X,{variant:"secondary",className:"ml-2 text-xs",children:s("view.bye")})]}):i.jsx("div",{className:"space-y-2",children:u.participantIds.map(g=>{const m=f(u,g);return i.jsxs("div",{className:A("flex items-center justify-between text-sm p-2 rounded",m&&"bg-green-100 font-semibold",!m&&u.status==="completed"&&"opacity-50"),children:[i.jsx("span",{className:A(m&&"font-semibold"),children:l(g)}),m&&i.jsx("span",{className:"text-green-600 font-bold",children:"✓"})]},g)})}),u.result?.score&&i.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["Score: ",u.result.score.participant1Score," - ",u.result.score.participant2Score]})]},u.id);if(r&&o){const u=new Map;e.forEach(m=>{const N=m.round||1;u.has(N)||u.set(N,[]),u.get(N).push(m)});const g=Array.from(u.entries()).sort((m,N)=>m[0]-N[0]);return i.jsx("div",{className:"space-y-6",children:g.map(([m,N])=>i.jsxs("div",{children:[i.jsxs("div",{className:"mb-3",children:[i.jsx(X,{variant:"outline",className:"text-sm font-semibold",children:s("view.round",{number:m})}),i.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",N.filter(x=>x.status==="completed").length,"/",N.length," completed)"]})]}),i.jsx("div",{className:"space-y-3",children:N.map(h)})]},m))})}return i.jsx("div",{className:"space-y-3",children:e.length===0?i.jsx("p",{className:"text-sm text-gray-500",children:s("view.noMatches")}):e.map(h)})}function ss(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Ct=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Oe(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Jt(e){return"nodeType"in e}function V(e){var t,n;return e?Oe(e)?e:Jt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Qt(e){const{Document:t}=V(e);return e instanceof t}function tt(e){return Oe(e)?!1:e instanceof V(e).HTMLElement}function pr(e){return e instanceof V(e).SVGElement}function Le(e){return e?Oe(e)?e.document:Jt(e)?Qt(e)?e:tt(e)||pr(e)?e.ownerDocument:document:document:document}const le=Ct?c.useLayoutEffect:c.useEffect;function Zt(e){const t=c.useRef(e);return le(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function is(){const e=c.useRef(null),t=c.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ge(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return le(()=>{n.current!==e&&(n.current=e)},t),n}function nt(e,t){const n=c.useRef();return c.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function gt(e){const t=Zt(e),n=c.useRef(null),r=c.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,r]}function Bt(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let Pt={};function rt(e,t){return c.useMemo(()=>{if(t)return t;const n=Pt[e]==null?0:Pt[e]+1;return Pt[e]=n,e+"-"+n},[e,t])}function gr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,a)=>{const l=Object.entries(a);for(const[d,f]of l){const h=s[d];h!=null&&(s[d]=h+e*f)}return s},{...t})}}const Pe=gr(1),Ke=gr(-1);function as(e){return"clientX"in e&&"clientY"in e}function en(e){if(!e)return!1;const{KeyboardEvent:t}=V(e.target);return t&&e instanceof t}function ls(e){if(!e)return!1;const{TouchEvent:t}=V(e.target);return t&&e instanceof t}function $t(e){if(ls(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return as(e)?{x:e.clientX,y:e.clientY}:null}const qe=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[qe.Translate.toString(e),qe.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),wn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function cs(e){return e.matches(wn)?e:e.querySelector(wn)}const ds={display:"none"};function us(e){let{id:t,value:n}=e;return O.createElement("div",{id:t,style:ds},n)}function fs(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return O.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function hs(){const[e,t]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const vr=c.createContext(null);function ps(e){const t=c.useContext(vr);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function gs(){const[e]=c.useState(()=>new Set),t=c.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[c.useCallback(r=>{let{type:o,event:s}=r;e.forEach(a=>{var l;return(l=a[o])==null?void 0:l.call(a,s)})},[e]),t]}const vs={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ms={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function bs(e){let{announcements:t=ms,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=vs}=e;const{announce:s,announcement:a}=hs(),l=rt("DndLiveRegion"),[d,f]=c.useState(!1);if(c.useEffect(()=>{f(!0)},[]),ps(c.useMemo(()=>({onDragStart(u){let{active:g}=u;s(t.onDragStart({active:g}))},onDragMove(u){let{active:g,over:m}=u;t.onDragMove&&s(t.onDragMove({active:g,over:m}))},onDragOver(u){let{active:g,over:m}=u;s(t.onDragOver({active:g,over:m}))},onDragEnd(u){let{active:g,over:m}=u;s(t.onDragEnd({active:g,over:m}))},onDragCancel(u){let{active:g,over:m}=u;s(t.onDragCancel({active:g,over:m}))}}),[s,t])),!d)return null;const h=O.createElement(O.Fragment,null,O.createElement(us,{id:r,value:o.draggable}),O.createElement(fs,{id:l,announcement:a}));return n?Ue.createPortal(h,n):h}var _;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(_||(_={}));function vt(){}function yn(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function xs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const oe=Object.freeze({x:0,y:0});function mr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function br(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function ws(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Sn(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function xr(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Cn(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const ys=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Cn(t,t.left,t.top),s=[];for(const a of r){const{id:l}=a,d=n.get(l);if(d){const f=mr(Cn(d),o);s.push({id:l,data:{droppableContainer:a,value:f}})}}return s.sort(br)},Ss=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Sn(t),s=[];for(const a of r){const{id:l}=a,d=n.get(l);if(d){const f=Sn(d),h=o.reduce((g,m,N)=>g+mr(f[N],m),0),u=Number((h/4).toFixed(4));s.push({id:l,data:{droppableContainer:a,value:u}})}}return s.sort(br)};function Cs(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),a=o-r,l=s-n;if(r<o&&n<s){const d=t.width*t.height,f=e.width*e.height,h=a*l,u=h/(d+f-h);return Number(u.toFixed(4))}return 0}const Rs=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const d=Cs(l,t);d>0&&o.push({id:a,data:{droppableContainer:s,value:d}})}}return o.sort(ws)};function Ns(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function wr(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:oe}function js(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((a,l)=>({...a,top:a.top+e*l.y,bottom:a.bottom+e*l.y,left:a.left+e*l.x,right:a.right+e*l.x}),{...n})}}const Es=js(1);function Ds(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Ts(e,t,n){const r=Ds(t);if(!r)return e;const{scaleX:o,scaleY:s,x:a,y:l}=r,d=e.left-a-(1-o)*parseFloat(n),f=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),h=o?e.width/o:e.width,u=s?e.height/s:e.height;return{width:h,height:u,top:f,right:d+h,bottom:f+u,left:d}}const Is={ignoreTransform:!1};function _e(e,t){t===void 0&&(t=Is);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:h}=V(e).getComputedStyle(e);f&&(n=Ts(n,f,h))}const{top:r,left:o,width:s,height:a,bottom:l,right:d}=n;return{top:r,left:o,width:s,height:a,bottom:l,right:d}}function Rn(e){return _e(e,{ignoreTransform:!0})}function As(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Ms(e,t){return t===void 0&&(t=V(e).getComputedStyle(e)),t.position==="fixed"}function Ps(e,t){t===void 0&&(t=V(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})}function Rt(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(Qt(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!tt(o)||pr(o)||n.includes(o))return n;const s=V(e).getComputedStyle(o);return o!==e&&Ps(o,s)&&n.push(o),Ms(o,s)?n:r(o.parentNode)}return e?r(e):n}function yr(e){const[t]=Rt(e,1);return t??null}function kt(e){return!Ct||!e?null:Oe(e)?e:Jt(e)?Qt(e)||e===Le(e).scrollingElement?window:tt(e)?e:null:null}function Sr(e){return Oe(e)?e.scrollX:e.scrollLeft}function Cr(e){return Oe(e)?e.scrollY:e.scrollTop}function Ht(e){return{x:Sr(e),y:Cr(e)}}var F;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(F||(F={}));function Rr(e){return!Ct||!e?!1:e===document.scrollingElement}function Nr(e){const t={x:0,y:0},n=Rr(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:a,isRight:l,maxScroll:r,minScroll:t}}const ks={x:.2,y:.2};function Os(e,t,n,r,o){let{top:s,left:a,right:l,bottom:d}=n;r===void 0&&(r=10),o===void 0&&(o=ks);const{isTop:f,isBottom:h,isLeft:u,isRight:g}=Nr(e),m={x:0,y:0},N={x:0,y:0},x={height:t.height*o.y,width:t.width*o.x};return!f&&s<=t.top+x.height?(m.y=F.Backward,N.y=r*Math.abs((t.top+x.height-s)/x.height)):!h&&d>=t.bottom-x.height&&(m.y=F.Forward,N.y=r*Math.abs((t.bottom-x.height-d)/x.height)),!g&&l>=t.right-x.width?(m.x=F.Forward,N.x=r*Math.abs((t.right-x.width-l)/x.width)):!u&&a<=t.left+x.width&&(m.x=F.Backward,N.x=r*Math.abs((t.left+x.width-a)/x.width)),{direction:m,speed:N}}function Ls(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function jr(e){return e.reduce((t,n)=>Pe(t,Ht(n)),oe)}function _s(e){return e.reduce((t,n)=>t+Sr(n),0)}function Fs(e){return e.reduce((t,n)=>t+Cr(n),0)}function zs(e,t){if(t===void 0&&(t=_e),!e)return;const{top:n,left:r,bottom:o,right:s}=t(e);yr(e)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Bs=[["x",["left","right"],_s],["y",["top","bottom"],Fs]];class tn{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Rt(n),o=jr(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,a,l]of Bs)for(const d of a)Object.defineProperty(this,d,{get:()=>{const f=l(r),h=o[s]-f;return this.rect[d]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ye{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function $s(e){const{EventTarget:t}=V(e);return e instanceof t?e:Le(e)}function Ot(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ee;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ee||(ee={}));function Nn(e){e.preventDefault()}function Hs(e){e.stopPropagation()}var I;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(I||(I={}));const Er={start:[I.Space,I.Enter],cancel:[I.Esc],end:[I.Space,I.Enter,I.Tab]},Ws=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case I.Right:return{...n,x:n.x+25};case I.Left:return{...n,x:n.x-25};case I.Down:return{...n,y:n.y+25};case I.Up:return{...n,y:n.y-25}}};class nn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ye(Le(n)),this.windowListeners=new Ye(V(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ee.Resize,this.handleCancel),this.windowListeners.add(ee.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ee.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&zs(r),n(oe)}handleKeyDown(t){if(en(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=Er,coordinateGetter:a=Ws,scrollBehavior:l="smooth"}=o,{code:d}=t;if(s.end.includes(d)){this.handleEnd(t);return}if(s.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:f}=r.current,h=f?{x:f.left,y:f.top}:oe;this.referenceCoordinates||(this.referenceCoordinates=h);const u=a(t,{active:n,context:r.current,currentCoordinates:h});if(u){const g=Ke(u,h),m={x:0,y:0},{scrollableAncestors:N}=r.current;for(const x of N){const w=t.code,{isTop:R,isRight:b,isLeft:p,isBottom:v,maxScroll:y,minScroll:C}=Nr(x),E=Ls(x),j={x:Math.min(w===I.Right?E.right-E.width/2:E.right,Math.max(w===I.Right?E.left:E.left+E.width/2,u.x)),y:Math.min(w===I.Down?E.bottom-E.height/2:E.bottom,Math.max(w===I.Down?E.top:E.top+E.height/2,u.y))},S=w===I.Right&&!b||w===I.Left&&!p,D=w===I.Down&&!v||w===I.Up&&!R;if(S&&j.x!==u.x){const T=x.scrollLeft+g.x,P=w===I.Right&&T<=y.x||w===I.Left&&T>=C.x;if(P&&!g.y){x.scrollTo({left:T,behavior:l});return}P?m.x=x.scrollLeft-T:m.x=w===I.Right?x.scrollLeft-y.x:x.scrollLeft-C.x,m.x&&x.scrollBy({left:-m.x,behavior:l});break}else if(D&&j.y!==u.y){const T=x.scrollTop+g.y,P=w===I.Down&&T<=y.y||w===I.Up&&T>=C.y;if(P&&!g.x){x.scrollTo({top:T,behavior:l});return}P?m.y=x.scrollTop-T:m.y=w===I.Down?x.scrollTop-y.y:x.scrollTop-C.y,m.y&&x.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,Pe(Ke(u,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}nn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Er,onActivation:o}=t,{active:s}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function jn(e){return!!(e&&"distance"in e)}function En(e){return!!(e&&"delay"in e)}class rn{constructor(t,n,r){var o;r===void 0&&(r=$s(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:a}=s;this.props=t,this.events=n,this.document=Le(a),this.documentListeners=new Ye(this.document),this.listeners=new Ye(r),this.windowListeners=new Ye(V(a)),this.initialCoordinates=(o=$t(s))!=null?o:oe,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ee.Resize,this.handleCancel),this.windowListeners.add(ee.DragStart,Nn),this.windowListeners.add(ee.VisibilityChange,this.handleCancel),this.windowListeners.add(ee.ContextMenu,Nn),this.documentListeners.add(ee.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(En(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(jn(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ee.Click,Hs,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ee.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!o)return;const d=(n=$t(t))!=null?n:oe,f=Ke(o,d);if(!r&&l){if(jn(l)){if(l.tolerance!=null&&Ot(f,l.tolerance))return this.handleCancel();if(Ot(f,l.distance))return this.handleStart()}if(En(l)&&Ot(f,l.tolerance))return this.handleCancel();this.handlePending(l,f);return}t.cancelable&&t.preventDefault(),a(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===I.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Us={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class on extends rn{constructor(t){const{event:n}=t,r=Le(n.target);super(t,Us,r)}}on.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const Ys={move:{name:"mousemove"},end:{name:"mouseup"}};var Wt;(function(e){e[e.RightClick=2]="RightClick"})(Wt||(Wt={}));class Xs extends rn{constructor(t){super(t,Ys,Le(t.event.target))}}Xs.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Wt.RightClick?!1:(r?.({event:n}),!0)}}];const Lt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Vs extends rn{constructor(t){super(t,Lt)}static setup(){return window.addEventListener(Lt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Lt.move.name,t)};function t(){}}}Vs.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var Xe;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Xe||(Xe={}));var mt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(mt||(mt={}));function Gs(e){let{acceleration:t,activator:n=Xe.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:a=5,order:l=mt.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:h,delta:u,threshold:g}=e;const m=qs({delta:u,disabled:!s}),[N,x]=is(),w=c.useRef({x:0,y:0}),R=c.useRef({x:0,y:0}),b=c.useMemo(()=>{switch(n){case Xe.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Xe.DraggableRect:return o}},[n,o,d]),p=c.useRef(null),v=c.useCallback(()=>{const C=p.current;if(!C)return;const E=w.current.x*R.current.x,j=w.current.y*R.current.y;C.scrollBy(E,j)},[]),y=c.useMemo(()=>l===mt.TreeOrder?[...f].reverse():f,[l,f]);c.useEffect(()=>{if(!s||!f.length||!b){x();return}for(const C of y){if(r?.(C)===!1)continue;const E=f.indexOf(C),j=h[E];if(!j)continue;const{direction:S,speed:D}=Os(C,j,b,t,g);for(const T of["x","y"])m[T][S[T]]||(D[T]=0,S[T]=0);if(D.x>0||D.y>0){x(),p.current=C,N(v,a),w.current=D,R.current=S;return}}w.current={x:0,y:0},R.current={x:0,y:0},x()},[t,v,r,x,s,a,JSON.stringify(b),JSON.stringify(m),N,f,y,h,JSON.stringify(g)])}const Ks={x:{[F.Backward]:!1,[F.Forward]:!1},y:{[F.Backward]:!1,[F.Forward]:!1}};function qs(e){let{delta:t,disabled:n}=e;const r=Bt(t);return nt(o=>{if(n||!r||!o)return Ks;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[F.Backward]:o.x[F.Backward]||s.x===-1,[F.Forward]:o.x[F.Forward]||s.x===1},y:{[F.Backward]:o.y[F.Backward]||s.y===-1,[F.Forward]:o.y[F.Forward]||s.y===1}}},[n,t,r])}function Js(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return nt(o=>{var s;return t==null?null:(s=r??o)!=null?s:null},[r,t])}function Qs(e,t){return c.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...s]},[]),[e,t])}var Je;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Je||(Je={}));var Ut;(function(e){e.Optimized="optimized"})(Ut||(Ut={}));const Dn=new Map;function Zs(e,t){let{dragging:n,dependencies:r,config:o}=t;const[s,a]=c.useState(null),{frequency:l,measure:d,strategy:f}=o,h=c.useRef(e),u=w(),g=Ge(u),m=c.useCallback(function(R){R===void 0&&(R=[]),!g.current&&a(b=>b===null?R:b.concat(R.filter(p=>!b.includes(p))))},[g]),N=c.useRef(null),x=nt(R=>{if(u&&!n)return Dn;if(!R||R===Dn||h.current!==e||s!=null){const b=new Map;for(let p of e){if(!p)continue;if(s&&s.length>0&&!s.includes(p.id)&&p.rect.current){b.set(p.id,p.rect.current);continue}const v=p.node.current,y=v?new tn(d(v),v):null;p.rect.current=y,y&&b.set(p.id,y)}return b}return R},[e,s,n,u,d]);return c.useEffect(()=>{h.current=e},[e]),c.useEffect(()=>{u||m()},[n,u]),c.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),c.useEffect(()=>{u||typeof l!="number"||N.current!==null||(N.current=setTimeout(()=>{m(),N.current=null},l))},[l,u,m,...r]),{droppableRects:x,measureDroppableContainers:m,measuringScheduled:s!=null};function w(){switch(f){case Je.Always:return!1;case Je.BeforeDragging:return n;default:return!n}}}function Dr(e,t){return nt(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function ei(e,t){return Dr(e,t)}function ti(e){let{callback:t,disabled:n}=e;const r=Zt(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return c.useEffect(()=>()=>o?.disconnect(),[o]),o}function Nt(e){let{callback:t,disabled:n}=e;const r=Zt(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return c.useEffect(()=>()=>o?.disconnect(),[o]),o}function ni(e){return new tn(_e(e),e)}function Tn(e,t,n){t===void 0&&(t=ni);const[r,o]=c.useState(null);function s(){o(d=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=d??n)!=null?f:null}const h=t(e);return JSON.stringify(d)===JSON.stringify(h)?d:h})}const a=ti({callback(d){if(e)for(const f of d){const{type:h,target:u}=f;if(h==="childList"&&u instanceof HTMLElement&&u.contains(e)){s();break}}}}),l=Nt({callback:s});return le(()=>{s(),e?(l?.observe(e),a?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),a?.disconnect())},[e]),r}function ri(e){const t=Dr(e);return wr(e,t)}const In=[];function oi(e){const t=c.useRef(e),n=nt(r=>e?r&&r!==In&&e&&t.current&&e.parentNode===t.current.parentNode?r:Rt(e):In,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function si(e){const[t,n]=c.useState(null),r=c.useRef(e),o=c.useCallback(s=>{const a=kt(s.target);a&&n(l=>l?(l.set(a,Ht(a)),new Map(l)):null)},[]);return c.useEffect(()=>{const s=r.current;if(e!==s){a(s);const l=e.map(d=>{const f=kt(d);return f?(f.addEventListener("scroll",o,{passive:!0}),[f,Ht(f)]):null}).filter(d=>d!=null);n(l.length?new Map(l):null),r.current=e}return()=>{a(e),a(s)};function a(l){l.forEach(d=>{const f=kt(d);f?.removeEventListener("scroll",o)})}},[o,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,a)=>Pe(s,a),oe):jr(e):oe,[e,t])}function An(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const r=e!==oe;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Ke(e,n.current):oe}function ii(e){c.useEffect(()=>{if(!Ct)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function ai(e,t){return c.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=a=>{s(a,t)},n},{}),[e,t])}function Tr(e){return c.useMemo(()=>e?As(e):null,[e])}const Mn=[];function li(e,t){t===void 0&&(t=_e);const[n]=e,r=Tr(n?V(n):null),[o,s]=c.useState(Mn);function a(){s(()=>e.length?e.map(d=>Rr(d)?r:new tn(t(d),d)):Mn)}const l=Nt({callback:a});return le(()=>{l?.disconnect(),a(),e.forEach(d=>l?.observe(d))},[e]),o}function ci(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return tt(t)?t:e}function di(e){let{measure:t}=e;const[n,r]=c.useState(null),o=c.useCallback(f=>{for(const{target:h}of f)if(tt(h)){r(u=>{const g=t(h);return u?{...u,width:g.width,height:g.height}:g});break}},[t]),s=Nt({callback:o}),a=c.useCallback(f=>{const h=ci(f);s?.disconnect(),h&&s?.observe(h),r(h?t(h):null)},[t,s]),[l,d]=gt(a);return c.useMemo(()=>({nodeRef:l,rect:n,setRef:d}),[n,l,d])}const ui=[{sensor:on,options:{}},{sensor:nn,options:{}}],fi={current:{}},ut={draggable:{measure:Rn},droppable:{measure:Rn,strategy:Je.WhileDragging,frequency:Ut.Optimized},dragOverlay:{measure:_e}};class Ve extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const hi={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ve,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:vt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ut,measureDroppableContainers:vt,windowRect:null,measuringScheduled:!1},pi={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:vt,draggableNodes:new Map,over:null,measureDroppableContainers:vt},jt=c.createContext(pi),Ir=c.createContext(hi);function gi(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ve}}}function vi(e,t){switch(t.type){case _.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case _.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case _.DragEnd:case _.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case _.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Ve(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case _.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new Ve(e.droppable.containers);return a.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case _.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new Ve(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function mi(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=c.useContext(jt),s=Bt(r),a=Bt(n?.id);return c.useEffect(()=>{if(!t&&!r&&s&&a!=null){if(!en(s)||document.activeElement===s.target)return;const l=o.get(a);if(!l)return;const{activatorNode:d,node:f}=l;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[d.current,f.current]){if(!h)continue;const u=cs(h);if(u){u.focus();break}}})}},[r,t,o,a,s]),null}function bi(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...r}),n):n}function xi(e){return c.useMemo(()=>({draggable:{...ut.draggable,...e?.draggable},droppable:{...ut.droppable,...e?.droppable},dragOverlay:{...ut.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function wi(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const s=c.useRef(!1),{x:a,y:l}=typeof o=="boolean"?{x:o,y:o}:o;le(()=>{if(!a&&!l||!t){s.current=!1;return}if(s.current||!r)return;const f=t?.node.current;if(!f||f.isConnected===!1)return;const h=n(f),u=wr(h,r);if(a||(u.x=0),l||(u.y=0),s.current=!0,Math.abs(u.x)>0||Math.abs(u.y)>0){const g=yr(f);g&&g.scrollBy({top:u.y,left:u.x})}},[t,a,l,r,n])}const Ar=c.createContext({...oe,scaleX:1,scaleY:1});var ye;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ye||(ye={}));const yi=c.memo(function(t){var n,r,o,s;let{id:a,accessibility:l,autoScroll:d=!0,children:f,sensors:h=ui,collisionDetection:u=Rs,measuring:g,modifiers:m,...N}=t;const x=c.useReducer(vi,void 0,gi),[w,R]=x,[b,p]=gs(),[v,y]=c.useState(ye.Uninitialized),C=v===ye.Initialized,{draggable:{active:E,nodes:j,translate:S},droppable:{containers:D}}=w,T=E!=null?j.get(E):null,P=c.useRef({initial:null,translated:null}),k=c.useMemo(()=>{var W;return E!=null?{id:E,data:(W=T?.data)!=null?W:fi,rect:P}:null},[E,T]),z=c.useRef(null),[Y,B]=c.useState(null),[$,Ce]=c.useState(null),G=Ge(N,Object.values(N)),Re=rt("DndDescribedBy",a),pe=c.useMemo(()=>D.getEnabled(),[D]),L=xi(g),{droppableRects:re,measureDroppableContainers:Ne,measuringScheduled:Fe}=Zs(pe,{dragging:C,dependencies:[S.x,S.y],config:L.droppable}),Q=Js(j,E),ot=c.useMemo(()=>$?$t($):null,[$]),ge=Yr(),de=ei(Q,L.draggable.measure);wi({activeNode:E!=null?j.get(E):null,config:ge.layoutShiftCompensation,initialRect:de,measure:L.draggable.measure});const M=Tn(Q,L.draggable.measure,de),ze=Tn(Q?Q.parentElement:null),se=c.useRef({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ee=D.getNodeFor((n=se.current.over)==null?void 0:n.id),ue=di({measure:L.dragOverlay.measure}),De=(r=ue.nodeRef.current)!=null?r:Q,Te=C?(o=ue.rect)!=null?o:M:null,an=!!(ue.nodeRef.current&&ue.rect),ln=ri(an?null:M),Et=Tr(De?V(De):null),ve=oi(C?Ee??Q:null),st=li(ve),it=bi(m,{transform:{x:S.x-ln.x,y:S.y-ln.y,scaleX:1,scaleY:1},activatorEvent:$,active:k,activeNodeRect:M,containerNodeRect:ze,draggingNodeRect:Te,over:se.current.over,overlayNodeRect:ue.rect,scrollableAncestors:ve,scrollableAncestorRects:st,windowRect:Et}),cn=ot?Pe(ot,S):null,dn=si(ve),Fr=An(dn),zr=An(dn,[M]),Ie=Pe(it,Fr),Ae=Te?Es(Te,it):null,Be=k&&Ae?u({active:k,collisionRect:Ae,droppableRects:re,droppableContainers:pe,pointerCoordinates:cn}):null,un=xr(Be,"id"),[me,fn]=c.useState(null),Br=an?it:Pe(it,zr),$r=Ns(Br,(s=me?.rect)!=null?s:null,M),Dt=c.useRef(null),hn=c.useCallback((W,K)=>{let{sensor:q,options:be}=K;if(z.current==null)return;const Z=j.get(z.current);if(!Z)return;const J=W.nativeEvent,ie=new q({active:z.current,activeNode:Z,event:J,options:be,context:se,onAbort(H){if(!j.get(H))return;const{onDragAbort:ae}=G.current,fe={id:H};ae?.(fe),b({type:"onDragAbort",event:fe})},onPending(H,xe,ae,fe){if(!j.get(H))return;const{onDragPending:He}=G.current,we={id:H,constraint:xe,initialCoordinates:ae,offset:fe};He?.(we),b({type:"onDragPending",event:we})},onStart(H){const xe=z.current;if(xe==null)return;const ae=j.get(xe);if(!ae)return;const{onDragStart:fe}=G.current,$e={activatorEvent:J,active:{id:xe,data:ae.data,rect:P}};Ue.unstable_batchedUpdates(()=>{fe?.($e),y(ye.Initializing),R({type:_.DragStart,initialCoordinates:H,active:xe}),b({type:"onDragStart",event:$e}),B(Dt.current),Ce(J)})},onMove(H){R({type:_.DragMove,coordinates:H})},onEnd:Me(_.DragEnd),onCancel:Me(_.DragCancel)});Dt.current=ie;function Me(H){return async function(){const{active:ae,collisions:fe,over:$e,scrollAdjustedTranslate:He}=se.current;let we=null;if(ae&&He){const{cancelDrop:We}=G.current;we={activatorEvent:J,active:ae,collisions:fe,delta:He,over:$e},H===_.DragEnd&&typeof We=="function"&&await Promise.resolve(We(we))&&(H=_.DragCancel)}z.current=null,Ue.unstable_batchedUpdates(()=>{R({type:H}),y(ye.Uninitialized),fn(null),B(null),Ce(null),Dt.current=null;const We=H===_.DragEnd?"onDragEnd":"onDragCancel";if(we){const Tt=G.current[We];Tt?.(we),b({type:We,event:we})}})}}},[j]),Hr=c.useCallback((W,K)=>(q,be)=>{const Z=q.nativeEvent,J=j.get(be);if(z.current!==null||!J||Z.dndKit||Z.defaultPrevented)return;const ie={active:J};W(q,K.options,ie)===!0&&(Z.dndKit={capturedBy:K.sensor},z.current=be,hn(q,K))},[j,hn]),pn=Qs(h,Hr);ii(h),le(()=>{M&&v===ye.Initializing&&y(ye.Initialized)},[M,v]),c.useEffect(()=>{const{onDragMove:W}=G.current,{active:K,activatorEvent:q,collisions:be,over:Z}=se.current;if(!K||!q)return;const J={active:K,activatorEvent:q,collisions:be,delta:{x:Ie.x,y:Ie.y},over:Z};Ue.unstable_batchedUpdates(()=>{W?.(J),b({type:"onDragMove",event:J})})},[Ie.x,Ie.y]),c.useEffect(()=>{const{active:W,activatorEvent:K,collisions:q,droppableContainers:be,scrollAdjustedTranslate:Z}=se.current;if(!W||z.current==null||!K||!Z)return;const{onDragOver:J}=G.current,ie=be.get(un),Me=ie&&ie.rect.current?{id:ie.id,rect:ie.rect.current,data:ie.data,disabled:ie.disabled}:null,H={active:W,activatorEvent:K,collisions:q,delta:{x:Z.x,y:Z.y},over:Me};Ue.unstable_batchedUpdates(()=>{fn(Me),J?.(H),b({type:"onDragOver",event:H})})},[un]),le(()=>{se.current={activatorEvent:$,active:k,activeNode:Q,collisionRect:Ae,collisions:Be,droppableRects:re,draggableNodes:j,draggingNode:De,draggingNodeRect:Te,droppableContainers:D,over:me,scrollableAncestors:ve,scrollAdjustedTranslate:Ie},P.current={initial:Te,translated:Ae}},[k,Q,Be,Ae,j,De,Te,re,D,me,ve,Ie]),Gs({...ge,delta:S,draggingRect:Ae,pointerCoordinates:cn,scrollableAncestors:ve,scrollableAncestorRects:st});const Wr=c.useMemo(()=>({active:k,activeNode:Q,activeNodeRect:M,activatorEvent:$,collisions:Be,containerNodeRect:ze,dragOverlay:ue,draggableNodes:j,droppableContainers:D,droppableRects:re,over:me,measureDroppableContainers:Ne,scrollableAncestors:ve,scrollableAncestorRects:st,measuringConfiguration:L,measuringScheduled:Fe,windowRect:Et}),[k,Q,M,$,Be,ze,ue,j,D,re,me,Ne,ve,st,L,Fe,Et]),Ur=c.useMemo(()=>({activatorEvent:$,activators:pn,active:k,activeNodeRect:M,ariaDescribedById:{draggable:Re},dispatch:R,draggableNodes:j,over:me,measureDroppableContainers:Ne}),[$,pn,k,M,R,Re,j,me,Ne]);return O.createElement(vr.Provider,{value:p},O.createElement(jt.Provider,{value:Ur},O.createElement(Ir.Provider,{value:Wr},O.createElement(Ar.Provider,{value:$r},f)),O.createElement(mi,{disabled:l?.restoreFocus===!1})),O.createElement(bs,{...l,hiddenTextDescribedById:Re}));function Yr(){const W=Y?.autoScrollEnabled===!1,K=typeof d=="object"?d.enabled===!1:d===!1,q=C&&!W&&!K;return typeof d=="object"?{...d,enabled:q}:{enabled:q}}}),Si=c.createContext(null),Pn="button",Ci="Draggable";function Ri(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const s=rt(Ci),{activators:a,activatorEvent:l,active:d,activeNodeRect:f,ariaDescribedById:h,draggableNodes:u,over:g}=c.useContext(jt),{role:m=Pn,roleDescription:N="draggable",tabIndex:x=0}=o??{},w=d?.id===t,R=c.useContext(w?Ar:Si),[b,p]=gt(),[v,y]=gt(),C=ai(a,t),E=Ge(n);le(()=>(u.set(t,{id:t,key:s,node:b,activatorNode:v,data:E}),()=>{const S=u.get(t);S&&S.key===s&&u.delete(t)}),[u,t]);const j=c.useMemo(()=>({role:m,tabIndex:x,"aria-disabled":r,"aria-pressed":w&&m===Pn?!0:void 0,"aria-roledescription":N,"aria-describedby":h.draggable}),[r,m,x,w,N,h.draggable]);return{active:d,activatorEvent:l,activeNodeRect:f,attributes:j,isDragging:w,listeners:r?void 0:C,node:b,over:g,setNodeRef:p,setActivatorNodeRef:y,transform:R}}function Ni(){return c.useContext(Ir)}const ji="Droppable",Ei={timeout:25};function Di(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const s=rt(ji),{active:a,dispatch:l,over:d,measureDroppableContainers:f}=c.useContext(jt),h=c.useRef({disabled:n}),u=c.useRef(!1),g=c.useRef(null),m=c.useRef(null),{disabled:N,updateMeasurementsFor:x,timeout:w}={...Ei,...o},R=Ge(x??r),b=c.useCallback(()=>{if(!u.current){u.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{f(Array.isArray(R.current)?R.current:[R.current]),m.current=null},w)},[w]),p=Nt({callback:b,disabled:N||!a}),v=c.useCallback((j,S)=>{p&&(S&&(p.unobserve(S),u.current=!1),j&&p.observe(j))},[p]),[y,C]=gt(v),E=Ge(t);return c.useEffect(()=>{!p||!y.current||(p.disconnect(),u.current=!1,p.observe(y.current))},[y,p]),c.useEffect(()=>(l({type:_.RegisterDroppable,element:{id:r,key:s,disabled:n,node:y,rect:g,data:E}}),()=>l({type:_.UnregisterDroppable,key:s,id:r})),[r]),c.useEffect(()=>{n!==h.current.disabled&&(l({type:_.SetDroppableDisabled,id:r,key:s,disabled:n}),h.current.disabled=n)},[r,s,n,l]),{active:a,rect:g,isOver:d?.id===r,node:y,over:d,setNodeRef:C}}function sn(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Ti(e,t){return e.reduce((n,r,o)=>{const s=t.get(r);return s&&(n[o]=s),n},Array(e.length))}function ct(e){return e!==null&&e>=0}function Ii(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ai(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Mr=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const s=sn(t,r,n),a=t[o],l=s[o];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},dt={scaleX:1,scaleY:1},Mi=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:s,overIndex:a}=e;const l=(t=s[n])!=null?t:r;if(!l)return null;if(o===n){const f=s[a];return f?{x:0,y:n<a?f.top+f.height-(l.top+l.height):f.top-l.top,...dt}:null}const d=Pi(s,o,n);return o>n&&o<=a?{x:0,y:-l.height-d,...dt}:o<n&&o>=a?{x:0,y:l.height+d,...dt}:{x:0,y:0,...dt}};function Pi(e,t,n){const r=e[t],o=e[t-1],s=e[t+1];return r?n<t?o?r.top-(o.top+o.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Pr="Sortable",kr=O.createContext({activeIndex:-1,containerId:Pr,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Mr,disabled:{draggable:!1,droppable:!1}});function ki(e){let{children:t,id:n,items:r,strategy:o=Mr,disabled:s=!1}=e;const{active:a,dragOverlay:l,droppableRects:d,over:f,measureDroppableContainers:h}=Ni(),u=rt(Pr,n),g=l.rect!==null,m=c.useMemo(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),N=a!=null,x=a?m.indexOf(a.id):-1,w=f?m.indexOf(f.id):-1,R=c.useRef(m),b=!Ii(m,R.current),p=w!==-1&&x===-1||b,v=Ai(s);le(()=>{b&&N&&h(m)},[b,m,N,h]),c.useEffect(()=>{R.current=m},[m]);const y=c.useMemo(()=>({activeIndex:x,containerId:u,disabled:v,disableTransforms:p,items:m,overIndex:w,useDragOverlay:g,sortedRects:Ti(m,d),strategy:o}),[x,u,v.draggable,v.droppable,p,m,w,d,g,o]);return O.createElement(kr.Provider,{value:y},t)}const Oi=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return sn(n,r,o).indexOf(t)},Li=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:s,newIndex:a,previousItems:l,previousContainerId:d,transition:f}=e;return!f||!r||l!==s&&o===a?!1:n?!0:a!==o&&t===d},_i={duration:200,easing:"ease"},Or="transform",Fi=qe.Transition.toString({property:Or,duration:0,easing:"linear"}),zi={roleDescription:"sortable"};function Bi(e){let{disabled:t,index:n,node:r,rect:o}=e;const[s,a]=c.useState(null),l=c.useRef(n);return le(()=>{if(!t&&n!==l.current&&r.current){const d=o.current;if(d){const f=_e(r.current,{ignoreTransform:!0}),h={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(h.x||h.y)&&a(h)}}n!==l.current&&(l.current=n)},[t,n,r,o]),c.useEffect(()=>{s&&a(null)},[s]),s}function $i(e){let{animateLayoutChanges:t=Li,attributes:n,disabled:r,data:o,getNewIndex:s=Oi,id:a,strategy:l,resizeObserverConfig:d,transition:f=_i}=e;const{items:h,containerId:u,activeIndex:g,disabled:m,disableTransforms:N,sortedRects:x,overIndex:w,useDragOverlay:R,strategy:b}=c.useContext(kr),p=Hi(r,m),v=h.indexOf(a),y=c.useMemo(()=>({sortable:{containerId:u,index:v,items:h},...o}),[u,o,v,h]),C=c.useMemo(()=>h.slice(h.indexOf(a)),[h,a]),{rect:E,node:j,isOver:S,setNodeRef:D}=Di({id:a,data:y,disabled:p.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...d}}),{active:T,activatorEvent:P,activeNodeRect:k,attributes:z,setNodeRef:Y,listeners:B,isDragging:$,over:Ce,setActivatorNodeRef:G,transform:Re}=Ri({id:a,data:y,attributes:{...zi,...n},disabled:p.draggable}),pe=ss(D,Y),L=!!T,re=L&&!N&&ct(g)&&ct(w),Ne=!R&&$,Fe=Ne&&re?Re:null,ot=re?Fe??(l??b)({rects:x,activeNodeRect:k,activeIndex:g,overIndex:w,index:v}):null,ge=ct(g)&&ct(w)?s({id:a,items:h,activeIndex:g,overIndex:w}):v,de=T?.id,M=c.useRef({activeId:de,items:h,newIndex:ge,containerId:u}),ze=h!==M.current.items,se=t({active:T,containerId:u,isDragging:$,isSorting:L,id:a,index:v,items:h,newIndex:M.current.newIndex,previousItems:M.current.items,previousContainerId:M.current.containerId,transition:f,wasDragging:M.current.activeId!=null}),Ee=Bi({disabled:!se,index:v,node:j,rect:E});return c.useEffect(()=>{L&&M.current.newIndex!==ge&&(M.current.newIndex=ge),u!==M.current.containerId&&(M.current.containerId=u),h!==M.current.items&&(M.current.items=h)},[L,ge,u,h]),c.useEffect(()=>{if(de===M.current.activeId)return;if(de!=null&&M.current.activeId==null){M.current.activeId=de;return}const De=setTimeout(()=>{M.current.activeId=de},50);return()=>clearTimeout(De)},[de]),{active:T,activeIndex:g,attributes:z,data:y,rect:E,index:v,newIndex:ge,items:h,isOver:S,isSorting:L,isDragging:$,listeners:B,node:j,overIndex:w,over:Ce,setNodeRef:pe,setActivatorNodeRef:G,setDroppableNodeRef:D,setDraggableNodeRef:Y,transform:Ee??ot,transition:ue()};function ue(){if(Ee||ze&&M.current.newIndex===v)return Fi;if(!(Ne&&!en(P)||!f)&&(L||se))return qe.Transition.toString({...f,property:Or})}}function Hi(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function bt(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Wi=[I.Down,I.Right,I.Up,I.Left],Ui=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:s,over:a,scrollableAncestors:l}}=t;if(Wi.includes(e.code)){if(e.preventDefault(),!n||!r)return;const d=[];s.getEnabled().forEach(u=>{if(!u||u!=null&&u.disabled)return;const g=o.get(u.id);if(g)switch(e.code){case I.Down:r.top<g.top&&d.push(u);break;case I.Up:r.top>g.top&&d.push(u);break;case I.Left:r.left>g.left&&d.push(u);break;case I.Right:r.left<g.left&&d.push(u);break}});const f=Ss({collisionRect:r,droppableRects:o,droppableContainers:d});let h=xr(f,"id");if(h===a?.id&&f.length>1&&(h=f[1].id),h!=null){const u=s.get(n.id),g=s.get(h),m=g?o.get(g.id):null,N=g?.node.current;if(N&&m&&u&&g){const w=Rt(N).some((C,E)=>l[E]!==C),R=Lr(u,g),b=Yi(u,g),p=w||!R?{x:0,y:0}:{x:b?r.width-m.width:0,y:b?r.height-m.height:0},v={x:m.left,y:m.top};return p.x&&p.y?v:Ke(v,p)}}}};function Lr(e,t){return!bt(e)||!bt(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Yi(e,t){return!bt(e)||!bt(t)||!Lr(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Xi({...e}){return i.jsx(Jr,{"data-slot":"dialog",...e})}function Vi({...e}){return i.jsx(to,{"data-slot":"dialog-portal",...e})}function Gi({className:e,...t}){return i.jsx(no,{"data-slot":"dialog-overlay",className:A("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Ki({className:e,children:t,showCloseButton:n=!0,...r}){return i.jsxs(Vi,{"data-slot":"dialog-portal",children:[i.jsx(Gi,{}),i.jsxs(Qr,{"data-slot":"dialog-content",className:A("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,n&&i.jsxs(Zr,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[i.jsx(lo,{}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function qi({className:e,...t}){return i.jsx("div",{"data-slot":"dialog-header",className:A("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Ji({className:e,...t}){return i.jsx("div",{"data-slot":"dialog-footer",className:A("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Qi({className:e,...t}){return i.jsx(eo,{"data-slot":"dialog-title",className:A("text-lg leading-none font-semibold",e),...t})}function _r(e){const t=["th","st","nd","rd"],n=e%100;return t[(n-20)%10]||t[n]||t[0]}function Zi({id:e,index:t,participantName:n,position:r,points:o,positionLabel:s,hasPointsSystem:a,onMoveUp:l,onMoveDown:d,isFirst:f,isLast:h,t:u}){const{attributes:g,listeners:m,setNodeRef:N,transform:x,transition:w,isDragging:R}=$i({id:e}),b={transform:qe.Transform.toString(x),transition:w,opacity:R?.5:1};return i.jsxs("div",{ref:N,style:b,className:`flex items-center gap-2 p-3 bg-gray-50 rounded-lg border border-gray-200 ${R?"shadow-lg z-50":""}`,children:[i.jsx("div",{...g,...m,className:"flex-shrink-0 cursor-grab active:cursor-grabbing touch-none","aria-label":"Drag to reorder",children:i.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})}),i.jsxs("div",{className:"flex-shrink-0 w-12 flex items-center justify-center",children:[r===1&&i.jsx(X,{className:"w-8 h-8 rounded-full flex items-center justify-center p-0 text-sm font-bold bg-yellow-500 hover:bg-yellow-500 text-white border-yellow-600","aria-label":"1st place",children:"1"}),r===2&&i.jsx(X,{className:"w-8 h-8 rounded-full flex items-center justify-center p-0 text-sm font-bold bg-gray-400 hover:bg-gray-400 text-white border-gray-500","aria-label":"2nd place",children:"2"}),r===3&&i.jsx(X,{className:"w-8 h-8 rounded-full flex items-center justify-center p-0 text-sm font-bold bg-amber-600 hover:bg-amber-600 text-white border-amber-700","aria-label":"3rd place",children:"3"}),r>3&&i.jsx(X,{variant:"outline",className:"w-8 h-8 rounded-full flex items-center justify-center p-0 text-sm font-semibold","aria-label":`${r}${_r(r)} place`,children:r})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-gray-900",children:n}),i.jsxs("div",{className:"text-xs text-gray-500",children:[s,a&&i.jsx("span",{className:"ml-2 text-blue-600 font-medium",children:u("view.placementPoints",{points:o})})]})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(je,{variant:"ghost",size:"sm",onClick:l,disabled:f,className:"h-6 w-6 p-0",type:"button",children:i.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),i.jsx(je,{variant:"ghost",size:"sm",onClick:d,disabled:h,className:"h-6 w-6 p-0",type:"button",children:i.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}function ea({match:e,participants:t,isMultiPlayer:n,pointsSystem:r,onSave:o,onCancel:s}){const{t:a}=Ze(),[l,d]=c.useState([]),f=xs(yn(on,{activationConstraint:{distance:8}}),yn(nn,{coordinateGetter:Ui}));if(c.useEffect(()=>{e&&d(e.participantIds)},[e]),!e)return null;const h=b=>{const{active:p,over:v}=b;v&&p.id!==v.id&&d(y=>{const C=y.indexOf(p.id),E=y.indexOf(v.id);return sn(y,C,E)})},u=b=>t.find(v=>v.id===b)?.name||"Unknown",g=b=>b===1?a("view.first"):b===2?a("view.second"):b===3?a("view.third"):b===4?a("view.fourth"):`${b}${_r(b)}`,m=b=>{if(!r)return 0;try{return so(r,b,e.participantIds.length)}catch{return 0}},N=b=>{if(b===0)return;const p=[...l];[p[b-1],p[b]]=[p[b],p[b-1]],d(p)},x=b=>{if(b===l.length-1)return;const p=[...l];[p[b],p[b+1]]=[p[b+1],p[b]],d(p)},w=()=>{if(n){const b={rankings:l.map((p,v)=>({participantId:p,position:v+1}))};o(e.id,b)}else{const b=l[0],p=l[1],v={winnerId:b,loserId:p};o(e.id,v)}},R=b=>{const p=e.participantIds.find(y=>y!==b),v={winnerId:b,loserId:p};o(e.id,v)};return i.jsx(Xi,{open:!!e,onOpenChange:s,children:i.jsxs(Ki,{className:"sm:max-w-md",children:[i.jsx(qi,{children:i.jsx(Qi,{children:a(n?"view.recordRankings":"view.recordResult")})}),!n&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:a("view.selectWinner")}),e.participantIds.map(b=>i.jsx(je,{variant:"outline",onClick:()=>R(b),className:"w-full h-auto p-4 justify-start hover:border-green-500 hover:bg-green-50",children:i.jsxs("div",{className:"flex items-center w-full",children:[i.jsx("span",{className:"font-medium text-gray-900",children:u(b)}),i.jsx("span",{className:"text-sm text-gray-500 ml-2",children:a("common.wins")})]})},b))]}),n&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:a("view.dragToReorder")}),i.jsx(yi,{sensors:f,collisionDetection:ys,onDragEnd:h,children:i.jsx(ki,{items:l,strategy:Mi,children:i.jsx("div",{className:"space-y-2",children:l.map((b,p)=>{const v=p+1,y=m(v),C=g(v);return i.jsx(Zi,{id:b,index:p,participantName:u(b),position:v,points:y,positionLabel:C,hasPointsSystem:!!r,onMoveUp:()=>N(p),onMoveDown:()=>x(p),isFirst:p===0,isLast:p===l.length-1,t:a},b)})})})})]}),i.jsxs(Ji,{className:"flex gap-2",children:[i.jsx(je,{variant:"outline",onClick:s,children:a("common.cancel")}),n&&i.jsx(je,{onClick:w,className:"bg-green-600 hover:bg-green-700",children:a("view.saveResults")})]})]})})}function oa({tournamentId:e,onBack:t}){const{t:n}=Ze(),[r,o]=c.useState(null),[s,a]=c.useState(null),[l,d]=c.useState([]),[f,h]=c.useState([]),[u,g]=c.useState(null),[m,N]=c.useState(!0),[x,w]=c.useState(null);c.useEffect(()=>{try{const S=ro(e);if(!S){w(n("view.tournamentNotFound"));return}const D=io(S);o(D),a(S),d(D.getCurrentMatches()),h(D.getStandings()),N(!1)}catch(S){w(S instanceof Error?S.message:n("view.loadError")),N(!1)}},[e,n]);const R=()=>{if(!r)return;d(r.getCurrentMatches()),h(r.getStandings());const S=r.export();oo(S),a(S)},b=(S,D)=>{if(r)try{r.recordMatchResult(S,D),R(),g(null)}catch(T){alert(T instanceof Error?T.message:n("view.resultError"))}},p=S=>{S.status!=="completed"&&g(S)},v=S=>S.participantIds.length>2,y=()=>s?s.options?.pointsSystem:void 0,C=S=>S==="single-elimination"||S==="double-elimination",E=S=>S==="round-robin"||S==="swiss"||S==="free-for-all";if(m)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n("view.loadingTournament")})]})});if(x||!r)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-red-600",children:x||n("view.tournamentNotFound")}),i.jsx(je,{onClick:t,className:"mt-4",children:n("view.backToDashboard")})]})});const j=S=>({"single-elimination":n("tournamentTypes.singleElimination"),"double-elimination":n("tournamentTypes.doubleElimination"),"round-robin":n("tournamentTypes.roundRobin"),swiss:n("tournamentTypes.swiss"),"free-for-all":n("tournamentTypes.freeForAll")})[S]||S;return i.jsx("div",{className:"min-h-screen bg-gray-50 p-2 md:p-4",children:i.jsxs("div",{className:"max-w-[1920px] mx-auto",children:[i.jsxs("div",{className:"mb-3",children:[i.jsxs(je,{variant:"ghost",onClick:t,className:"mb-2 -ml-2",children:[i.jsx("svg",{className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),n("view.backToDashboard")]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.getName()}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j(r.getType())})]}),i.jsx("div",{children:r.isComplete()?i.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-green-100 text-green-800",children:n("status.completed")}):i.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-blue-100 text-blue-800",children:n("status.inProgress")})})]})]}),i.jsxs(Io,{defaultValue:C(r.getType())?"bracket":"matches",className:"w-full",children:[i.jsxs(Ao,{className:"grid w-full max-w-md",style:{gridTemplateColumns:C(r.getType())?"1fr 1fr 1fr":"1fr 1fr"},children:[C(r.getType())&&i.jsx(At,{value:"bracket",children:n("view.bracket")}),i.jsx(At,{value:"matches",children:n("view.matches")}),i.jsx(At,{value:"standings",children:n("view.standings")})]}),C(r.getType())&&i.jsx(Mt,{value:"bracket",className:"mt-3",children:i.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[r.getType()==="single-elimination"&&s?.type==="single-elimination"&&i.jsx(ns,{bracket:s.bracket,thirdPlaceMatch:s.thirdPlaceMatch,participants:r.getParticipants(),onMatchClick:p}),r.getType()==="double-elimination"&&s?.type==="double-elimination"&&i.jsx(rs,{winnersBracket:s.winnersBracket,losersBracket:s.losersBracket,grandFinal:s.grandFinal,grandFinalReset:s.grandFinalReset,participants:r.getParticipants(),onMatchClick:p})]})}),i.jsx(Mt,{value:"matches",className:"mt-3",children:i.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n("view.currentMatches")}),i.jsx(os,{matches:l,participants:r.getParticipants(),onMatchClick:p,groupByRounds:E(r.getType()),showRoundHeaders:E(r.getType())})]})}),i.jsx(Mt,{value:"standings",className:"mt-3",children:i.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n("view.standings")}),i.jsx("div",{className:"rounded-md border",children:i.jsxs(Mo,{children:[i.jsx(Po,{children:i.jsxs(vn,{children:[i.jsx(at,{className:"w-20",children:n("view.rank")}),i.jsx(at,{children:n("view.participant")}),i.jsx(at,{className:"w-32",children:n("view.wlt")}),f.some(S=>S.points!==void 0)&&i.jsx(at,{className:"w-24 text-right",children:n("view.points")})]})}),i.jsx(ko,{children:f.map(S=>i.jsxs(vn,{children:[i.jsx(lt,{className:"font-medium",children:S.rank||"-"}),i.jsxs(lt,{children:[S.participantName,S.isEliminated&&i.jsx("span",{className:"ml-2 text-xs text-red-600",children:n("view.eliminated")})]}),i.jsxs(lt,{children:[S.wins,"-",S.losses,"-",S.ties]}),f.some(D=>D.points!==void 0)&&i.jsx(lt,{className:"text-right",children:S.points||0})]},S.participantId))})]})})]})})]}),i.jsx(ea,{match:u,participants:r.getParticipants(),isMultiPlayer:u?v(u):!1,pointsSystem:y(),onSave:b,onCancel:()=>g(null)})]})})}export{oa as default};
