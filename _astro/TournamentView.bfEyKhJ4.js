import{a as K,b as L,j as e,e as me,f as be,P as I,h as P,k as ge,l as F,m as W,c as N,R as et,C as tt,n as rt,T as nt,o as ot,O as st,S as at,p as lt,q as it,u as q,r as ct,B as V,s as dt}from"./TournamentApp.CY9Di9yW.js";import{c as B,r as l}from"./index.DXA_EoSs.js";import{r as ut}from"./factory.mr0xbV1g.js";function mt(t){const r=t+"CollectionProvider",[n,o]=K(r),[s,a]=n(r,{collectionRef:{current:null},itemMap:new Map}),d=C=>{const{scope:p,children:v}=C,y=B.useRef(null),w=B.useRef(new Map).current;return e.jsx(s,{scope:p,itemMap:w,collectionRef:y,children:v})};d.displayName=r;const m=t+"CollectionSlot",f=me(m),x=B.forwardRef((C,p)=>{const{scope:v,children:y}=C,w=a(m,v),j=L(p,w.collectionRef);return e.jsx(f,{ref:j,children:y})});x.displayName=m;const u=t+"CollectionItemSlot",i="data-radix-collection-item",c=me(u),b=B.forwardRef((C,p)=>{const{scope:v,children:y,...w}=C,j=B.useRef(null),R=L(p,j),E=a(u,v);return B.useEffect(()=>(E.itemMap.set(j,{ref:j,...w}),()=>void E.itemMap.delete(j))),e.jsx(c,{[i]:"",ref:R,children:y})});b.displayName=u;function g(C){const p=a(t+"CollectionConsumer",C);return B.useCallback(()=>{const y=p.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${i}]`));return Array.from(p.itemMap.values()).sort((E,_)=>w.indexOf(E.ref.current)-w.indexOf(_.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:d,Slot:x,ItemSlot:b},g,o]}var ft=l.createContext(void 0);function ae(t){const r=l.useContext(ft);return t||r||"ltr"}var ee="rovingFocusGroup.onEntryFocus",pt={bubbles:!1,cancelable:!0},H="RovingFocusGroup",[ne,ve,xt]=mt(H),[ht,we]=K(H,[xt]),[bt,gt]=ht(H),je=l.forwardRef((t,r)=>e.jsx(ne.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(ne.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(vt,{...t,ref:r})})}));je.displayName=H;var vt=l.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:s=!1,dir:a,currentTabStopId:d,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:f,onEntryFocus:x,preventScrollOnEntryFocus:u=!1,...i}=t,c=l.useRef(null),b=L(r,c),g=ae(a),[C,p]=ge({prop:d,defaultProp:m??null,onChange:f,caller:H}),[v,y]=l.useState(!1),w=F(x),j=ve(n),R=l.useRef(!1),[E,_]=l.useState(0);return l.useEffect(()=>{const h=c.current;if(h)return h.addEventListener(ee,w),()=>h.removeEventListener(ee,w)},[w]),e.jsx(bt,{scope:n,orientation:o,dir:g,loop:s,currentTabStopId:C,onItemFocus:l.useCallback(h=>p(h),[p]),onItemShiftTab:l.useCallback(()=>y(!0),[]),onFocusableItemAdd:l.useCallback(()=>_(h=>h+1),[]),onFocusableItemRemove:l.useCallback(()=>_(h=>h-1),[]),children:e.jsx(I.div,{tabIndex:v||E===0?-1:0,"data-orientation":o,...i,ref:b,style:{outline:"none",...t.style},onMouseDown:P(t.onMouseDown,()=>{R.current=!0}),onFocus:P(t.onFocus,h=>{const S=!R.current;if(h.target===h.currentTarget&&S&&!v){const T=new CustomEvent(ee,pt);if(h.currentTarget.dispatchEvent(T),!T.defaultPrevented){const k=j().filter(O=>O.focusable),ue=k.find(O=>O.active),Qe=k.find(O=>O.id===C),Je=[ue,Qe,...k].filter(Boolean).map(O=>O.ref.current);ye(Je,u)}}R.current=!1}),onBlur:P(t.onBlur,()=>y(!1))})})}),Se="RovingFocusGroupItem",Ne=l.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:s=!1,tabStopId:a,children:d,...m}=t,f=be(),x=a||f,u=gt(Se,n),i=u.currentTabStopId===x,c=ve(n),{onFocusableItemAdd:b,onFocusableItemRemove:g,currentTabStopId:C}=u;return l.useEffect(()=>{if(o)return b(),()=>g()},[o,b,g]),e.jsx(ne.ItemSlot,{scope:n,id:x,focusable:o,active:s,children:e.jsx(I.span,{tabIndex:i?0:-1,"data-orientation":u.orientation,...m,ref:r,onMouseDown:P(t.onMouseDown,p=>{o?u.onItemFocus(x):p.preventDefault()}),onFocus:P(t.onFocus,()=>u.onItemFocus(x)),onKeyDown:P(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const v=St(p,u.orientation,u.dir);if(v!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let w=c().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const j=w.indexOf(p.currentTarget);w=u.loop?Nt(w,j+1):w.slice(j+1)}setTimeout(()=>ye(w))}}),children:typeof d=="function"?d({isCurrentTabStop:i,hasTabStop:C!=null}):d})})});Ne.displayName=Se;var wt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jt(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function St(t,r,n){const o=jt(t.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return wt[o]}function ye(t,r=!1){const n=document.activeElement;for(const o of t)if(o===n||(o.focus({preventScroll:r}),document.activeElement!==n))return}function Nt(t,r){return t.map((n,o)=>t[(r+o)%t.length])}var yt=je,Ct=Ne,Z="Tabs",[Tt]=K(Z,[we]),Ce=we(),[Rt,le]=Tt(Z),Te=l.forwardRef((t,r)=>{const{__scopeTabs:n,value:o,onValueChange:s,defaultValue:a,orientation:d="horizontal",dir:m,activationMode:f="automatic",...x}=t,u=ae(m),[i,c]=ge({prop:o,onChange:s,defaultProp:a??"",caller:Z});return e.jsx(Rt,{scope:n,baseId:be(),value:i,onValueChange:c,orientation:d,dir:u,activationMode:f,children:e.jsx(I.div,{dir:u,"data-orientation":d,...x,ref:r})})});Te.displayName=Z;var Re="TabsList",Ee=l.forwardRef((t,r)=>{const{__scopeTabs:n,loop:o=!0,...s}=t,a=le(Re,n),d=Ce(n);return e.jsx(yt,{asChild:!0,...d,orientation:a.orientation,dir:a.dir,loop:o,children:e.jsx(I.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:r})})});Ee.displayName=Re;var Pe="TabsTrigger",Ie=l.forwardRef((t,r)=>{const{__scopeTabs:n,value:o,disabled:s=!1,...a}=t,d=le(Pe,n),m=Ce(n),f=ke(d.baseId,o),x=Me(d.baseId,o),u=o===d.value;return e.jsx(Ct,{asChild:!0,...m,focusable:!s,active:u,children:e.jsx(I.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":x,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...a,ref:r,onMouseDown:P(t.onMouseDown,i=>{!s&&i.button===0&&i.ctrlKey===!1?d.onValueChange(o):i.preventDefault()}),onKeyDown:P(t.onKeyDown,i=>{[" ","Enter"].includes(i.key)&&d.onValueChange(o)}),onFocus:P(t.onFocus,()=>{const i=d.activationMode!=="manual";!u&&!s&&i&&d.onValueChange(o)})})})});Ie.displayName=Pe;var Ae="TabsContent",_e=l.forwardRef((t,r)=>{const{__scopeTabs:n,value:o,forceMount:s,children:a,...d}=t,m=le(Ae,n),f=ke(m.baseId,o),x=Me(m.baseId,o),u=o===m.value,i=l.useRef(u);return l.useEffect(()=>{const c=requestAnimationFrame(()=>i.current=!1);return()=>cancelAnimationFrame(c)},[]),e.jsx(W,{present:s||u,children:({present:c})=>e.jsx(I.div,{"data-state":u?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":f,hidden:!c,id:x,tabIndex:0,...d,ref:r,style:{...t.style,animationDuration:i.current?"0s":void 0},children:c&&a})})});_e.displayName=Ae;function ke(t,r){return`${t}-trigger-${r}`}function Me(t,r){return`${t}-content-${r}`}var Et=Te,Pt=Ee,It=Ie,At=_e;function _t({className:t,...r}){return e.jsx(Et,{"data-slot":"tabs",className:N("flex flex-col gap-2",t),...r})}function kt({className:t,...r}){return e.jsx(Pt,{"data-slot":"tabs-list",className:N("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...r})}function te({className:t,...r}){return e.jsx(It,{"data-slot":"tabs-trigger",className:N("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function re({className:t,...r}){return e.jsx(At,{"data-slot":"tabs-content",className:N("flex-1 outline-none",t),...r})}/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dt=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,o)=>o?o.toUpperCase():n.toLowerCase()),fe=t=>{const r=Dt(t);return r.charAt(0).toUpperCase()+r.slice(1)},De=(...t)=>t.filter((r,n,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===n).join(" ").trim(),Lt=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ft={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=l.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:s="",children:a,iconNode:d,...m},f)=>l.createElement("svg",{ref:f,...Ft,width:r,height:r,stroke:t,strokeWidth:o?Number(n)*24/Number(r):n,className:De("lucide",s),...!a&&!Lt(m)&&{"aria-hidden":"true"},...m},[...d.map(([x,u])=>l.createElement(x,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=(t,r)=>{const n=l.forwardRef(({className:o,...s},a)=>l.createElement(Ot,{ref:a,iconNode:r,className:De(`lucide-${Mt(fe(t))}`,`lucide-${t}`,o),...s}));return n.displayName=fe(t),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wt=Bt("x",zt);function Ht({...t}){return e.jsx(et,{"data-slot":"dialog",...t})}function Vt({...t}){return e.jsx(ot,{"data-slot":"dialog-portal",...t})}function Ut({className:t,...r}){return e.jsx(st,{"data-slot":"dialog-overlay",className:N("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function $t({className:t,children:r,showCloseButton:n=!0,...o}){return e.jsxs(Vt,{"data-slot":"dialog-portal",children:[e.jsx(Ut,{}),e.jsxs(tt,{"data-slot":"dialog-content",className:N("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...o,children:[r,n&&e.jsxs(rt,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Wt,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Yt({className:t,...r}){return e.jsx("div",{"data-slot":"dialog-header",className:N("flex flex-col gap-2 text-center sm:text-left",t),...r})}function Gt({className:t,...r}){return e.jsx("div",{"data-slot":"dialog-footer",className:N("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r})}function Xt({className:t,...r}){return e.jsx(nt,{"data-slot":"dialog-title",className:N("text-lg leading-none font-semibold",t),...r})}function Kt({className:t,...r}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:N("w-full caption-bottom text-sm",t),...r})})}function qt({className:t,...r}){return e.jsx("thead",{"data-slot":"table-header",className:N("[&_tr]:border-b",t),...r})}function Zt({className:t,...r}){return e.jsx("tbody",{"data-slot":"table-body",className:N("[&_tr:last-child]:border-0",t),...r})}function pe({className:t,...r}){return e.jsx("tr",{"data-slot":"table-row",className:N("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function U({className:t,...r}){return e.jsx("th",{"data-slot":"table-head",className:N("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function $({className:t,...r}){return e.jsx("td",{"data-slot":"table-cell",className:N("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function Y({className:t,...r}){return e.jsx("div",{"data-slot":"card",className:N("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}const Qt=lt("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function M({className:t,variant:r,asChild:n=!1,...o}){const s=n?at:"span";return e.jsx(s,{"data-slot":"badge",className:N(Qt({variant:r}),t),...o})}function Jt(t,[r,n]){return Math.min(n,Math.max(r,t))}function er(t,r){return l.useReducer((n,o)=>r[n][o]??n,t)}var ie="ScrollArea",[Le]=K(ie),[tr,A]=Le(ie),Fe=l.forwardRef((t,r)=>{const{__scopeScrollArea:n,type:o="hover",dir:s,scrollHideDelay:a=600,...d}=t,[m,f]=l.useState(null),[x,u]=l.useState(null),[i,c]=l.useState(null),[b,g]=l.useState(null),[C,p]=l.useState(null),[v,y]=l.useState(0),[w,j]=l.useState(0),[R,E]=l.useState(!1),[_,h]=l.useState(!1),S=L(r,k=>f(k)),T=ae(s);return e.jsx(tr,{scope:n,type:o,dir:T,scrollHideDelay:a,scrollArea:m,viewport:x,onViewportChange:u,content:i,onContentChange:c,scrollbarX:b,onScrollbarXChange:g,scrollbarXEnabled:R,onScrollbarXEnabledChange:E,scrollbarY:C,onScrollbarYChange:p,scrollbarYEnabled:_,onScrollbarYEnabledChange:h,onCornerWidthChange:y,onCornerHeightChange:j,children:e.jsx(I.div,{dir:T,...d,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});Fe.displayName=ie;var Oe="ScrollAreaViewport",Be=l.forwardRef((t,r)=>{const{__scopeScrollArea:n,children:o,nonce:s,...a}=t,d=A(Oe,n),m=l.useRef(null),f=L(r,m,d.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(I.div,{"data-radix-scroll-area-viewport":"",...a,ref:f,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});Be.displayName=Oe;var D="ScrollAreaScrollbar",ze=l.forwardRef((t,r)=>{const{forceMount:n,...o}=t,s=A(D,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:d}=s,m=t.orientation==="horizontal";return l.useEffect(()=>(m?a(!0):d(!0),()=>{m?a(!1):d(!1)}),[m,a,d]),s.type==="hover"?e.jsx(rr,{...o,ref:r,forceMount:n}):s.type==="scroll"?e.jsx(nr,{...o,ref:r,forceMount:n}):s.type==="auto"?e.jsx(We,{...o,ref:r,forceMount:n}):s.type==="always"?e.jsx(ce,{...o,ref:r}):null});ze.displayName=D;var rr=l.forwardRef((t,r)=>{const{forceMount:n,...o}=t,s=A(D,t.__scopeScrollArea),[a,d]=l.useState(!1);return l.useEffect(()=>{const m=s.scrollArea;let f=0;if(m){const x=()=>{window.clearTimeout(f),d(!0)},u=()=>{f=window.setTimeout(()=>d(!1),s.scrollHideDelay)};return m.addEventListener("pointerenter",x),m.addEventListener("pointerleave",u),()=>{window.clearTimeout(f),m.removeEventListener("pointerenter",x),m.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),e.jsx(W,{present:n||a,children:e.jsx(We,{"data-state":a?"visible":"hidden",...o,ref:r})})}),nr=l.forwardRef((t,r)=>{const{forceMount:n,...o}=t,s=A(D,t.__scopeScrollArea),a=t.orientation==="horizontal",d=J(()=>f("SCROLL_END"),100),[m,f]=er("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(m==="idle"){const x=window.setTimeout(()=>f("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(x)}},[m,s.scrollHideDelay,f]),l.useEffect(()=>{const x=s.viewport,u=a?"scrollLeft":"scrollTop";if(x){let i=x[u];const c=()=>{const b=x[u];i!==b&&(f("SCROLL"),d()),i=b};return x.addEventListener("scroll",c),()=>x.removeEventListener("scroll",c)}},[s.viewport,a,f,d]),e.jsx(W,{present:n||m!=="hidden",children:e.jsx(ce,{"data-state":m==="hidden"?"hidden":"visible",...o,ref:r,onPointerEnter:P(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:P(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),We=l.forwardRef((t,r)=>{const n=A(D,t.__scopeScrollArea),{forceMount:o,...s}=t,[a,d]=l.useState(!1),m=t.orientation==="horizontal",f=J(()=>{if(n.viewport){const x=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;d(m?x:u)}},10);return z(n.viewport,f),z(n.content,f),e.jsx(W,{present:o||a,children:e.jsx(ce,{"data-state":a?"visible":"hidden",...s,ref:r})})}),ce=l.forwardRef((t,r)=>{const{orientation:n="vertical",...o}=t,s=A(D,t.__scopeScrollArea),a=l.useRef(null),d=l.useRef(0),[m,f]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),x=Ye(m.viewport,m.content),u={...o,sizes:m,onSizesChange:f,hasThumb:x>0&&x<1,onThumbChange:c=>a.current=c,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:c=>d.current=c};function i(c,b){return cr(c,d.current,m,b)}return n==="horizontal"?e.jsx(or,{...u,ref:r,onThumbPositionChange:()=>{if(s.viewport&&a.current){const c=s.viewport.scrollLeft,b=xe(c,m,s.dir);a.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:c=>{s.viewport&&(s.viewport.scrollLeft=c)},onDragScroll:c=>{s.viewport&&(s.viewport.scrollLeft=i(c,s.dir))}}):n==="vertical"?e.jsx(sr,{...u,ref:r,onThumbPositionChange:()=>{if(s.viewport&&a.current){const c=s.viewport.scrollTop,b=xe(c,m);a.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:c=>{s.viewport&&(s.viewport.scrollTop=c)},onDragScroll:c=>{s.viewport&&(s.viewport.scrollTop=i(c))}}):null}),or=l.forwardRef((t,r)=>{const{sizes:n,onSizesChange:o,...s}=t,a=A(D,t.__scopeScrollArea),[d,m]=l.useState(),f=l.useRef(null),x=L(r,f,a.onScrollbarXChange);return l.useEffect(()=>{f.current&&m(getComputedStyle(f.current))},[f]),e.jsx(Ve,{"data-orientation":"horizontal",...s,ref:x,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Q(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,i)=>{if(a.viewport){const c=a.viewport.scrollLeft+u.deltaX;t.onWheelScroll(c),Xe(c,i)&&u.preventDefault()}},onResize:()=>{f.current&&a.viewport&&d&&o({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:X(d.paddingLeft),paddingEnd:X(d.paddingRight)}})}})}),sr=l.forwardRef((t,r)=>{const{sizes:n,onSizesChange:o,...s}=t,a=A(D,t.__scopeScrollArea),[d,m]=l.useState(),f=l.useRef(null),x=L(r,f,a.onScrollbarYChange);return l.useEffect(()=>{f.current&&m(getComputedStyle(f.current))},[f]),e.jsx(Ve,{"data-orientation":"vertical",...s,ref:x,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Q(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,i)=>{if(a.viewport){const c=a.viewport.scrollTop+u.deltaY;t.onWheelScroll(c),Xe(c,i)&&u.preventDefault()}},onResize:()=>{f.current&&a.viewport&&d&&o({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:X(d.paddingTop),paddingEnd:X(d.paddingBottom)}})}})}),[ar,He]=Le(D),Ve=l.forwardRef((t,r)=>{const{__scopeScrollArea:n,sizes:o,hasThumb:s,onThumbChange:a,onThumbPointerUp:d,onThumbPointerDown:m,onThumbPositionChange:f,onDragScroll:x,onWheelScroll:u,onResize:i,...c}=t,b=A(D,n),[g,C]=l.useState(null),p=L(r,S=>C(S)),v=l.useRef(null),y=l.useRef(""),w=b.viewport,j=o.content-o.viewport,R=F(u),E=F(f),_=J(i,10);function h(S){if(v.current){const T=S.clientX-v.current.left,k=S.clientY-v.current.top;x({x:T,y:k})}}return l.useEffect(()=>{const S=T=>{const k=T.target;g?.contains(k)&&R(T,j)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[w,g,j,R]),l.useEffect(E,[o,E]),z(g,_),z(b.content,_),e.jsx(ar,{scope:n,scrollbar:g,hasThumb:s,onThumbChange:F(a),onThumbPointerUp:F(d),onThumbPositionChange:E,onThumbPointerDown:F(m),children:e.jsx(I.div,{...c,ref:p,style:{position:"absolute",...c.style},onPointerDown:P(t.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),v.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),h(S))}),onPointerMove:P(t.onPointerMove,h),onPointerUp:P(t.onPointerUp,S=>{const T=S.target;T.hasPointerCapture(S.pointerId)&&T.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=y.current,b.viewport&&(b.viewport.style.scrollBehavior=""),v.current=null})})})}),G="ScrollAreaThumb",Ue=l.forwardRef((t,r)=>{const{forceMount:n,...o}=t,s=He(G,t.__scopeScrollArea);return e.jsx(W,{present:n||s.hasThumb,children:e.jsx(lr,{ref:r,...o})})}),lr=l.forwardRef((t,r)=>{const{__scopeScrollArea:n,style:o,...s}=t,a=A(G,n),d=He(G,n),{onThumbPositionChange:m}=d,f=L(r,i=>d.onThumbChange(i)),x=l.useRef(void 0),u=J(()=>{x.current&&(x.current(),x.current=void 0)},100);return l.useEffect(()=>{const i=a.viewport;if(i){const c=()=>{if(u(),!x.current){const b=dr(i,m);x.current=b,m()}};return m(),i.addEventListener("scroll",c),()=>i.removeEventListener("scroll",c)}},[a.viewport,u,m]),e.jsx(I.div,{"data-state":d.hasThumb?"visible":"hidden",...s,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:P(t.onPointerDownCapture,i=>{const b=i.target.getBoundingClientRect(),g=i.clientX-b.left,C=i.clientY-b.top;d.onThumbPointerDown({x:g,y:C})}),onPointerUp:P(t.onPointerUp,d.onThumbPointerUp)})});Ue.displayName=G;var de="ScrollAreaCorner",$e=l.forwardRef((t,r)=>{const n=A(de,t.__scopeScrollArea),o=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&o?e.jsx(ir,{...t,ref:r}):null});$e.displayName=de;var ir=l.forwardRef((t,r)=>{const{__scopeScrollArea:n,...o}=t,s=A(de,n),[a,d]=l.useState(0),[m,f]=l.useState(0),x=!!(a&&m);return z(s.scrollbarX,()=>{const u=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(u),f(u)}),z(s.scrollbarY,()=>{const u=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(u),d(u)}),x?e.jsx(I.div,{...o,ref:r,style:{width:a,height:m,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function X(t){return t?parseInt(t,10):0}function Ye(t,r){const n=t/r;return isNaN(n)?0:n}function Q(t){const r=Ye(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=(t.scrollbar.size-n)*r;return Math.max(o,18)}function cr(t,r,n,o="ltr"){const s=Q(n),a=s/2,d=r||a,m=s-d,f=n.scrollbar.paddingStart+d,x=n.scrollbar.size-n.scrollbar.paddingEnd-m,u=n.content-n.viewport,i=o==="ltr"?[0,u]:[u*-1,0];return Ge([f,x],i)(t)}function xe(t,r,n="ltr"){const o=Q(r),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,a=r.scrollbar.size-s,d=r.content-r.viewport,m=a-o,f=n==="ltr"?[0,d]:[d*-1,0],x=Jt(t,f);return Ge([0,d],[0,m])(x)}function Ge(t,r){return n=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const o=(r[1]-r[0])/(t[1]-t[0]);return r[0]+o*(n-t[0])}}function Xe(t,r){return t>0&&t<r}var dr=(t,r=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},o=0;return(function s(){const a={left:t.scrollLeft,top:t.scrollTop},d=n.left!==a.left,m=n.top!==a.top;(d||m)&&r(),n=a,o=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(o)};function J(t,r){const n=F(t),o=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(o.current),[]),l.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(n,r)},[n,r])}function z(t,r){const n=F(r);it(()=>{let o=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(o),s.unobserve(t)}}},[t,n])}var ur=Fe,mr=Be,fr=$e;function Ke({className:t,children:r,...n}){return e.jsxs(ur,{"data-slot":"scroll-area",className:N("relative",t),...n,children:[e.jsx(mr,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),e.jsx(pr,{}),e.jsx(fr,{})]})}function pr({className:t,orientation:r="vertical",...n}){return e.jsx(ze,{"data-slot":"scroll-area-scrollbar",orientation:r,className:N("flex touch-none p-px transition-colors select-none",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:e.jsx(Ue,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var xr="Separator",he="horizontal",hr=["horizontal","vertical"],qe=l.forwardRef((t,r)=>{const{decorative:n,orientation:o=he,...s}=t,a=br(o)?o:he,m=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return e.jsx(I.div,{"data-orientation":a,...m,...s,ref:r})});qe.displayName=xr;function br(t){return hr.includes(t)}var gr=qe;function oe({className:t,orientation:r="horizontal",decorative:n=!0,...o}){return e.jsx(gr,{"data-slot":"separator",decorative:n,orientation:r,className:N("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...o})}function se(t){const r=new Map;t.forEach(o=>{const s=o.round||1;r.has(s)||r.set(s,[]),r.get(s).push(o)});const n=[];return r.forEach((o,s)=>{n.push({round:s,matches:o.sort((a,d)=>(a.matchNumber||0)-(d.matchNumber||0))})}),n.sort((o,s)=>o.round-s.round)}function Ze(t,r){return t===r?"Finals":t===r-1?"Semifinals":t===r-2?"Quarterfinals":`Round ${t}`}function vr({bracket:t,thirdPlaceMatch:r,participants:n,onMatchClick:o}){const{t:s}=q(),a=se(t),d=a.length,m=l.useMemo(()=>new Map(n.map(c=>[c.id,c])),[n]),f=c=>m.get(c)?.name||"TBD",x=c=>m.get(c)?.seed,u=c=>c.status==="completed"?"border-green-500 bg-green-50":c.participantIds.length===2?"border-blue-500 hover:border-blue-600 cursor-pointer":"border-gray-300",i=(c,b)=>c.result?.winnerId===b;return e.jsx("div",{className:"w-full h-full",children:e.jsx(Ke,{className:"w-full h-[calc(100vh-300px)] md:h-[calc(100vh-280px)]",children:e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsx("div",{className:"md:hidden mb-4 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"â† Scroll horizontally to view all rounds â†’"})}),e.jsx("div",{className:"flex gap-4 md:gap-8 min-w-max pb-4",children:a.map((c,b)=>e.jsxs("div",{className:"flex flex-col justify-around min-w-[200px] md:min-w-[240px]",children:[e.jsx("div",{className:"mb-4 text-center",children:e.jsx(M,{variant:"outline",className:"text-xs md:text-sm font-semibold",children:Ze(c.round,d)})}),e.jsx("div",{className:"flex flex-col justify-around gap-3 md:gap-4 flex-1",children:c.matches.map((g,C)=>e.jsxs("div",{className:"relative",style:{marginTop:b>0?`${C*20}px`:"0"},children:[e.jsxs(Y,{className:N("p-2 md:p-3 transition-all touch-manipulation",u(g)),onClick:()=>{g.participantIds.length===2&&g.status!=="completed"&&o(g)},children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",g.matchNumber]}),e.jsx("div",{className:"space-y-2",children:g.participantIds.length===0?e.jsx("div",{className:"text-sm text-gray-400 italic",children:"Waiting..."}):g.participantIds.length===1?e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:f(g.participantIds[0])}),e.jsx(M,{variant:"secondary",className:"ml-2 text-xs",children:"BYE"})]}):g.participantIds.map(p=>{const v=x(p),y=i(g,p);return e.jsxs("div",{className:N("flex items-center justify-between text-sm p-2 rounded",y&&"bg-green-100 font-semibold",!y&&g.status==="completed"&&"opacity-50"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsxs("span",{className:"text-xs text-gray-500 font-mono w-6",children:["(",v,")"]}),e.jsx("span",{className:N(y&&"font-semibold"),children:f(p)})]}),y&&e.jsx("span",{className:"text-green-600 font-bold",children:"âœ“"})]},p)})})]}),b<a.length-1&&e.jsx("div",{className:"absolute top-1/2 -right-4 md:-right-8 w-4 md:w-8 h-0.5 bg-gray-300"})]},g.id))})]},c.round))}),r&&e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"my-8"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"mb-4 text-center",children:e.jsx(M,{variant:"outline",className:"text-sm font-semibold",children:"Third Place Match"})}),e.jsxs(Y,{className:N("p-3 transition-all",u(r)),onClick:()=>{r.participantIds.length===2&&r.status!=="completed"&&o(r)},children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",r.matchNumber]}),e.jsx("div",{className:"space-y-2",children:r.participantIds.map(c=>{const b=x(c),g=i(r,c);return e.jsxs("div",{className:N("flex items-center justify-between text-sm p-2 rounded",g&&"bg-green-100 font-semibold",!g&&r.status==="completed"&&"opacity-50"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[b&&e.jsxs("span",{className:"text-xs text-gray-500 font-mono w-6",children:["(",b,")"]}),e.jsx("span",{className:N(g&&"font-semibold"),children:f(c)})]}),g&&e.jsx("span",{className:"text-green-600 font-bold",children:"âœ“"})]},c)})})]})]})]})]})})})}function wr({winnersBracket:t,losersBracket:r,grandFinal:n,grandFinalReset:o,participants:s,onMatchClick:a}){const{t:d}=q(),m=se(t),f=se(r),x=l.useMemo(()=>new Map(s.map(p=>[p.id,p])),[s]),u=p=>x.get(p)?.name||"TBD",i=p=>x.get(p)?.seed,c=p=>p.status==="completed"?"border-green-500 bg-green-50":p.participantIds.length===2?"border-blue-500 hover:border-blue-600 cursor-pointer":"border-gray-300",b=(p,v)=>p.result?.winnerId===v,g=(p,v=!0)=>e.jsxs(Y,{className:N("p-2 md:p-3 transition-all touch-manipulation",c(p)),onClick:()=>{p.participantIds.length===2&&p.status!=="completed"&&a(p)},children:[v&&e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",p.matchNumber]}),e.jsx("div",{className:"space-y-2",children:p.participantIds.length===0?e.jsx("div",{className:"text-sm text-gray-400 italic",children:"Waiting..."}):p.participantIds.length===1?e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:u(p.participantIds[0])}),e.jsx(M,{variant:"secondary",className:"ml-2 text-xs",children:"BYE"})]}):p.participantIds.map(y=>{const w=i(y),j=b(p,y);return e.jsxs("div",{className:N("flex items-center justify-between text-sm p-2 rounded",j&&"bg-green-100 font-semibold",!j&&p.status==="completed"&&"opacity-50"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[w&&e.jsxs("span",{className:"text-xs text-gray-500 font-mono w-6",children:["(",w,")"]}),e.jsx("span",{className:N(j&&"font-semibold"),children:u(y)})]}),j&&e.jsx("span",{className:"text-green-600 font-bold",children:"âœ“"})]},y)})})]}),C=(p,v,y="default")=>e.jsxs("div",{className:"mb-6 md:mb-8",children:[e.jsx("div",{className:"mb-4",children:e.jsx(M,{variant:y,className:"text-sm md:text-base font-bold px-3 md:px-4 py-1",children:v})}),e.jsx("div",{className:"flex gap-4 md:gap-8 min-w-max pb-4",children:p.map((w,j)=>e.jsxs("div",{className:"flex flex-col justify-around min-w-[200px] md:min-w-[240px]",children:[e.jsx("div",{className:"mb-4 text-center",children:e.jsx(M,{variant:"outline",className:"text-xs md:text-sm font-semibold",children:Ze(w.round,p.length)})}),e.jsx("div",{className:"flex flex-col justify-around gap-3 md:gap-4 flex-1",children:w.matches.map((R,E)=>e.jsxs("div",{className:"relative",style:{marginTop:j>0?`${E*20}px`:"0"},children:[g(R),j<p.length-1&&e.jsx("div",{className:"absolute top-1/2 -right-4 md:-right-8 w-4 md:w-8 h-0.5 bg-gray-300"})]},R.id))})]},w.round))})]});return e.jsx("div",{className:"w-full h-full",children:e.jsx(Ke,{className:"w-full h-[calc(100vh-300px)] md:h-[calc(100vh-280px)]",children:e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsx("div",{className:"md:hidden mb-4 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"â† Scroll horizontally to view all rounds â†’"})}),m.length>0&&C(m,"Winners Bracket","default"),f.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"my-8"}),C(f,"Losers Bracket","secondary")]}),n&&e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"my-8"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"mb-4 text-center",children:e.jsx(M,{className:"text-base font-bold px-4 py-1 bg-yellow-500 hover:bg-yellow-600",children:"ðŸ† Grand Finals"})}),g(n,!1),o&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"mb-2 text-center",children:e.jsx(M,{variant:"outline",className:"text-sm font-semibold",children:"Grand Finals - Reset"})}),g(o,!1)]})]})]})]})})})}function jr({matches:t,participants:r,onMatchClick:n,groupByRounds:o=!1,showRoundHeaders:s=!1}){const{t:a}=q(),d=l.useMemo(()=>new Map(r.map(i=>[i.id,i])),[r]),m=i=>d.get(i)?.name||"Unknown",f=i=>i.status==="completed"?"border-green-500 bg-green-50":i.participantIds.length>=2?"border-blue-500 hover:border-blue-600 cursor-pointer":"border-gray-300",x=(i,c)=>i.result?.winnerId===c,u=i=>e.jsxs(Y,{className:N("p-3 md:p-4 transition-all touch-manipulation",f(i)),onClick:()=>{i.participantIds.length>=2&&i.status!=="completed"&&n(i)},children:[i.matchNumber&&e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Match #",i.matchNumber]}),i.participantIds.length===0?e.jsx("div",{className:"text-sm text-gray-400 italic",children:"Waiting for participants..."}):i.participantIds.length===1?e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:m(i.participantIds[0])}),e.jsx(M,{variant:"secondary",className:"ml-2 text-xs",children:a("view.bye")})]}):e.jsx("div",{className:"space-y-2",children:i.participantIds.map(c=>{const b=x(i,c);return e.jsxs("div",{className:N("flex items-center justify-between text-sm p-2 rounded",b&&"bg-green-100 font-semibold",!b&&i.status==="completed"&&"opacity-50"),children:[e.jsx("span",{className:N(b&&"font-semibold"),children:m(c)}),b&&e.jsx("span",{className:"text-green-600 font-bold",children:"âœ“"})]},c)})}),i.result?.score&&e.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["Score: ",i.result.score.participant1Score," - ",i.result.score.participant2Score]})]},i.id);if(o&&s){const i=new Map;t.forEach(b=>{const g=b.round||1;i.has(g)||i.set(g,[]),i.get(g).push(b)});const c=Array.from(i.entries()).sort((b,g)=>b[0]-g[0]);return e.jsx("div",{className:"space-y-6",children:c.map(([b,g])=>e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(M,{variant:"outline",className:"text-sm font-semibold",children:a("view.round",{number:b})}),e.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",g.filter(C=>C.status==="completed").length,"/",g.length," completed)"]})]}),e.jsx("div",{className:"space-y-3",children:g.map(u)})]},b))})}return e.jsx("div",{className:"space-y-3",children:t.length===0?e.jsx("p",{className:"text-sm text-gray-500",children:a("view.noMatches")}):t.map(u)})}function Tr({tournamentId:t,onBack:r}){const{t:n}=q(),[o,s]=l.useState(null),[a,d]=l.useState(null),[m,f]=l.useState([]),[x,u]=l.useState([]),[i,c]=l.useState(null),[b,g]=l.useState(!0),[C,p]=l.useState(null);l.useEffect(()=>{try{const h=ct(t);if(!h){p(n("view.tournamentNotFound"));return}const S=ut(h);s(S),d(h),f(S.getCurrentMatches()),u(S.getStandings()),g(!1)}catch(h){p(h instanceof Error?h.message:n("view.loadError")),g(!1)}},[t,n]);const v=()=>{if(!o)return;f(o.getCurrentMatches()),u(o.getStandings());const h=o.export();dt(h),d(h)},y=(h,S)=>{if(o)try{o.recordMatchResult(h,S),v(),c(null)}catch(T){alert(T instanceof Error?T.message:n("view.resultError"))}},w=h=>{h.participantIds.length===2&&h.status!=="completed"&&c(h)},j=h=>h==="single-elimination"||h==="double-elimination",R=h=>h==="round-robin"||h==="swiss"||h==="free-for-all";if(b)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n("view.loadingTournament")})]})});if(C||!o)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600",children:C||n("view.tournamentNotFound")}),e.jsx(V,{onClick:r,className:"mt-4",children:n("view.backToDashboard")})]})});const E=h=>({"single-elimination":n("tournamentTypes.singleElimination"),"double-elimination":n("tournamentTypes.doubleElimination"),"round-robin":n("tournamentTypes.roundRobin"),swiss:n("tournamentTypes.swiss"),"free-for-all":n("tournamentTypes.freeForAll")})[h]||h,_=h=>o.getParticipants().find(T=>T.id===h)?.name||"Unknown";return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(V,{variant:"ghost",onClick:r,className:"mb-4 -ml-4",children:[e.jsx("svg",{className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),n("view.backToDashboard")]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:o.getName()}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E(o.getType())})]}),e.jsx("div",{children:o.isComplete()?e.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-green-100 text-green-800",children:n("status.completed")}):e.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-blue-100 text-blue-800",children:n("status.inProgress")})})]})]}),e.jsxs(_t,{defaultValue:j(o.getType())?"bracket":"matches",className:"w-full",children:[e.jsxs(kt,{className:"grid w-full max-w-md",style:{gridTemplateColumns:j(o.getType())?"1fr 1fr 1fr":"1fr 1fr"},children:[j(o.getType())&&e.jsx(te,{value:"bracket",children:n("view.bracket")||"Bracket"}),e.jsx(te,{value:"matches",children:n("view.matches")||"Matches"}),e.jsx(te,{value:"standings",children:n("view.standings")})]}),j(o.getType())&&e.jsx(re,{value:"bracket",className:"mt-6",children:e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[o.getType()==="single-elimination"&&a?.type==="single-elimination"&&e.jsx(vr,{bracket:a.bracket,thirdPlaceMatch:a.thirdPlaceMatch,participants:o.getParticipants(),onMatchClick:w}),o.getType()==="double-elimination"&&a?.type==="double-elimination"&&e.jsx(wr,{winnersBracket:a.winnersBracket,losersBracket:a.losersBracket,grandFinal:a.grandFinal,grandFinalReset:a.grandFinalReset,participants:o.getParticipants(),onMatchClick:w})]})}),e.jsx(re,{value:"matches",className:"mt-6",children:e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n("view.currentMatches")}),e.jsx(jr,{matches:m,participants:o.getParticipants(),onMatchClick:w,groupByRounds:R(o.getType()),showRoundHeaders:R(o.getType())})]})}),e.jsx(re,{value:"standings",className:"mt-6",children:e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n("view.standings")}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Kt,{children:[e.jsx(qt,{children:e.jsxs(pe,{children:[e.jsx(U,{className:"w-20",children:n("view.rank")}),e.jsx(U,{children:n("view.participant")}),e.jsx(U,{className:"w-32",children:n("view.wlt")}),x.some(h=>h.points!==void 0)&&e.jsx(U,{className:"w-24 text-right",children:n("view.points")})]})}),e.jsx(Zt,{children:x.map(h=>e.jsxs(pe,{children:[e.jsx($,{className:"font-medium",children:h.rank||"-"}),e.jsxs($,{children:[h.participantName,h.isEliminated&&e.jsx("span",{className:"ml-2 text-xs text-red-600",children:n("view.eliminated")})]}),e.jsxs($,{children:[h.wins,"-",h.losses,"-",h.ties]}),x.some(S=>S.points!==void 0)&&e.jsx($,{className:"text-right",children:h.points||0})]},h.participantId))})]})})]})})]}),e.jsx(Ht,{open:!!i,onOpenChange:()=>c(null),children:e.jsxs($t,{className:"sm:max-w-md",children:[e.jsx(Yt,{children:e.jsx(Xt,{children:n("view.recordResult")})}),e.jsx("div",{className:"space-y-3",children:i?.participantIds.map(h=>e.jsx(V,{variant:"outline",onClick:()=>{const S={winnerId:h,loserId:i.participantIds.find(T=>T!==h)};y(i.id,S)},className:"w-full h-auto p-4 justify-start hover:border-green-500 hover:bg-green-50",children:e.jsxs("div",{className:"flex items-center w-full",children:[e.jsx("span",{className:"font-medium text-gray-900",children:_(h)}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:n("common.wins")})]})},h))}),e.jsx(Gt,{children:e.jsx(V,{variant:"outline",onClick:()=>c(null),children:n("common.cancel")})})]})})]})})}export{Tr as default};
